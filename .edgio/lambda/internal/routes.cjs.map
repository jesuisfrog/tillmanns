{
  "version": 3,
  "sources": ["../../../node_modules/@edgio/core/constants.js", "../../../node_modules/@edgio/core/source.js", "../../../node_modules/slash/index.js", "../../../node_modules/@edgio/core/utils/nonWebpackRequire.js", "../../../node_modules/@edgio/core/utils/index.js", "../../../node_modules/@edgio/core/utils/requireInternal.js", "../../../node_modules/@edgio/core/router/RouteCriteria.js", "../../../node_modules/@edgio/core/router/exact.js", "../../../node_modules/@edgio/core/utils/regExpEscape.js", "../../../node_modules/@edgio/core/utils/toEdgeRegex.js", "../../../node_modules/path-to-regexp/src/index.ts", "../../../node_modules/@edgio/core/errors/InvalidRoutePatternError.js", "../../../node_modules/@edgio/core/utils/toPathRegexp.js", "../../../node_modules/@edgio/core/router/converters/toCondition.js", "../../../node_modules/@edgio/core/router/createMatchers.js", "../../../node_modules/@edgio/core/router/converters/toRule.js", "../../../node_modules/@edgio/core/utils/regexUtils.js", "../../../node_modules/@edgio/core/utils/bindParams.js", "../../../node_modules/@edgio/core/runtime/toRegExp.js", "../../../node_modules/@edgio/core/router/path.js", "../../../node_modules/@edgio/core/environment.js", "../../../node_modules/@edgio/core/origins.js", "../../../node_modules/@edgio/core/router/RedirectOptions.js", "../../../node_modules/@edgio/core/log.js", "../../../node_modules/@edgio/core/errors/BackendFetchError.js", "../../../node_modules/@edgio/core/runtime/random.js", "../../../node_modules/@edgio/core/utils/mergeQueryString.js", "../../../node_modules/@edgio/core/runtime/Backend.js", "../../../node_modules/@edgio/core/runtime/Origin.js", "../../../node_modules/@edgio/core/runtime/OriginFetcher.js", "../../../node_modules/@edgio/core/utils/isEmpty.js", "../../../node_modules/@edgio/core/router/CacheManifersRegexp.js", "../../../node_modules/@edgio/core/utils/universalRouteUtils.js", "../../../node_modules/@edgio/core/router/ParamsExtractor.js", "../../../node_modules/has-symbols/shams.js", "../../../node_modules/has-symbols/index.js", "../../../node_modules/has-proto/index.js", "../../../node_modules/function-bind/implementation.js", "../../../node_modules/function-bind/index.js", "../../../node_modules/has/src/index.js", "../../../node_modules/get-intrinsic/index.js", "../../../node_modules/call-bind/index.js", "../../../node_modules/call-bind/callBound.js", "../../../node_modules/object-inspect/util.inspect.js", "../../../node_modules/object-inspect/index.js", "../../../node_modules/side-channel/index.js", "../../../node_modules/qs/lib/formats.js", "../../../node_modules/qs/lib/utils.js", "../../../node_modules/qs/lib/stringify.js", "../../../node_modules/qs/lib/parse.js", "../../../node_modules/qs/lib/index.js", "../../../node_modules/@edgio/core/utils/cookieUtils.js", "../../../node_modules/@edgio/core/router/converters/toTimeInterval.js", "../../../node_modules/@edgio/core/router/RouteHelper.js", "../../../node_modules/@edgio/core/router/converters/toFeature.js", "../../../node_modules/@edgio/core/deploy/paths.js", "../../../node_modules/@edgio/core/config.js", "../../../node_modules/@edgio/core/utils/Tasks.js", "../../../node_modules/@edgio/core/router/PreloadRequests.js", "../../../node_modules/@edgio/core/router/Router.js", "../../../node_modules/@edgio/devtools/addBuiltInRoutes.js", "../../../node_modules/@edgio/core/router/addBuildInRoutes.js", "../../../node_modules/@edgio/core/router/EdgioRoutes.js", "../../../node_modules/@edgio/core/router/index.js", "../../../node_modules/@edgio/core/runtime/LambdaRequest.js", "../../../node_modules/@edgio/core/runtime/LambdaResponse.js", "../../../node_modules/@edgio/core/index.js", "../../../routes.js"],
  "sourcesContent": ["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FAR_FUTURE_TTL = exports.DEFLATE_ENCODING = exports.GZIP_ENCODING = exports.BROTLI_ENCODING = exports.IS_BROWSER = exports.EDGIO_IMAGE_OPTIMIZER_PATH = exports.HOSTS_NOINDEX_PERMALINK_REGEX = exports.ROUTES_NOINDEX_GROUP = exports.ROUTES_CATCH_GROUP = exports.ROUTES_FALLBACK = exports.METHOD_QUERY_PARAM = exports.POST_BODY_QUERY_PARAM = exports.HEAD_QUERY_PARAM = exports.DEVTOOLS_PREFETCH_QUERY_PARAM = exports.PREFETCH_TTL_PARAM = exports.PREFETCH_QUERY_PARAM = exports.THROTTLED_QUERY_PARAM = exports.CACHING_DEBUG_CACHEABLE = exports.CACHING_DEBUG_STATUS = exports.CACHING_DEBUG_HEADERS = exports.CACHEABLE_METHODS = exports.CACHING_STATUS = exports.HTTP_HEADERS = exports.HTTP_METHODS = exports.JS_BACKEND_HOSTNAME = exports.BACKENDS = exports.ACTIONS = exports.EDGIO_UNCACHED_PREFETCH_STATUS = exports.EDGIO_TOO_MANY_HEADERS_STATUS_CODE = exports.EDGIO_MAX_USER_HEADERS_ALLOWED = exports.EDGIO_SERVERLESS_HINTS = exports.EDGIO_SERVERLESS_HINT_HEADER = exports.EDGIO_HEADERS_PREFIX = exports.EDGIO_DEPLOYMENT_TYPE_AWS = exports.EDGIO_EDGE_FUNCTION_ENV_VARIABLES = exports.EDGIO_ENV_VARIABLES = exports.EDGIO_ASSET_ALIASES_FILE = exports.EDGIO_CONFIG_FILE = void 0;\n/**\n * Edgio configuration file name.\n */\nexports.EDGIO_CONFIG_FILE = 'edgio.config.js';\n/**\n * Indicate asset files that need to be uploaded under a different\n * bucket key.\n * It contains values like\n * {\n *   '/posts' => '/posts/index.html'\n * }\n */\nexports.EDGIO_ASSET_ALIASES_FILE = 'asset-aliases.json';\n/**\n * Environment variables used by Edgio.\n */\nexports.EDGIO_ENV_VARIABLES = {\n    /**\n     * Edgio configuration environment variable key.\n     */\n    config: 'EDGIO_CONFIG',\n    /**\n     * Edgio internal configuration environment variable key.\n     */\n    internalConfig: 'EDGIO_INTERNAL_CONFIG',\n    /**\n     * Indicates whether code is running locally or in the cloud.\n     * @private\n     */\n    deploymentType: 'EDGIO_DEPLOYMENT_TYPE',\n    /**\n     * Allows Edgio development team to easily override Edgio version\n     * during development process.\n     * @private\n     */\n    versionOverride: 'EDGIO_VERSION_OVERRIDE',\n    /**\n     * Indicates that we are running a production build.\n     * @private\n     */\n    productionBuild: 'EDGIO_PRODUCTION_BUILD',\n    /**\n     * Indicates that we are running app locally.\n     * @private\n     */\n    local: 'EDGIO_LOCAL',\n    /**\n     * Turns on the cache when set to 'true'.\n     * @private\n     */\n    cache: 'EDGIO_CACHE',\n};\n/**\n * Environment variables used by Edgio Edge Functions.\n */\nexports.EDGIO_EDGE_FUNCTION_ENV_VARIABLES = {\n    /**\n     * The path to the edge function within the project.\n     */\n    path: '__EDGE_FUNCTION_PATH__',\n    /**\n     * The edge function's QuickJS bytecode (base64 encoded).\n     */\n    quickjsBytecodeBase64: '__EDGE_FUNCTION_QUICKJS_BYTECODE_BASE64__',\n};\n/**\n * Indicates that code is running in AWS.\n * @private\n */\nexports.EDGIO_DEPLOYMENT_TYPE_AWS = 'AWS';\n/**\n * Prefix of all Edgio headers.\n */\nexports.EDGIO_HEADERS_PREFIX = 'x-edg-';\n/**\n * Instructs the runtime to forward the request directly to the user's app or a function rather than processing\n * edge-control rules.\n * @private\n */\nexports.EDGIO_SERVERLESS_HINT_HEADER = 'x-edg-serverless-hint';\n/**\n * Instructs the runtime to forward the request directly one of the router's functions by hint name.\n * @private\n */\nexports.EDGIO_SERVERLESS_HINTS = {\n    // Instructs the runtime to forward the request directly to the user's app.\n    app: 'app',\n    // Instructs the runtime to forward the request directly one of the router's functions by index.\n    compute: 'compute',\n    // Instructs the runtime to invoke a compute that will execute a redirect and return early.\n    redirect: 'redirect',\n    // Instructs the runtime to invoke a compute that will execute a redirect and return early.\n    proxy: 'proxy',\n};\n/**\n * Maximum number of user headers allowed by Edgio platform.\n *\n * We limit the request and response headers allowed to 70. This is due to a limitation that edge has\n * which at the moment supports up to 96 headers. Edge provider itself needs to use some of those headers\n * with the remainder used by our edge code.\n *\n * NOTE: This constant must be equal ot the constant of the same name defined in Edgio buffer proxy.\n * NOTE: If this constant is updated then the constant of the same name has to be updated in @edgio/build-lambda module.\n */\nexports.EDGIO_MAX_USER_HEADERS_ALLOWED = 70;\n/**\n * Status code returned when there are too many request or response headers.\n *\n * Must be equal to HeaderOverflowError status code as defined in build lambda and Edgio buffer proxy.\n */\nexports.EDGIO_TOO_MANY_HEADERS_STATUS_CODE = 542;\n/**\n * The status code returned when the edgio_prefetch query param is present and a response could not be found in the cache.\n */\nexports.EDGIO_UNCACHED_PREFETCH_STATUS = 412;\n/**\n * CDN-as-code configuration actions\n */\nexports.ACTIONS = {\n    setHeader: 'set-header',\n    updateHeader: 'update-header',\n    removeHeader: 'remove-header',\n    syntheticRes: 'synthetic-response',\n    updatePath: 'update-path',\n    proxy: 'proxy',\n    addCookie: 'add-cookie',\n    updateCookie: 'update-cookie',\n    removeCookie: 'remove-cookie',\n};\n/**\n * The backend for cloud functions\n */\nexports.BACKENDS = {\n    js: '__js__',\n    static: '__static__',\n    permanentStatic: '__permanent_static__',\n    imageOptimizer: '__image_optimizer__',\n};\n/**\n * The hostname used for the internal service running the user's application.\n */\nexports.JS_BACKEND_HOSTNAME = '127.0.0.1';\nexports.HTTP_METHODS = {\n    head: 'head',\n    get: 'get',\n    post: 'post',\n    delete: 'delete',\n    put: 'put',\n    patch: 'patch',\n    options: 'options',\n};\n/**\n * Common HTTP headers.\n */\nexports.HTTP_HEADERS = {\n    acceptEncoding: 'accept-encoding',\n    authorization: 'authorization',\n    cacheControl: 'cache-control',\n    contentEncoding: 'content-encoding',\n    contentLength: 'content-length',\n    contentType: 'content-type',\n    cookie: 'cookie',\n    expires: 'expires',\n    host: 'host',\n    location: 'location',\n    range: 'range',\n    serverTiming: 'server-timing',\n    setCookie: 'set-cookie',\n    userAgent: 'user-agent',\n    vary: 'vary',\n    via: 'via',\n    transferEncoding: 'transfer-encoding',\n    xEcDebug: 'x-ec-debug',\n    xForwardedFor: 'x-forwarded-for',\n    xRequestId: 'x-request-id',\n    xSwCacheControl: 'x-sw-cache-control',\n    xEdgeBrowser: 'x-edg-browser',\n    xEdgeCacheControl: 'x-edg-cache-control',\n    xEdgeCachingStatus: 'x-edg-caching-status',\n    xEdgeClientIp: 'x-edg-client-ip',\n    xEdgeComponents: 'x-edg-components',\n    xEdgeDestination: 'x-edg-destination',\n    xEdgeDevice: 'x-edg-device',\n    xEdgeDeviceIsBot: 'x-edg-device-is-bot',\n    xEdgeGeoCity: 'x-edg-geo-city',\n    xEdgeGeoCountryCode: 'x-edg-geo-country-code',\n    xEdgeGeoLatitude: 'x-edg-geo-latitude',\n    xEdgeGeoLongitude: 'x-edg-geo-longitude',\n    xEdgeGeoPostalCode: 'x-edg-geo-postal-code',\n    xEdgeMatchedRoutes: 'x-edg-matched-routes',\n    xEdgeProtocol: 'x-edg-protocol',\n    xEdgeRoute: 'x-edg-route',\n    xEdgeStatus: 'x-edg-status',\n    xEdgeSurrogateKey: 'x-edg-surrogate-key',\n    xEdgeT: 'x-edg-t',\n    xEdgeUserT: 'x-edg-user-t',\n    xEdgeVendor: 'x-edg-vendor',\n    xEdgeVersion: 'x-edg-version',\n    xEdgServerlessError: 'x-edg-serverless-error',\n    x0ClientIp: 'x-0-client-ip',\n    x0Protocol: 'x-0-protocol',\n    x0Version: 'x-0-version',\n};\n/**\n * Values for x-edg-caching-status\n */\nexports.CACHING_STATUS = {\n    cached: 'cached',\n    hit: 'hit',\n    bypassed: 'bypassed',\n    private: 'private',\n    method: 'method',\n    bodyTooBig: 'body-too-big',\n    code: 'code',\n    setCookie: 'set-cookie',\n    noMaxAge: 'no-max-age',\n};\nexports.CACHEABLE_METHODS = new Set(['get', 'head']);\n/**\n * Values for x-edg-caching-status\n */\nexports.CACHING_DEBUG_HEADERS = {\n    cache: 'x-ec-cache',\n    checkCacheable: 'x-ec-check-cacheable',\n    cacheState: 'x-ec-cache-state',\n    cacheKey: 'x-ec-cache-key',\n};\n// Caching debug status codes.\n// https://docs.edgecast.com/cdn/Content/Reference/Cache_Status_Codes.htm\nexports.CACHING_DEBUG_STATUS = {\n    configNoCache: 'CONFIG_NOCACHE',\n    none: 'NONE',\n    tcpClientRefreshMiss: 'TCP_CLIENT_REFRESH_MISS',\n    tcpExpiredHit: 'TCP_EXPIRED_HIT',\n    tcpExpiredMiss: 'TCP_EXPIRED_MISS',\n    tcpHit: 'TCP_HIT',\n    tcpMiss: 'TCP_MISS',\n    tcpPartialHit: 'TCP_PARTIAL_HIT',\n    uncacheable: 'UNCACHEABLE',\n};\nexports.CACHING_DEBUG_CACHEABLE = {\n    yes: 'YES',\n    no: 'NO',\n};\n/**\n * When present, this query parameter will cause Edgio to return a 412 status\n * if a response could not be found in the cache.\n */\nexports.THROTTLED_QUERY_PARAM = 'edgio_prefetch';\n/**\n * Same value as above but DEPRECATED.\n */\nexports.PREFETCH_QUERY_PARAM = exports.THROTTLED_QUERY_PARAM;\n/**\n Adds query parameter with custom maxAgeSecond value for service-worker cache if it's specified in PrefetchConfiguration\n */\nexports.PREFETCH_TTL_PARAM = 'edgio_prefetch_ttl';\n/**\n Labels the request so that devtools will display as prefetched\n */\nexports.DEVTOOLS_PREFETCH_QUERY_PARAM = 'edgio_dt_pf';\n/**\n * The name of the query parameter used to detect HEAD requests.\n */\nexports.HEAD_QUERY_PARAM = 'edgio_head';\n/**\n * The name of the query parameter used for the body of POST requests, which is used for the cache key\n */\nexports.POST_BODY_QUERY_PARAM = 'pref_edgio_body';\n/**\n * The name of the query parameter used for the method of requests, which is used for the cache key\n */\nexports.METHOD_QUERY_PARAM = 'pref_edgio_method';\n/**\n * Route Group name, which is used in router for fallback routes\n */\nexports.ROUTES_FALLBACK = 'fallback';\n/**\n * Route Group name, which is used in router for error page routes\n */\nexports.ROUTES_CATCH_GROUP = 'catch';\n/**\n * Route Group name, which is used in router for noindex routes\n */\nexports.ROUTES_NOINDEX_GROUP = 'noindex';\n/**\n * Regex used to determine if the host should be excluded from\n * SE indexing\n */\nexports.HOSTS_NOINDEX_PERMALINK_REGEX = /\\.edgio\\.link|\\.edgio-perma\\.link/;\n/**\n * The path for the built-in image optimizer.\n */\n// TODO: APPOPS-15850 We are unable to affect this path from XDN repo\nexports.EDGIO_IMAGE_OPTIMIZER_PATH = '/__layer0_image_optimizer';\n/**\n * Is current environment 'browser'\n */\nexports.IS_BROWSER = typeof window !== 'undefined';\n/**\n * Brotli encoding code.\n */\nexports.BROTLI_ENCODING = 'br';\n/**\n * Gzip encoding code.\n */\nexports.GZIP_ENCODING = 'gzip';\n/**\n * Deflate encoding code.\n */\nexports.DEFLATE_ENCODING = 'deflate';\n/**\n * One year in seconds\n */\nexports.FAR_FUTURE_TTL = '1y';\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setSourceDir = exports.getSourceDir = void 0;\n/**\n * Gets the directory corresponding to the root of the project source code.\n */\nfunction getSourceDir() {\n    return process.env.EDGIO_ROOT_SOURCE_DIR || process.cwd();\n}\nexports.getSourceDir = getSourceDir;\n/**\n * Sets the directory corresponding to the root of the project source code.\n * @param dir The directory to set\n */\nfunction setSourceDir(dir) {\n    process.env.EDGIO_ROOT_SOURCE_DIR = dir;\n}\nexports.setSourceDir = setSourceDir;\n", "'use strict';\nmodule.exports = path => {\n\tconst isExtendedLengthPath = /^\\\\\\\\\\?\\\\/.test(path);\n\tconst hasNonAscii = /[^\\u0000-\\u0080]+/.test(path); // eslint-disable-line no-control-regex\n\n\tif (isExtendedLengthPath || hasNonAscii) {\n\t\treturn path;\n\t}\n\n\treturn path.replace(/\\\\/g, '/');\n};\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst slash_1 = __importDefault(require(\"slash\"));\n/**\n * Loads a module at runtime, ensuring that it won't be bundled by webpack. This function\n * also ensures proper behavior on windows, *nix, and macos filesystems, even if the module\n * path is derived from a file path with backslashes. This function will return undefined if\n * the module could not be loaded.\n * @param modulePath The path to the module to load\n * @param options.ignoreErrors Will return undefined if the module fails to load\n */\nfunction nonWebpackRequire(modulePath, { ignoreErrors = false } = {}) {\n    try {\n        return eval('require')((0, slash_1.default)(modulePath));\n    }\n    catch (e) {\n        if (ignoreErrors) {\n            return undefined;\n        }\n        else {\n            throw e;\n        }\n    }\n}\nexports.default = nonWebpackRequire;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nonWebpackRequire = void 0;\nvar nonWebpackRequire_1 = require(\"./nonWebpackRequire\");\nObject.defineProperty(exports, \"nonWebpackRequire\", { enumerable: true, get: function () { return __importDefault(nonWebpackRequire_1).default; } });\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst nonWebpackRequire_1 = __importDefault(require(\"./nonWebpackRequire\"));\n/**\n * Dynamically requires the version of a package listed in @edgio/core's depedencies\n * This allows us to ensure we are targeting the version of a package, such as globby, that is listed\n * in @edgio/core's package.json, as opposed to whatever version may or may not be included in the user's\n * app, which may not be compatible.\n */\nfunction requireInternal(packagePath) {\n    try {\n        const resolved = require.resolve(packagePath, {\n            paths: [require.resolve('@edgio/core')],\n        });\n        return (0, nonWebpackRequire_1.default)(resolved);\n    }\n    catch (e) {\n        return (0, nonWebpackRequire_1.default)(packagePath);\n    }\n}\nexports.default = requireInternal;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.not = exports.or = exports.and = exports.OrOperator = exports.AndOperator = exports.isNegation = void 0;\nconst isNegation = (value) => {\n    return !!value && typeof value === 'object' && 'not' in value;\n};\nexports.isNegation = isNegation;\nclass CriteriaOperator {\n    constructor(values) {\n        this.values = values;\n    }\n}\nclass AndOperator extends CriteriaOperator {\n    constructor() {\n        super(...arguments);\n        this.operator = 'and';\n    }\n}\nexports.AndOperator = AndOperator;\nclass OrOperator extends CriteriaOperator {\n    constructor() {\n        super(...arguments);\n        this.operator = 'or';\n    }\n}\nexports.OrOperator = OrOperator;\n/**\n * Creates an AND operator for router's condition functions\n */\nfunction and(...criterias) {\n    return new AndOperator(criterias);\n}\nexports.and = and;\n/**\n * Creates an OR operator for router's condition functions\n */\nfunction or(...criterias) {\n    return new OrOperator(criterias);\n}\nexports.or = or;\n/**\n * Creates negation for router's condition\n */\nfunction not(value) {\n    return {\n        not: value,\n    };\n}\nexports.not = not;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExactPath = void 0;\n/**\n * Marker class - wraps string to be matched literally, without using path-to-regexp mapping\n */\nclass ExactPath {\n    constructor(value) {\n        this.value = value;\n    }\n    toString() {\n        return this.value;\n    }\n}\nexports.ExactPath = ExactPath;\n/**\n * Marks path to be matched literally, without using path-to-regexp mapping\n * @param path\n * @returns\n */\nfunction exact(path) {\n    return new ExactPath(path);\n}\nexports.default = exact;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toRegExp = void 0;\n/**\n * Escapes a string to be compatible with a RegExp\n * @param string\n * @returns {String}\n */\nfunction regExpEscape(string) {\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\nexports.default = regExpEscape;\n/**\n * Converts the given string into a RegExp\n * @param string\n * @returns {RegExp}\n */\nfunction toRegExp(string) {\n    return new RegExp(regExpEscape(string));\n}\nexports.toRegExp = toRegExp;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromEdgeRegex = void 0;\nconst regExpEscape_1 = __importDefault(require(\"./regExpEscape\"));\n/**\n * Converts a JavaScript Regexp instance to a string compatible with edge.\n * See https://docs.fastly.com/en/guides/vcl-regular-expression-cheat-sheet\n *\n * By default, the slashes arent escaped. For usage with interpolation, please set escapeSlashes param to true.\n * @param regex\n * @param prefix\n * @param escapeSlashes\n */\nfunction toEdgeRegex(regex, prefix = '', escapeSlashes) {\n    // Forward slashes dont need to be escaped according to docs.\n    // We still allow for escaping them for edge cases, where naked '/' is a control character (interpolation)\n    let source = escapeSlashes ? regex.source : regex.source.replace(/\\\\\\//g, '/');\n    if (source.startsWith('^')) {\n        source = `^${(0, regExpEscape_1.default)(prefix)}${source.slice(1)}`;\n    }\n    else {\n        source = `${(0, regExpEscape_1.default)(prefix)}${source}`;\n    }\n    return `${regex.ignoreCase ? '(?i)' : ''}${source}`;\n}\nexports.default = toEdgeRegex;\n/**\n * Reverse transformation. Mostly used for unit tests.\n * @param edgeRegex\n */\nfunction fromEdgeRegex(edgeRegex) {\n    const ignoreCase = edgeRegex.indexOf('(?i)') === 0;\n    if (ignoreCase) {\n        edgeRegex = edgeRegex.slice('(?i)'.length);\n    }\n    return new RegExp(edgeRegex.replace(/\\//g, '/'), ignoreCase ? 'i' : '');\n}\nexports.fromEdgeRegex = fromEdgeRegex;\n", "/**\n * Tokenizer results.\n */\ninterface LexToken {\n  type:\n    | \"OPEN\"\n    | \"CLOSE\"\n    | \"PATTERN\"\n    | \"NAME\"\n    | \"CHAR\"\n    | \"ESCAPED_CHAR\"\n    | \"MODIFIER\"\n    | \"END\";\n  index: number;\n  value: string;\n}\n\n/**\n * Tokenize input string.\n */\nfunction lexer(str: string): LexToken[] {\n  const tokens: LexToken[] = [];\n  let i = 0;\n\n  while (i < str.length) {\n    const char = str[i];\n\n    if (char === \"*\" || char === \"+\" || char === \"?\") {\n      tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"\\\\\") {\n      tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"{\") {\n      tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"}\") {\n      tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \":\") {\n      let name = \"\";\n      let j = i + 1;\n\n      while (j < str.length) {\n        const code = str.charCodeAt(j);\n\n        if (\n          // `0-9`\n          (code >= 48 && code <= 57) ||\n          // `A-Z`\n          (code >= 65 && code <= 90) ||\n          // `a-z`\n          (code >= 97 && code <= 122) ||\n          // `_`\n          code === 95\n        ) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(`Missing parameter name at ${i}`);\n\n      tokens.push({ type: \"NAME\", index: i, value: name });\n      i = j;\n      continue;\n    }\n\n    if (char === \"(\") {\n      let count = 1;\n      let pattern = \"\";\n      let j = i + 1;\n\n      if (str[j] === \"?\") {\n        throw new TypeError(`Pattern cannot start with \"?\" at ${j}`);\n      }\n\n      while (j < str.length) {\n        if (str[j] === \"\\\\\") {\n          pattern += str[j++] + str[j++];\n          continue;\n        }\n\n        if (str[j] === \")\") {\n          count--;\n          if (count === 0) {\n            j++;\n            break;\n          }\n        } else if (str[j] === \"(\") {\n          count++;\n          if (str[j + 1] !== \"?\") {\n            throw new TypeError(`Capturing groups are not allowed at ${j}`);\n          }\n        }\n\n        pattern += str[j++];\n      }\n\n      if (count) throw new TypeError(`Unbalanced pattern at ${i}`);\n      if (!pattern) throw new TypeError(`Missing pattern at ${i}`);\n\n      tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n      i = j;\n      continue;\n    }\n\n    tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n  }\n\n  tokens.push({ type: \"END\", index: i, value: \"\" });\n\n  return tokens;\n}\n\nexport interface ParseOptions {\n  /**\n   * Set the default delimiter for repeat parameters. (default: `'/'`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters to automatically consider prefixes when parsing.\n   */\n  prefixes?: string;\n}\n\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str: string, options: ParseOptions = {}): Token[] {\n  const tokens = lexer(str);\n  const { prefixes = \"./\" } = options;\n  const defaultPattern = `[^${escapeString(options.delimiter || \"/#?\")}]+?`;\n  const result: Token[] = [];\n  let key = 0;\n  let i = 0;\n  let path = \"\";\n\n  const tryConsume = (type: LexToken[\"type\"]): string | undefined => {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n  };\n\n  const mustConsume = (type: LexToken[\"type\"]): string => {\n    const value = tryConsume(type);\n    if (value !== undefined) return value;\n    const { type: nextType, index } = tokens[i];\n    throw new TypeError(`Unexpected ${nextType} at ${index}, expected ${type}`);\n  };\n\n  const consumeText = (): string => {\n    let result = \"\";\n    let value: string | undefined;\n    while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n      result += value;\n    }\n    return result;\n  };\n\n  while (i < tokens.length) {\n    const char = tryConsume(\"CHAR\");\n    const name = tryConsume(\"NAME\");\n    const pattern = tryConsume(\"PATTERN\");\n\n    if (name || pattern) {\n      let prefix = char || \"\";\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = \"\";\n      }\n\n      if (path) {\n        result.push(path);\n        path = \"\";\n      }\n\n      result.push({\n        name: name || key++,\n        prefix,\n        suffix: \"\",\n        pattern: pattern || defaultPattern,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    const value = char || tryConsume(\"ESCAPED_CHAR\");\n    if (value) {\n      path += value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = \"\";\n    }\n\n    const open = tryConsume(\"OPEN\");\n    if (open) {\n      const prefix = consumeText();\n      const name = tryConsume(\"NAME\") || \"\";\n      const pattern = tryConsume(\"PATTERN\") || \"\";\n      const suffix = consumeText();\n\n      mustConsume(\"CLOSE\");\n\n      result.push({\n        name: name || (pattern ? key++ : \"\"),\n        pattern: name && !pattern ? defaultPattern : pattern,\n        prefix,\n        suffix,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    mustConsume(\"END\");\n  }\n\n  return result;\n}\n\nexport interface TokensToFunctionOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * Function for encoding input strings for output.\n   */\n  encode?: (value: string, token: Key) => string;\n  /**\n   * When `false` the function can produce an invalid (unmatched) path. (default: `true`)\n   */\n  validate?: boolean;\n}\n\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile<P extends object = object>(\n  str: string,\n  options?: ParseOptions & TokensToFunctionOptions\n) {\n  return tokensToFunction<P>(parse(str, options), options);\n}\n\nexport type PathFunction<P extends object = object> = (data?: P) => string;\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction<P extends object = object>(\n  tokens: Token[],\n  options: TokensToFunctionOptions = {}\n): PathFunction<P> {\n  const reFlags = flags(options);\n  const { encode = (x: string) => x, validate = true } = options;\n\n  // Compile all the tokens into regexps.\n  const matches = tokens.map((token) => {\n    if (typeof token === \"object\") {\n      return new RegExp(`^(?:${token.pattern})$`, reFlags);\n    }\n  });\n\n  return (data: Record<string, any> | null | undefined) => {\n    let path = \"\";\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n\n      if (typeof token === \"string\") {\n        path += token;\n        continue;\n      }\n\n      const value = data ? data[token.name] : undefined;\n      const optional = token.modifier === \"?\" || token.modifier === \"*\";\n      const repeat = token.modifier === \"*\" || token.modifier === \"+\";\n\n      if (Array.isArray(value)) {\n        if (!repeat) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to not repeat, but got an array`\n          );\n        }\n\n        if (value.length === 0) {\n          if (optional) continue;\n\n          throw new TypeError(`Expected \"${token.name}\" to not be empty`);\n        }\n\n        for (let j = 0; j < value.length; j++) {\n          const segment = encode(value[j], token);\n\n          if (validate && !(matches[i] as RegExp).test(segment)) {\n            throw new TypeError(\n              `Expected all \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`\n            );\n          }\n\n          path += token.prefix + segment + token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof value === \"string\" || typeof value === \"number\") {\n        const segment = encode(String(value), token);\n\n        if (validate && !(matches[i] as RegExp).test(segment)) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`\n          );\n        }\n\n        path += token.prefix + segment + token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n\n      const typeOfMessage = repeat ? \"an array\" : \"a string\";\n      throw new TypeError(`Expected \"${token.name}\" to be ${typeOfMessage}`);\n    }\n\n    return path;\n  };\n}\n\nexport interface RegexpToFunctionOptions {\n  /**\n   * Function for decoding strings for params.\n   */\n  decode?: (value: string, token: Key) => string;\n}\n\n/**\n * A match result contains data about the path match.\n */\nexport interface MatchResult<P extends object = object> {\n  path: string;\n  index: number;\n  params: P;\n}\n\n/**\n * A match is either `false` (no match) or a match result.\n */\nexport type Match<P extends object = object> = false | MatchResult<P>;\n\n/**\n * The match function takes a string and returns whether it matched the path.\n */\nexport type MatchFunction<P extends object = object> = (\n  path: string\n) => Match<P>;\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match<P extends object = object>(\n  str: Path,\n  options?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions\n) {\n  const keys: Key[] = [];\n  const re = pathToRegexp(str, keys, options);\n  return regexpToFunction<P>(re, keys, options);\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction<P extends object = object>(\n  re: RegExp,\n  keys: Key[],\n  options: RegexpToFunctionOptions = {}\n): MatchFunction<P> {\n  const { decode = (x: string) => x } = options;\n\n  return function (pathname: string) {\n    const m = re.exec(pathname);\n    if (!m) return false;\n\n    const { 0: path, index } = m;\n    const params = Object.create(null);\n\n    for (let i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue;\n\n      const key = keys[i - 1];\n\n      if (key.modifier === \"*\" || key.modifier === \"+\") {\n        params[key.name] = m[i].split(key.prefix + key.suffix).map((value) => {\n          return decode(value, key);\n        });\n      } else {\n        params[key.name] = decode(m[i], key);\n      }\n    }\n\n    return { path, index, params };\n  };\n}\n\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str: string) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options?: { sensitive?: boolean }) {\n  return options && options.sensitive ? \"\" : \"i\";\n}\n\n/**\n * Metadata about a key.\n */\nexport interface Key {\n  name: string | number;\n  prefix: string;\n  suffix: string;\n  pattern: string;\n  modifier: string;\n}\n\n/**\n * A token is a string (nothing special) or key metadata (capture group).\n */\nexport type Token = string | Key;\n\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path: RegExp, keys?: Key[]): RegExp {\n  if (!keys) return path;\n\n  const groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n\n  let index = 0;\n  let execResult = groupsRegex.exec(path.source);\n  while (execResult) {\n    keys.push({\n      // Use parenthesized substring match if available, index otherwise\n      name: execResult[1] || index++,\n      prefix: \"\",\n      suffix: \"\",\n      modifier: \"\",\n      pattern: \"\",\n    });\n    execResult = groupsRegex.exec(path.source);\n  }\n\n  return path;\n}\n\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(\n  paths: Array<string | RegExp>,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n): RegExp {\n  const parts = paths.map((path) => pathToRegexp(path, keys, options).source);\n  return new RegExp(`(?:${parts.join(\"|\")})`, flags(options));\n}\n\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(\n  path: string,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n\nexport interface TokensToRegexpOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * When `true` the regexp won't allow an optional trailing delimiter to match. (default: `false`)\n   */\n  strict?: boolean;\n  /**\n   * When `true` the regexp will match to the end of the string. (default: `true`)\n   */\n  end?: boolean;\n  /**\n   * When `true` the regexp will match from the beginning of the string. (default: `true`)\n   */\n  start?: boolean;\n  /**\n   * Sets the final character for non-ending optimistic matches. (default: `/`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters that can also be \"end\" characters.\n   */\n  endsWith?: string;\n  /**\n   * Encode path tokens for use in the `RegExp`.\n   */\n  encode?: (value: string) => string;\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(\n  tokens: Token[],\n  keys?: Key[],\n  options: TokensToRegexpOptions = {}\n) {\n  const {\n    strict = false,\n    start = true,\n    end = true,\n    encode = (x: string) => x,\n    delimiter = \"/#?\",\n    endsWith = \"\",\n  } = options;\n  const endsWithRe = `[${escapeString(endsWith)}]|$`;\n  const delimiterRe = `[${escapeString(delimiter)}]`;\n  let route = start ? \"^\" : \"\";\n\n  // Iterate over the tokens and create our regexp string.\n  for (const token of tokens) {\n    if (typeof token === \"string\") {\n      route += escapeString(encode(token));\n    } else {\n      const prefix = escapeString(encode(token.prefix));\n      const suffix = escapeString(encode(token.suffix));\n\n      if (token.pattern) {\n        if (keys) keys.push(token);\n\n        if (prefix || suffix) {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            const mod = token.modifier === \"*\" ? \"?\" : \"\";\n            route += `(?:${prefix}((?:${token.pattern})(?:${suffix}${prefix}(?:${token.pattern}))*)${suffix})${mod}`;\n          } else {\n            route += `(?:${prefix}(${token.pattern})${suffix})${token.modifier}`;\n          }\n        } else {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            route += `((?:${token.pattern})${token.modifier})`;\n          } else {\n            route += `(${token.pattern})${token.modifier}`;\n          }\n        }\n      } else {\n        route += `(?:${prefix}${suffix})${token.modifier}`;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += `${delimiterRe}?`;\n\n    route += !options.endsWith ? \"$\" : `(?=${endsWithRe})`;\n  } else {\n    const endToken = tokens[tokens.length - 1];\n    const isEndDelimited =\n      typeof endToken === \"string\"\n        ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n        : endToken === undefined;\n\n    if (!strict) {\n      route += `(?:${delimiterRe}(?=${endsWithRe}))?`;\n    }\n\n    if (!isEndDelimited) {\n      route += `(?=${delimiterRe}|${endsWithRe})`;\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\n\n/**\n * Supported `path-to-regexp` input types.\n */\nexport type Path = string | RegExp | Array<string | RegExp>;\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(\n  path: Path,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Error thrown when a route pattern cannot be parsed by path-to-regexp\n */\nclass InvalidRoutePatternError extends Error {\n    constructor(pattern) {\n        super(`Route pattern \"${pattern}\" contains invalid syntax. To force exact matching, wrap the path in the 'exact' function.\\n` +\n            `See https://docs.edg.io/guides/performance/cdn_as_code/common_routing_patterns for more information.`); // istanbul ignore next - this is a known issue with TypeScript\n        this.isUserError = true;\n    }\n}\nexports.default = InvalidRoutePatternError;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_to_regexp_1 = require(\"path-to-regexp\");\nconst InvalidRoutePatternError_1 = __importDefault(require(\"../errors/InvalidRoutePatternError\"));\n/**\n * Converts an express-style path string with optional variables to a RegExp instance.\n * @param path\n * @returns\n */\nfunction toPathRegexp(path) {\n    /* istanbul ignore else */\n    if (path) {\n        try {\n            return (0, path_to_regexp_1.pathToRegexp)(path);\n        }\n        catch (e) {\n            throw new InvalidRoutePatternError_1.default(path);\n        }\n    }\n    else {\n        // For fallbacks we want everything matched so that we can replace everything if needed.\n        // We insist on total matching with `^` and `$` because some regex replacement algorithms\n        // have issues with correctly applying `.*` in completely greedy manner (e.g. Fastly's `regsuball`)\n        return /^.*$/;\n    }\n}\nexports.default = toPathRegexp;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toCondition = void 0;\nconst exact_1 = require(\"../../router/exact\");\nconst toEdgeRegex_1 = __importDefault(require(\"../../utils/toEdgeRegex\"));\nconst toPathRegexp_1 = __importDefault(require(\"../../utils/toPathRegexp\"));\nconst RouteCriteria_1 = require(\"../RouteCriteria\");\nconst toCondition = (property, value) => {\n    if ((0, RouteCriteria_1.isNegation)(value)) {\n        if (typeof value.not === 'string') {\n            if (property.request === 'path' && (0, toPathRegexp_1.default)(value.not)) {\n                return { ['!=']: [property, value.not] };\n            }\n            // everything that isnt a path is matched exactly without the need for exact modifier\n            return { ['!==']: [property, value.not] };\n        }\n        else if (value.not instanceof RegExp) {\n            return { ['!~']: [property, (0, toEdgeRegex_1.default)(value.not)] };\n        }\n        else if (value.not instanceof exact_1.ExactPath) {\n            return { ['!==']: [property, value.not.value] };\n        }\n        else if (Array.isArray(value.not)) {\n            return { not_in: [property, value.not] };\n        }\n    }\n    else {\n        if (typeof value === 'string') {\n            if (property.request === 'path' && (0, toPathRegexp_1.default)(value)) {\n                return { ['==']: [property, value] };\n            }\n            // everything that isnt a path is matched exactly without the need for exact modifier\n            return { ['===']: [property, value] };\n        }\n        else if (value instanceof RegExp) {\n            return { ['=~']: [property, (0, toEdgeRegex_1.default)(value)] };\n        }\n        else if (value instanceof exact_1.ExactPath) {\n            return { ['===']: [property, value.value] };\n        }\n        else if (Array.isArray(value)) {\n            return { in: [property, value] };\n        }\n    }\n    // todo: check if this is the correct error to throw, we shouldn't allow nulls/undefineds\n    // so this should be handled with ts or with runtime checks on sailfish schema during build\n    throw new Error(`Invalid type for match condition: ${typeof value}`);\n};\nexports.toCondition = toCondition;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMatchers = void 0;\nconst RouteCriteria_1 = require(\"./RouteCriteria\");\nconst toCondition_1 = require(\"./converters/toCondition\");\n/**\n * Creates the matching conditions for EdgeControl's `if` property.\n * @param criteria\n * @returns\n */\nfunction createMatchers(criteria) {\n    var _a;\n    const ecCriteria = criteria;\n    if (ecCriteria.edgeControlCriteria) {\n        // Native EdgeControl syntax detected - returning as is.\n        // Used to support if statement criteria fallbacks.\n        return ecCriteria.edgeControlCriteria;\n    }\n    const edgeJsCriteria = criteria;\n    // created by usage of 'and', 'or' utility functions\n    if (edgeJsCriteria instanceof RouteCriteria_1.AndOperator || edgeJsCriteria instanceof RouteCriteria_1.OrOperator) {\n        // we filter null values, as it means no matchers were created\n        return {\n            [edgeJsCriteria.operator]: edgeJsCriteria.values\n                .map(edgeJsCriteria => createMatchers(edgeJsCriteria))\n                .filter(matchers => matchers),\n        };\n    }\n    const matchers = [];\n    const add = (property, value) => {\n        const condition = (0, toCondition_1.toCondition)(property, value);\n        matchers.push(condition);\n    };\n    if (edgeJsCriteria.path) {\n        add({ request: 'path' }, edgeJsCriteria.path);\n    }\n    if (edgeJsCriteria.scheme) {\n        add({ request: 'scheme' }, edgeJsCriteria.scheme);\n    }\n    if (edgeJsCriteria.method) {\n        add({ request: 'method' }, typeof edgeJsCriteria.method === 'string'\n            ? edgeJsCriteria.method.toUpperCase()\n            : edgeJsCriteria.method // sailfish requires uppercase method names\n        );\n    }\n    if (edgeJsCriteria.headers) {\n        Object.entries(edgeJsCriteria.headers).forEach(([name, value]) => {\n            add({ 'request.header': name.toLowerCase() }, value);\n        });\n    }\n    if (edgeJsCriteria.query) {\n        Object.entries(edgeJsCriteria.query).forEach(([name, value]) => {\n            // if query param, we let it pass through if the value is at least length 1, as only the existence matters\n            add({ 'request.origin_query': name }, typeof value === 'string' && value.startsWith(':') ? new RegExp('.+') : value);\n        });\n    }\n    if (edgeJsCriteria.cookies) {\n        Object.entries(edgeJsCriteria.cookies).forEach(([name, value]) => {\n            add({ 'request.cookie': name }, value);\n        });\n    }\n    if (edgeJsCriteria.device) {\n        Object.entries(edgeJsCriteria.device).forEach(([name, value]) => {\n            add({ device: name }, value);\n        });\n    }\n    if (edgeJsCriteria.location) {\n        Object.entries(edgeJsCriteria.location).forEach(([name, value]) => {\n            add({ location: name }, value);\n        });\n    }\n    if (edgeJsCriteria.variable) {\n        Object.entries(edgeJsCriteria.variable).forEach(([name, value]) => {\n            add({ variable: name }, value);\n        });\n    }\n    if (edgeJsCriteria.client_ip) {\n        add({ request: 'client_ip' }, edgeJsCriteria.client_ip);\n    }\n    if (edgeJsCriteria['referring-domain']) {\n        add({ request: 'referring_domain' }, edgeJsCriteria['referring-domain']);\n    }\n    if ((_a = edgeJsCriteria.response) === null || _a === void 0 ? void 0 : _a.status_code) {\n        add({ response: 'status_code' }, edgeJsCriteria.response.status_code);\n    }\n    if (matchers.length === 0) {\n        return null;\n    }\n    // when we have only one matcher, we don't need to wrap it in an array\n    // we need to extract it from the array, otherwise wrap it into the \"and\" operator\n    return (matchers.length === 1 ? matchers[0] : { and: matchers });\n}\nexports.createMatchers = createMatchers;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isRule = exports.toThen = exports.toRule = void 0;\nconst createMatchers_1 = require(\"../createMatchers\");\nconst toRule = (criteria, ...featuresOrRouters) => {\n    const matchers = (0, createMatchers_1.createMatchers)(criteria);\n    const then = (0, exports.toThen)(featuresOrRouters);\n    // when there are no matchers for rule, we must return only feature as rule, as empty criteria is invalid and fails deployment\n    if (!matchers) {\n        return then;\n    }\n    const rule = {\n        if: [matchers, then],\n    };\n    return rule;\n};\nexports.toRule = toRule;\nconst toThen = (featuresOrRouters = []) => {\n    var _a;\n    const outputRules = [];\n    featuresOrRouters.forEach((featureOrRouter) => {\n        const value = featureOrRouter;\n        value.rules\n            ? outputRules.push(...value.rules)\n            : Array.isArray(value)\n                ? outputRules.push(...value)\n                : outputRules.push(value);\n    });\n    if ((_a = outputRules[0]) === null || _a === void 0 ? void 0 : _a.if) {\n        // Rule array must ALWAYS start with feature - console parses that feature as a root feature of the rule.\n        // Otherwise, they wouldnt be able to discern between whats root feature, and whats nested feature - it is what it is.\n        return [{}, ...outputRules];\n    }\n    else if (outputRules.length === 1) {\n        // If rule array has only 1 feature, we dont use the array -> feature will therefore not be a nested rule on console side.\n        return outputRules[0];\n    }\n    return outputRules;\n};\nexports.toThen = toThen;\nconst isRule = (value) => !!value.if;\nexports.isRule = isRule;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindRegexParams = exports.substituteParams = void 0;\n/**\n * Performs a substitution of params in destination string.\n * The values are matched and extracted by provided regex from the source string.\n * @param regex\n * @param source\n * @param destination\n * @example substituteParams(/(.+)\\/(.+)/, 'something/else', '/path/$1/$2') => '/path/something/else'\n */\nfunction substituteParams(regex, source, destination) {\n    return bindRegexParams(destination, regex.exec(source) || []);\n}\nexports.substituteParams = substituteParams;\n/**\n * Performs a substitution of provided params in destination string.\n * Escaped $ symbols are ignored.\n * @param destination\n * @param params\n */\nfunction bindRegexParams(destination, params) {\n    // Find all substitution symbols in destination and replace them with extracted values\n    // or empty string when the value does not exist.\n    var _a;\n    return (((_a = destination.match(/(\\\\?)(\\$[0-9]*)/g)) === null || _a === void 0 ? void 0 : _a.reduce((output, substitutionParam) => {\n        // Ignore escaped $ symbols\n        if (substitutionParam.startsWith('\\\\'))\n            return output;\n        const index = parseInt(substitutionParam.substring(1)); // get index from $1, $2, etc.\n        return output.replace(substitutionParam, params[index] || '');\n    }, destination)) || destination);\n}\nexports.bindRegexParams = bindRegexParams;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst regexUtils_1 = require(\"./regexUtils\");\n/**\n * Binds params to path.\n *\n * Example:\n * ```js\n * bindParams('/:foo/:bar*', { foo: 'p1', bar: 'p2/p3' })\n * bindParams('/$1/$2', { '$': [ '/p1/p2/p3', 'p1', 'p2/p3' ] })\n * ```\n * Output: `/p1/p2/p3`\n *\n * @param path The path, with param substitutions in braces `{}`.\n * @param params An object with keys matching the params in braces.\n * @returns A string with the params substituted with their values.\n */\nexports.default = (path, params) => {\n    let p = path;\n    // We allow edge interpolation params which begin with `${` but we no longer\n    // allow old path options that only begin with `{`.\n    if (/(^|[^$]){/.test(path)) {\n        throw new Error(`{variable} syntax in the path option is no longer supported, use :variable instead (${path})`);\n    }\n    for (let paramName in params) {\n        let value = params[paramName];\n        if (Array.isArray(value)) {\n            value = value.join('/');\n        }\n        // Here we decide *not* to use path-to-regexp `compile()` function\n        // as bindParams is used by other string which are not paths.\n        // For example it is used to interpolate setHeader values, which can be a CORS header like\n        // 'https://www.domain.com/:path'. The ':' behind https is not a valid path-to-regexp expression.\n        // p = p.replace(new RegExp(`:${paramName}(\\\\?|\\\\*|\\\\(.*\\\\)[?*]?)?`, 'g'), value)\n        const pattern = new RegExp(`:${paramName}(\\\\([^)]*\\\\))?[?*+]?`, 'g');\n        const replacement = value === undefined ? '' : value;\n        p = p.replace(pattern, replacement.replace(/\\$/g, '$$$')); // convert $ to $$ to escape backreferences in the replacement string\n    }\n    // For optional matchers (:path* and :path?), path may not be defined in params\n    // after matching a route but should still be replaced by a blank value\n    //\n    // ex: pathToRegexp.match('/public/:param?')('/').params returns {}\n    //     so bindParams('/public/:param?', {}) should return '/public/'\n    //\n    p = p.replace(/:\\w+(\\*|\\+|\\?)?/, '');\n    // We un-escape '?' character that needed to be escape from path-to-regexp expression\n    // to *not* be considered as optional parameter matcher\n    p = p.replace('\\\\?', '?');\n    p = p\n        .replace(/\\/+/g, '/') // finally dedupe /'s that result from missing optional parameters\n        .replace(/^([^:]+:)\\//gi, '$1//'); // but don't replace http://domain with http:/domain\n    // Substitute params captured by groups from regular expression path criteria\n    // when the path is a regular expression\n    p = (params === null || params === void 0 ? void 0 : params.$) ? (0, regexUtils_1.bindRegexParams)(p, params.$) : p;\n    return p;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction toRegExp(pattern, flags = 'g') {\n    if (pattern.startsWith('(?i)')) {\n        pattern = pattern.substring(4);\n        flags += 'i';\n    }\n    return new RegExp(pattern, flags);\n}\nexports.default = toRegExp;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nameParamsToIndex = exports.getBackReferences = exports.mapURL = exports.rewritePath = exports.pathToRegex = void 0;\nconst path_to_regexp_1 = require(\"path-to-regexp\");\nconst bindParams_1 = __importDefault(require(\"../utils/bindParams\"));\nconst toEdgeRegex_1 = __importDefault(require(\"../utils/toEdgeRegex\"));\nconst toRegExp_1 = __importDefault(require(\"../runtime/toRegExp\"));\n/**\n * Converts an express-style path pattern like /products/:id to a regular expression source string\n * suitable for assignment to Router features.\n * @param path\n * @returns\n */\nfunction pathToRegex(path) {\n    let prefix = '';\n    const protocolRegex = /^[a-z]+:\\/\\//i;\n    const matches = protocolRegex.exec(path);\n    if (matches) {\n        prefix = matches[0];\n    }\n    const pathPart = path.substring(prefix.length);\n    // @ts-ignore\n    return (0, toEdgeRegex_1.default)((0, path_to_regexp_1.pathToRegexp)(pathPart), prefix);\n}\nexports.pathToRegex = pathToRegex;\n/**\n * Creates a regex rewrite object based on the specified sourcePath and destPath, both\n * of which accept express-style path strings.\n * @param sourcePath\n * @param destPath\n * @param skipQuery whether or not to include potential query in rewritten destination\n * @returns\n */\nfunction rewritePath(sourcePath, destPath, skipQuery) {\n    if (sourcePath == null)\n        return { destination: destPath };\n    // The regex is matched in mod_rewrite against the whole URL instead of path,\n    // we need to adjust regex to match URL with optional query at the end as well\n    return {\n        source: `${sourcePath}:optionalSlash(\\\\/?)?:optionalQuery(\\\\?.*)?`,\n        syntax: 'path-to-regexp',\n        destination: `${destPath}${skipQuery ? '' : ':optionalSlash:optionalQuery'}`,\n    };\n}\nexports.rewritePath = rewritePath;\n/**\n * Returns rewritten url based on the specified sourcePath and destPath.\n * The unchanged destination is returned when no sourcePath is provided.\n * The null is returned when url does not match sourcePath.\n * @param url\n * @param source\n * @param destination\n * @param syntax\n * @returns\n */\nfunction mapURL(url, source, destination, syntax) {\n    let targetSource;\n    let targetDest = destination;\n    // return unchanged dest  when no source is provided\n    if (!source)\n        return targetDest;\n    // determine source syntax and convert it to regex\n    if (syntax === 'regexp') {\n        targetSource = (0, toRegExp_1.default)(source, ''); // no flags used in order to avoid invalid group mapping\n    }\n    else {\n        // path-to-regexp syntax is used by default\n        targetSource = (0, path_to_regexp_1.pathToRegexp)(source);\n        // we map references onto the destination string, which is expected to be input in path-to-regexp format also\n        targetDest = (0, bindParams_1.default)(destination, getBackReferences(source));\n    }\n    // return null when url does not match source\n    if (!url.match(targetSource))\n        return null;\n    return url.replace(targetSource, targetDest);\n}\nexports.mapURL = mapURL;\n/*\nUncomment when we we support url.path_rewrite\nexport function mapPath(\n  url: string,\n  source: string | undefined,\n  destination: string,\n  syntax?: 'path-to-regexp' | 'regexp'\n) {\n  let targetSource\n  let targetDest = destination\n  const parsed = new URL(url, 'http://localhost')\n\n  if (source) {\n    if (syntax === 'regexp') {\n      targetSource = toRegExp(source, '') // no flags used in order to avoid invalid group mapping\n    } else {\n      // path-to-regexp syntax is used by default\n      targetSource = pathToRegexp(source)\n      // we map references onto the destination string, which is expected to be input in path-to-regexp format also\n      targetDest = bindParams(destination, getBackReferences(source))\n    }\n    return `${parsed.pathname.replace(targetSource, targetDest)}${parsed.search}`\n  } else {\n    return `${targetDest}${parsed.search}`\n  }\n}\n*/\nfunction getBackReferences(path) {\n    // In case path is an absolute path\n    const absolutePathMatch = path.match(/https?:\\/\\/[^/]+(.*)/);\n    if (absolutePathMatch) {\n        path = `/${absolutePathMatch[1]}`;\n    }\n    // Back reference counting starts from 1\n    let backReferenceCounter = 1;\n    const references = {};\n    (0, path_to_regexp_1.parse)(path).forEach(token => {\n        if (typeof token !== 'string') {\n            references[token.name] = `$${backReferenceCounter++}`; // double $$ escapes backreferences so \"$N\" actually gets inserted into the string\n        }\n    });\n    return references;\n}\nexports.getBackReferences = getBackReferences;\n/**\n * Converts named parameters from regex-to-path format to regex substitution format\n * with indexes.\n * @param source\n * @param destination\n * @returns\n */\nfunction nameParamsToIndex(source, destination) {\n    const backReferences = getBackReferences(source);\n    const matches = [\n        ...destination.matchAll(/:(.[a-z_-]+)[+|*]/g),\n        ...destination.matchAll(/:(.[a-z_-]+)/g),\n    ];\n    matches.forEach(match => {\n        if (!Object.keys(backReferences).includes(match[1]))\n            return;\n        const index = Object.keys(backReferences).indexOf(match[1]);\n        destination = destination.replace(match[0], `$${index}`);\n    });\n    return destination;\n}\nexports.nameParamsToIndex = nameParamsToIndex;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowser = exports.isEdgioRunDev = exports.isProductionBuild = exports.isLocal = exports.isCloud = void 0;\nconst constants_1 = require(\"./constants\");\n/**\n * Used to determine if the app is running in the cloud.\n * @returns `true` when running in the cloud, `false` otherwise\n */\nfunction isCloud() {\n    return process.env[constants_1.EDGIO_ENV_VARIABLES.deploymentType] === constants_1.EDGIO_DEPLOYMENT_TYPE_AWS;\n}\nexports.isCloud = isCloud;\n/**\n * Returns true when running locally, either in dev or production mode\n */\nfunction isLocal() {\n    return process.env[constants_1.EDGIO_ENV_VARIABLES.local] === 'true';\n}\nexports.isLocal = isLocal;\n/**\n * Used to determine if the app is running on a production build.\n * @returns `true` when running a production build, either locally or in the cloud; `false` otherwise\n */\nfunction isProductionBuild() {\n    return (\n    // Users can change the value of NODE_ENV in the cloud https://docs.edg.io/guides/basics/environments#built-in-environment-variables\n    process.env.NODE_ENV === 'production' ||\n        // To reliably detect a prod build, we set variable EDGIO_PRODUCTION_BUILD true in lambdas which users can't change\n        // We can't use isCloud in those cases, as we need to use this function also in local cases\n        process.env[constants_1.EDGIO_ENV_VARIABLES.productionBuild] === 'true');\n}\nexports.isProductionBuild = isProductionBuild;\n/**\n * Used to determine if the app is running in `edgio run` development environment\n * @returns `true` when running with `edgio run`without production flag, `false` otherwise\n */\nfunction isEdgioRunDev() {\n    return !isCloud() && !isProductionBuild();\n}\nexports.isEdgioRunDev = isEdgioRunDev;\n/**\n * Determines whether or not we are running in a browser\n * @returns `true` when running in a browser, otherwise false\n */\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createImageOptimizerOrigin = exports.createServerlessOrigin = exports.createPermanentStaticOrigin = exports.createStaticOrigin = exports.getPathPrefix = exports.getEdgioOrigins = exports.IMAGE_OPTIMIZER_ORIGIN_NAME = exports.SERVERLESS_ORIGIN_NAME = exports.PERMANENT_STATIC_ORIGIN_NAME = exports.STATIC_ORIGIN_NAME = void 0;\nconst constants_1 = require(\"./constants\");\nconst environment_1 = require(\"./environment\");\n/**\n * The id of the origin from which we serve static assets associated with a single deployment\n */\nexports.STATIC_ORIGIN_NAME = 'edgio_static';\n/**\n * The id of the origin from which we serve static assets with globally unique filenames (usually based on a hash of the file content)\n * for all deployments.\n */\nexports.PERMANENT_STATIC_ORIGIN_NAME = 'edgio_permanent_static';\n/**\n * The id of the origin from which serverless functions are served.\n */\nexports.SERVERLESS_ORIGIN_NAME = 'edgio_serverless';\n/**\n * The id of the origin from which we serve our image optimizer locally.\n * When app is deployed to Edgio, the SERVERLESS origin is used instead.\n */\nexports.IMAGE_OPTIMIZER_ORIGIN_NAME = 'edgio_image_optimizer';\nconst internalConfig = process.env[constants_1.EDGIO_ENV_VARIABLES.internalConfig]\n    ? JSON.parse(process.env[constants_1.EDGIO_ENV_VARIABLES.internalConfig] || '{}')\n    : {};\n// TODO: we need this function to remove path_prefix from the origin config\n// this is currently added so we can do propper url rewriting in the edge,\n// but once this is not needed we should remove it.\n// Without this function, Sailfish validation will fail\nconst getOriginFromConfig = (name) => {\n    var _a, _b;\n    const origin = (_a = internalConfig === null || internalConfig === void 0 ? void 0 : internalConfig.origins) === null || _a === void 0 ? void 0 : _a.find((origin) => origin.name === name);\n    if (origin) {\n        for (let host of origin.hosts) {\n            // @ts-ignore\n            delete host.path_prefix;\n        }\n        return {\n            ...origin,\n            // This is temporary fix until this bug is fixed in sailfish: POR-31143\n            // The Sailfish is returning 502 error for all other origins without use_sni\n            // when first origin has tls_verify.use_sni set to true. The serverless origin is not working because of it.\n            // TODO: Remove it when the POR-31143 is fixed.\n            tls_verify: {\n                use_sni: true,\n                sni_hint_and_strict_san_check: (_b = origin === null || origin === void 0 ? void 0 : origin.hosts.find((host) => host === null || host === void 0 ? void 0 : host.location)) === null || _b === void 0 ? void 0 : _b.location,\n            },\n        };\n    }\n    return origin;\n};\nfunction getEdgioOrigins(forEdgeControl = false) {\n    return [\n        createStaticOrigin(),\n        createPermanentStaticOrigin(),\n        createServerlessOrigin(forEdgeControl),\n        createImageOptimizerOrigin(),\n    ];\n}\nexports.getEdgioOrigins = getEdgioOrigins;\nfunction getPathPrefix(origin) {\n    var _a, _b, _c;\n    return (((_c = (_b = (_a = internalConfig === null || internalConfig === void 0 ? void 0 : internalConfig.origins) === null || _a === void 0 ? void 0 : _a.find((o) => o.name === origin)) === null || _b === void 0 ? void 0 : _b.hosts[0]) === null || _c === void 0 ? void 0 : _c.path_prefix) || '');\n}\nexports.getPathPrefix = getPathPrefix;\n/**\n *  * Creates the origin group for serving static assets associated with a single deployment.\n * @returns\n */\nfunction createStaticOrigin() {\n    return (getOriginFromConfig(exports.STATIC_ORIGIN_NAME) || {\n        name: exports.STATIC_ORIGIN_NAME,\n        hosts: [{ location: '127.0.0.1:3002' }],\n    });\n}\nexports.createStaticOrigin = createStaticOrigin;\n/**\n * Creates the origin group for serving static assets with globally unique URLs across all deployments.\n * @returns\n */\nfunction createPermanentStaticOrigin() {\n    return (getOriginFromConfig(exports.PERMANENT_STATIC_ORIGIN_NAME) || {\n        name: exports.PERMANENT_STATIC_ORIGIN_NAME,\n        hosts: [{ location: '127.0.0.1:3002' }],\n    });\n}\nexports.createPermanentStaticOrigin = createPermanentStaticOrigin;\n/**\n * Creates the origin group for serverless functions.\n * When forEdgeControl is false, the serverless origin target is the app. (In simulator and on permalink)\n * When forEdgeControl is true, the serverless origin target is link to permalink.\n * This ensure that the app is not infinitely sending requests to itself.\n * @returns\n */\nfunction createServerlessOrigin(forEdgeControl = false) {\n    // Return origin from config only in case we are generating config for edge control.\n    // Otherwise keep the localhost origin which is pointing to the app.\n    const originFromConfig = forEdgeControl ? getOriginFromConfig(exports.SERVERLESS_ORIGIN_NAME) : null;\n    return (originFromConfig || {\n        name: exports.SERVERLESS_ORIGIN_NAME,\n        hosts: [{ location: '127.0.0.1:3001' }],\n    });\n}\nexports.createServerlessOrigin = createServerlessOrigin;\n/**\n * Creates the origin for the image optimizer.\n * This origin is used when we run the app locally in production mode.\n * When app is deployed to Edgio, the SERVERLESS origin is used instead.\n * @returns\n */\nfunction createImageOptimizerOrigin() {\n    var _a;\n    const serverlessOriginConfig = getOriginFromConfig(exports.SERVERLESS_ORIGIN_NAME);\n    const optimizerOriginConfig = (0, environment_1.isLocal)()\n        ? {\n            hosts: [{ location: '127.0.0.1:3003' }],\n        }\n        : {\n            ...serverlessOriginConfig,\n            override_host_header: (_a = serverlessOriginConfig === null || serverlessOriginConfig === void 0 ? void 0 : serverlessOriginConfig.hosts[0]) === null || _a === void 0 ? void 0 : _a.location,\n        };\n    return {\n        ...optimizerOriginConfig,\n        name: exports.IMAGE_OPTIMIZER_ORIGIN_NAME,\n    };\n}\nexports.createImageOptimizerOrigin = createImageOptimizerOrigin;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizeRedirectOptions = void 0;\nconst url_1 = __importDefault(require(\"url\"));\nconst querystring_1 = __importDefault(require(\"querystring\"));\n/**\n * Translates redirect params into normalized version that solves backward compatibility\n * issues and also takes into account query parameters that may be included in the query\n * string itself.\n *\n * @param to string to where we are redirecting the request; may have query string\n * @param options options with which we are redirecting the request\n */\nconst normalizeRedirectOptions = (to, options) => {\n    const { statusCode = 302, query = {} } = \n    // Retro-compatibility, second argument used to be statusCode\n    typeof options === 'number' ? { statusCode: options } : options;\n    // Parse `to` param to extract query strings from it.\n    let toQuery = {};\n    const parsedTo = url_1.default.parse(to);\n    // istanbul ignore next - ?. gives istanbul indigestion\n    if (parsedTo === null || parsedTo === void 0 ? void 0 : parsedTo.search) {\n        to = to.substr(0, to.length - parsedTo.search.length);\n        // @ts-ignore: whenever search is truthy query is at least an empty string\n        toQuery = querystring_1.default.parse(parsedTo.query);\n    }\n    return {\n        to,\n        statusCode: statusCode,\n        query: {\n            ...toQuery,\n            ...query,\n        },\n    };\n};\nexports.normalizeRedirectOptions = normalizeRedirectOptions;\n", "\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"TRACE\"] = 0] = \"TRACE\";\n    LogLevel[LogLevel[\"DEBUG\"] = 1] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 3] = \"WARN\";\n    LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\n})(LogLevel || (LogLevel = {}));\nconst key = (_a = process.env.LOG_LEVEL) === null || _a === void 0 ? void 0 : _a.toUpperCase();\nconst configuredLogLevel = key ? LogLevel[key] : null;\nconst logger = {\n    trace(...params) {\n        logger.log(LogLevel.TRACE, ...params);\n    },\n    debug(...params) {\n        logger.log(LogLevel.DEBUG, ...params);\n    },\n    info(...params) {\n        logger.log(LogLevel.INFO, ...params);\n    },\n    warn(...params) {\n        logger.log(LogLevel.WARN, ...params);\n    },\n    error(...params) {\n        logger.log(LogLevel.WARN, ...params);\n    },\n    log(level, ...params) {\n        // If given a single function as a param, call it and log the result\n        // This allows us to skip computation of expensive log output if it would\n        // not be shown based on the configured level\n        if (params.length === 1 && typeof params[0] === 'function') {\n            params = [params[0]()];\n        }\n        if (configuredLogLevel != null && configuredLogLevel <= level) {\n            console.log(`${LogLevel[level].padEnd(5, ' ')}`, ...params);\n        }\n    },\n};\nexports.default = logger;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* istanbul ignore file - For some reason the constructor can't get 100% coverage on the super call */\n/**\n * To be thrown when failing to connect to a backend.\n */\nclass BackendFetchError extends Error {\n    /**\n     * @param cause The root error emitted by http/https.request\n     */\n    constructor(cause) {\n        super(cause.message);\n        this.type = 'BackendFetchError';\n        this.cause = cause;\n    }\n}\nexports.default = BackendFetchError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRandomInt = exports.getRandomElement = void 0;\n/**\n * Returns a random element from the source array\n * @param source\n * @returns\n */\nfunction getRandomElement(source) {\n    const index = getRandomInt(source.length);\n    return source[index];\n}\nexports.getRandomElement = getRandomElement;\n/**\n * Returns a random integer between 0 and {max}\n * @param max\n * @returns\n */\nfunction getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n}\nexports.getRandomInt = getRandomInt;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Used to create URL instance with just a path\n */\nconst PLACEHOLDER_HOSTNAME = '__';\nfunction mergeQueryString(requestUrl, targetRedirectOrPath) {\n    // `https://${PLACEHOLDER_HOSTNAME}` is temporarily inserted to make the `URL` object work\n    // with relative path, but is removed from the returned value right after.\n    const requestSearchParams = new URL(requestUrl, `https://${PLACEHOLDER_HOSTNAME}`).searchParams;\n    const targetUrl = new URL(targetRedirectOrPath, `https://${PLACEHOLDER_HOSTNAME}`);\n    // Apply query string from request to the target, except if they are already set explicitly on the target\n    requestSearchParams.forEach((value, key) => {\n        if (!targetUrl.searchParams.get(key)) {\n            targetUrl.searchParams.set(key, value);\n        }\n    });\n    // Keep the target as initially intended, absolute or relative path\n    return targetUrl.hostname === PLACEHOLDER_HOSTNAME\n        ? `${targetUrl.pathname}${targetUrl.search}`\n        : targetUrl.toString();\n}\nexports.default = mergeQueryString;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\nconst http_1 = __importDefault(require(\"http\"));\nconst https_1 = __importDefault(require(\"https\"));\nconst BackendFetchError_1 = __importDefault(require(\"../errors/BackendFetchError\"));\nconst constants_1 = require(\"../constants\");\nconst random_1 = require(\"./random\");\nconst log_1 = __importDefault(require(\"../log\"));\nconst bindParams_1 = __importDefault(require(\"../utils/bindParams\"));\nconst mergeQueryString_1 = __importDefault(require(\"../utils/mergeQueryString\"));\nconst net_1 = require(\"net\");\n/**\n * Array of response headers that will not be passed over directly from the proxied resource\n *\n * Notes:\n * - transfer-encoding: as it poisons the response which will be formed\n * based on its own transfer-encoding rather than the one received from the Lambda.\n *\n * - content-length: as the actual constant may be changed by buffer proxy\n * (e.g. on moov_debug=true)\n * @private\n */\nconst IGNORE_RESPONSE_HEADERS = ['transfer-encoding', 'content-length'];\n/**\n * @private\n */\nclass Backend {\n    static setImpl(implementation) {\n        impl = implementation;\n    }\n    static create(config, origin) {\n        return new impl(config, origin);\n    }\n    constructor(config, origin) {\n        this.config = config;\n        this.origin = origin;\n        this.hostHeader = origin.override_host_header;\n    }\n    /**\n     * Sends a request using the proxy.\n     * @param req The request being sent.\n     * @param res The response for the request.\n     * @param options Options for this fetch request.\n     */\n    async fetch(req, res, options = {}) {\n        // Create url for proxy with query params added if existing\n        const url = this.getProxyTarget(req);\n        const requestOptions = this.getProxyRequestOptions(url, req, options);\n        log_1.default.debug('[Backend]', 'fetch', requestOptions);\n        return new Promise((resolve, reject) => {\n            const lib = url.protocol === 'https:' ? https_1.default : http_1.default;\n            let metadataApplied = false;\n            const upstreamReq = lib.request(requestOptions, upstreamRes => {\n                const processMetadata = () => {\n                    /**\n                     * Message can end without any data event, therefore we map in both cases.\n                     *\n                     * Tried to use 'readable' event for detection of receiving headers,\n                     * but 'data' event then stops working, so has to be done through this bool.\n                     */\n                    if (!metadataApplied) {\n                        metadataApplied = true;\n                        Object.entries(upstreamRes.headers)\n                            .filter(([name]) => !IGNORE_RESPONSE_HEADERS.includes(name.toLowerCase()))\n                            .forEach(([name, value]) => {\n                            try {\n                                res.setHeader(name, value);\n                            }\n                            catch (e) {\n                                log_1.default.warn(`Could not relay upstream response header ${name} with value ${value}`, e);\n                            }\n                        });\n                        res.statusCode = upstreamRes.statusCode;\n                        res.statusMessage = upstreamRes.statusMessage;\n                        log_1.default.debug('proxy', `[${res.statusCode} ${res.statusMessage}]`, url);\n                    }\n                };\n                upstreamRes\n                    .on('data', async (chunk) => {\n                    try {\n                        processMetadata();\n                        // we need to await writes, as we could do some processing that could be blocking (eg. running some simulator mods)\n                        // also, there's a possibility an error can occur during write, therefore we have to catch it to avoid uncaught errors, and simulator continuation\n                        await res.write(chunk);\n                    }\n                    catch (e) {\n                        reject(e);\n                        upstreamRes.destroy();\n                    }\n                })\n                    .on('end', async () => {\n                    try {\n                        if (upstreamRes.complete) {\n                            processMetadata();\n                            // do not end the response if the status code is 416 (Range Not Satisfiable)\n                            await res.end();\n                            // we need to wait for flush for cases, where error occurs during res.write\n                            await res.waitForFlush();\n                            resolve();\n                        }\n                    }\n                    catch (e) {\n                        reject(e);\n                        upstreamRes.destroy();\n                    }\n                })\n                    .on('error', \n                /* istanbul ignore next */ e => {\n                    reject(new BackendFetchError_1.default(e));\n                })\n                    // Closing the connection before the response is complete\n                    // has different behaviours depending on NodeJs version\n                    // - node 12: triggers a 'close' event on the Request and Response, and an 'end' event on Response in between\n                    // - node 14: triggers a 'close' event on the Request and Response, but no 'end' event on Response anymore\n                    // - node 16: triggers a 'close' event on the Request and Response and an \"aborted\" error on Response in between\n                    // See playground at https://runkit.com/adrien-k/aborted-res-error\n                    //\n                    // We take the most compatible approach, although in v16 and above this should be caught by the 'error' event.\n                    /* istanbul ignore next */\n                    .on('close', \n                /* istanbul ignore next */ () => {\n                    if (!upstreamRes.complete) {\n                        reject(new BackendFetchError_1.default(new Error('The connection was terminated while the message was still being sent')));\n                    }\n                });\n            });\n            upstreamReq.on('error', e => reject(new BackendFetchError_1.default(e)));\n            upstreamReq.end(req.rawBody);\n        });\n    }\n    /**\n     * Returns proxy configuration for http-proxy\n     * @returns proxy target url\n     */\n    getProxyTarget(req) {\n        let location;\n        if (Array.isArray(this.config.location)) {\n            location = (0, random_1.getRandomElement)(this.config.location);\n        }\n        else {\n            location = this.config.location;\n        }\n        if (typeof location === 'string') {\n            location = { hostname: location };\n        }\n        const { hostname, port } = location;\n        const protocol = hostname.match(/^(127.0.0.1|localhost)(:\\d+)?$/) ? 'http' : 'https';\n        const host = `${hostname}${port ? `:${port}` : ''}`;\n        const parsed = (0, url_1.parse)(`${protocol}://${host}${req.url}`, true);\n        // Force insecure protocol if header is present\n        if (req.getHeader(constants_1.HTTP_HEADERS.xEdgeProtocol) === 'http') {\n            parsed.protocol = 'http:';\n        }\n        return parsed;\n    }\n    /**\n     * Returns true if the URL points to the local JS backend, otherwise false.\n     * @param url\n     * @returns\n     */\n    isLocal(url) {\n        return url.hostname === constants_1.JS_BACKEND_HOSTNAME;\n    }\n    /**\n     * Returns proxy configuration object for node-fetch\n     * @param originUrl\n     * @param req\n     * @param options\n     */\n    getProxyRequestOptions(originUrl, req, options = {}) {\n        var _a, _b, _c;\n        let agent = null;\n        if (((_a = this.origin.tls_verify) === null || _a === void 0 ? void 0 : _a.allow_self_signed_certs) && originUrl.protocol === 'https:') {\n            // For self signed cert fix on local development S3 bucket\n            agent = new https_1.default.Agent({ rejectUnauthorized: false });\n        }\n        let pathWithQuery = (_b = originUrl.path) !== null && _b !== void 0 ? _b : '/';\n        // Update the path and merge the query params\n        // from the old path together with the params from the new path\n        if (options === null || options === void 0 ? void 0 : options.path) {\n            const updatedPathWithQuery = (0, bindParams_1.default)(typeof options.path === 'function' ? options.path() || '' : options.path, req.params);\n            pathWithQuery = (0, mergeQueryString_1.default)(pathWithQuery !== null && pathWithQuery !== void 0 ? pathWithQuery : '', updatedPathWithQuery);\n        }\n        // Remove empty search query param values\n        if ((options === null || options === void 0 ? void 0 : options.removeEmptySearchParamValues) && originUrl.path) {\n            pathWithQuery = pathWithQuery === null || pathWithQuery === void 0 ? void 0 : pathWithQuery.replace(/=(?=&|$)/gm, '');\n        }\n        const upstreamHeaders = {\n            ...req.headers,\n            // Add additional request headers\n            ...((_c = options === null || options === void 0 ? void 0 : options.headers) !== null && _c !== void 0 ? _c : {}),\n            // In order for TLS verification to work, we should avoid using downstream host header.\n            // We need to try to use the override_host_header property first, then origin hostname from location in case it's domain,\n            // and then fallback to downstream host header.\n            host: this.hostHeader /* origins.override_host_header from edgio.config.js */ ||\n                (!(0, net_1.isIP)(originUrl.hostname)\n                    ? originUrl.host\n                    : undefined) /* origins.hosts.location from edgio.config.js in case it's domain */ ||\n                req.headers['host'] /* downstream host header */,\n        };\n        if (this.isLocal(originUrl)) {\n            // Some libraries, like [is-https](https://github.com/unjs/is-https#behaviour), rely on x-forwarded-proto\n            // to determine if the source request was made securely. This is notably used by Vue Storefront 2. Before\n            // we added this header, API requests made by Vue Storefront 2 from the cloud would attempt to reenter Edgio\n            // using an http POST, which would be redirected to an https GET, which would cause an infinite loop and soaring lambda costs.\n            // Note that we only add x-forwarded-proto for local requests, which never happen over TLS. For remote requests, TLS is used\n            // when the downstream request used TLS. We've chosen to do this in order to avoid altering the public behavior of Edgio, which\n            // has never sent x-forwarded-proto to origins.\n            upstreamHeaders['x-forwarded-proto'] = req.secure ? 'https' : 'http';\n        }\n        // @ts-ignore\n        return {\n            ...originUrl,\n            path: pathWithQuery,\n            method: req.method,\n            // first byte timeout should be available here as it is forced by\n            // ajv on routes matchers\n            timeout: this.config.firstByteTimeout || 0,\n            agent,\n            body: req.rawBody,\n            headers: upstreamHeaders,\n        };\n    }\n}\nexports.default = Backend;\nlet impl = Backend;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst log_1 = __importDefault(require(\"../log\"));\nconst Backend_1 = __importDefault(require(\"./Backend\"));\nconst random_1 = require(\"./random\");\nclass Origin {\n    constructor(config) {\n        this.config = config;\n    }\n    async fetch(request, response, options = {}) {\n        const hostConfig = this.selectHost();\n        const host = Backend_1.default.create(hostConfig, this.config);\n        return host.fetch(request, response, options);\n    }\n    /**\n     * Selects a backend based on the \"balancer\" property\n     */\n    selectHost() {\n        const { balancer } = this.config;\n        if ('static_weighted' === balancer) {\n            return this.config.hosts[0];\n        }\n        else if ('round_robin' === balancer) {\n            // TODO instead of calling a random one, iterate through indexes for each call\n            return (0, random_1.getRandomElement)(this.config.hosts);\n        }\n        else {\n            // TODO implement other load balancing strategies, static_weighted\n            if (balancer) {\n                log_1.default.warn(`balancer type \"${balancer}\" is not supported during local development, falling back to \"static\".`);\n            }\n            return this.config.hosts[0];\n        }\n    }\n}\nexports.default = Origin;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Origin_1 = __importDefault(require(\"./Origin\"));\nconst constants_1 = require(\"../constants\");\n/**\n * Helper class for fetching from origins\n * which allows to follow redirects to different origin.\n *\n * All redirect locations need to be configured in the edgio.config.js with exact hostname in\n * hostnames section otherwise the default origin will be used.\n *\n */\nclass OriginFetcher {\n    constructor(propertyContext) {\n        this.propertyContext = propertyContext;\n    }\n    /**\n     * Fetches a response from the origin and follows redirects based on provided options.\n     * @param req The request\n     * @param res The response\n     * @param options Additional options for this single fetch request\n     * @param providedOriginName The origin name to be used. If not provided, the origin name will be extracted from the request.\n     */\n    async fetch(req, res, options, providedOriginName) {\n        options = options || {};\n        const originName = providedOriginName || this.propertyContext.getDefaultOrigin(req);\n        const originConfig = this.propertyContext.getOrigin(originName);\n        if (!originConfig) {\n            throw new Error(`No origin was found with id=${originName}.`);\n        }\n        try {\n            await new Origin_1.default(originConfig).fetch(req, res, options);\n        }\n        catch (e) {\n            console.error(`Error fetching from origin ${originName}`, e);\n            convertErrorToResponse(e, res);\n        }\n        // if we get 416, we're out of range -> we refetch full asset if ignoreUnsatisfiableRanges\n        if (res.statusCode === 416 && options.ignoreUnsatisfiableRanges) {\n            req.removeHeader(constants_1.HTTP_HEADERS.range);\n            res.clear();\n            return this.fetch(req, res, options);\n        }\n    }\n    /**\n     * Removes sensitive headers from the request.\n     * @param req\n     */\n    removeSensitiveHeaders(req) {\n        req.removeHeader('authorization');\n        req.removeHeader('cookie');\n    }\n}\nexports.default = OriginFetcher;\nfunction convertErrorToResponse(e, res) {\n    var _a;\n    if (e instanceof Error) {\n        res.setHeader(constants_1.HTTP_HEADERS.xEdgServerlessError, e.message);\n        // @ts-ignore\n        if (((_a = e.cause) === null || _a === void 0 ? void 0 : _a.code) === 'ETIMEDOUT') {\n            res.statusCode = 504;\n            res.statusMessage = 'Gateway Timeout';\n            res.body = '504 - Gateway Timeout';\n            return;\n        }\n        else {\n            res.statusCode = 502;\n            res.statusMessage = 'Bad Gateway';\n            res.body = '502 - Bad Gateway';\n            return;\n        }\n    }\n    else {\n        res.setHeader(constants_1.HTTP_HEADERS.xEdgServerlessError, e.toString());\n    }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * `isEmpty` function instead of importing lodash.\n *\n * Note that this function is not entirely equivalent to lodash's but it uses far less space in the bundle.\n */\nfunction isEmpty(value) {\n    if (!value) {\n        return true;\n    }\n    if (typeof value.length === 'number') {\n        return !value.length;\n    }\n    if (typeof value === 'object' && Object.keys(value).length) {\n        return false;\n    }\n    return true;\n}\nexports.default = isEmpty;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CacheManifestRegexp = void 0;\n// This is specialized RegExp class that can check for negation\n// as this is not easy to do with the native RegExp class\nclass CacheManifestRegexp extends RegExp {\n    constructor(pattern, flags, isNot) {\n        super(pattern, flags);\n        this.isNot = isNot;\n    }\n    /**\n     * Test a string against a pattern that may be negated\n     */\n    test(value) {\n        const res = super.test(value);\n        return this.isNot === true ? !res : res;\n    }\n}\nexports.CacheManifestRegexp = CacheManifestRegexp;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.testRegExp = exports.paramMatcherToParam = exports.isParamMatcher = exports.deepMatchObject = exports.matchCriteriaRegexObjectWithRequestObject = void 0;\nconst CacheManifersRegexp_1 = require(\"../router/CacheManifersRegexp\");\n/*\nNote: this file contains functions that are needed in both the browser and the server.  These were originally\nin Route.ts, but extracted in order to keep Route.ts and it's depedencies from being pulled into the browser bundle.\n*/\nconst identity = (x) => x;\n/**\n * Compares criteria object with request object and returns Boolean.\n *\n * The comparison of keys is case-sensitive by default but an optional `criteriaObjKeyNameFn`\n * parameter can be passed to force case-insensitive comparison.\n *\n * @param criteriaObj Object that contains the criteria ([key]: regex | null)\n * @param requestObj Request object that contains ([key]: string | [key]: string[] | undefined)\n * @param criteriaObjKeyNameFn Optional function to process criteria key names; by default set to `identity`\n *\n * @returns Boolean\n * true when all conditions are matching\n * false if one of the conditions failed\n */\nfunction matchCriteriaRegexObjectWithRequestObject(criteriaObj, requestObj, criteriaObjKeyNameFn = identity) {\n    let params = {};\n    return (Object.entries(criteriaObj).every(([name, regex]) => {\n        const value = requestObj[criteriaObjKeyNameFn(name)];\n        // When regex is null we match that the value *does not* exist (the undefined case).\n        // When regex is string, we convert it to regex matching the whole string.\n        // When regex is a matching key (ex: ':id') and the value is a string, we extract that into\n        // matcher params\n        if (regex === null) {\n            return value === undefined;\n        }\n        else if (typeof regex === 'string') {\n            if (typeof value === 'string' && isParamMatcher(regex)) {\n                const paramName = paramMatcherToParam(regex);\n                params[paramName] = value;\n                return true;\n            }\n            regex = new RegExp(`^${regex}$`, 'i');\n        }\n        return testRegExp(regex, value);\n    }) && params);\n}\nexports.matchCriteriaRegexObjectWithRequestObject = matchCriteriaRegexObjectWithRequestObject;\n/**\n * Tests to see if source object deeply matches the criteria object\n *\n * @param source Object\n * @param criteria Object\n *\n * @returns boolean\n */\nfunction deepMatchObject(source, criteria) {\n    return Object.entries(criteria).every(([key, criteriaValue]) => {\n        const sourceValue = source[key];\n        if (!sourceValue)\n            return false;\n        if (criteriaValue instanceof RegExp) {\n            return testRegExp(criteriaValue, sourceValue);\n        }\n        else if (typeof criteriaValue === 'object' && criteriaValue !== null) {\n            return deepMatchObject(sourceValue, criteriaValue);\n        }\n        else {\n            return sourceValue == criteriaValue;\n        }\n    });\n}\nexports.deepMatchObject = deepMatchObject;\n/**\n * Returns true if the value is a matcher that is used to extract\n * request params, like ':id' or ':path'\n * @param value\n */\nfunction isParamMatcher(value) {\n    return typeof value === 'string' && /^:\\w+$/.test(value);\n}\nexports.isParamMatcher = isParamMatcher;\n/**\n * Transform a route param matcher to the param name\n * ex: ':id' -> 'id'\n * @param value\n */\nfunction paramMatcherToParam(value) {\n    return value.slice(1);\n}\nexports.paramMatcherToParam = paramMatcherToParam;\n/**\n * Ensures that the regular expression will be tested anew, without changing its internal state.\n *\n * Notes:\n * - Sometimes users use global for RegExp definitions. In those cases `.test` changes the internal\n * state and leads to different requests on subsequent calls (usually flip-flopping between\n * subsequent requests)\n *\n * @private\n * @param regexp Regular expression\n * @param value Value to test or array of values to test\n */\nfunction testRegExp(regexp, value) {\n    if (value == null) {\n        return false;\n    }\n    if (regexp.global) {\n        regexp = new CacheManifersRegexp_1.CacheManifestRegexp(regexp, regexp.flags, regexp.isNot);\n    }\n    if (Array.isArray(value)) {\n        return value.some(v => regexp.test(v));\n    }\n    else {\n        return regexp.test(value);\n    }\n}\nexports.testRegExp = testRegExp;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst RouteCriteria_1 = require(\"./RouteCriteria\");\nconst path_to_regexp_1 = require(\"path-to-regexp\");\nconst universalRouteUtils_1 = require(\"../utils/universalRouteUtils\");\nclass ParamsExtractor {\n    constructor(routeCriteria) {\n        this.routeCriteria = {};\n        this.updateRouteCriteria(routeCriteria);\n    }\n    updateRouteCriteria(routeCriteria) {\n        this.routeCriteria = {\n            path: routeCriteria === null || routeCriteria === void 0 ? void 0 : routeCriteria.path,\n            query: routeCriteria === null || routeCriteria === void 0 ? void 0 : routeCriteria.query,\n        };\n    }\n    /**\n     * Returns the object with extracted params from request path and query matched by latest routeCriteria\n     * @returns\n     */\n    extract(request) {\n        var _a, _b;\n        return {\n            ...(((_a = this.routeCriteria) === null || _a === void 0 ? void 0 : _a.path) && !(0, RouteCriteria_1.isNegation)(this.routeCriteria.path)\n                ? ParamsExtractor.getMatchedPathParams(this.routeCriteria.path, request.path)\n                : {}),\n            ...(((_b = this.routeCriteria) === null || _b === void 0 ? void 0 : _b.query)\n                ? ParamsExtractor.getMatchedQueryParams(this.routeCriteria.query, request.query)\n                : {}),\n        };\n    }\n    /**\n     * Returns params from request path matched by route criteria path\n     * @param criteriaPath\n     * @param requestPath\n     * @returns\n     */\n    static getMatchedPathParams(criteriaPath, requestPath) {\n        // When criteriaPath is a RegExp, we extract matched groups from requestPath\n        // and expose them in params object under \"$\" key.\n        // Example: $1 => req.params.$[1]\n        if (criteriaPath instanceof RegExp)\n            return {\n                $: criteriaPath.exec(requestPath) || [],\n            };\n        if (Array.isArray(criteriaPath))\n            return undefined;\n        const pathMatcher = (0, path_to_regexp_1.match)(criteriaPath.toString(), { decode: decodeURIComponent });\n        const result = pathMatcher(requestPath);\n        return result ? result.params : undefined;\n    }\n    /**\n     * Returns params from request query matched by route criteria query\n     * @param criteriaQuery object of routeCriteria queries\n     * @param requestQuery object of parsed queries\n     * @returns\n     */\n    static getMatchedQueryParams(criteriaQuery, requestQuery) {\n        let extractedParams = {};\n        if (typeof requestQuery !== 'object')\n            return extractedParams;\n        for (const criteriaQueryKey in criteriaQuery) {\n            const criteriaQueryValue = criteriaQuery[criteriaQueryKey];\n            if (typeof criteriaQueryValue !== 'string' || !(0, universalRouteUtils_1.isParamMatcher)(criteriaQueryValue))\n                continue;\n            const paramName = (0, universalRouteUtils_1.paramMatcherToParam)(criteriaQueryValue);\n            extractedParams = {\n                ...extractedParams,\n                [paramName]: requestQuery[paramName],\n            };\n        }\n        return extractedParams;\n    }\n}\nexports.default = ParamsExtractor;\n", "'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n", "'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n", "'use strict';\n\nvar test = {\n\tfoo: {}\n};\n\nvar $Object = Object;\n\nmodule.exports = function hasProto() {\n\treturn { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);\n};\n", "'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n", "'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n", "'use strict';\n\nvar hasOwnProperty = {}.hasOwnProperty;\nvar call = Function.prototype.call;\n\nmodule.exports = call.bind ? call.bind(hasOwnProperty) : function (O, P) {\n  return call.call(hasOwnProperty, O, P);\n};\n", "'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n", "'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n", "module.exports = require('util').inspect;\n", "var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (obj === global) {\n        /* eslint-env browser */\n        if (typeof window !== 'undefined') {\n            return '{ [object Window] }';\n        }\n        return '{ [object global] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n", "'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n", "'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n", "'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix + '[]' : prefix;\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, key) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            strictNullHandling,\n            skipNulls,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n    if (opts && 'commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    var commaRoundTrip = generateArrayPrefix === 'comma' && opts && opts.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('\u2713')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n", "'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the \u2713 character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the \u2713 character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('\u2713')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n", "'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serializeCookie = void 0;\n/**\n * Serializes a cookie name with value and its options into a string\n * format of set-cookie header.\n * @param name\n * @param value\n * @param options\n * @example serializeCookie('name', 'value', { domain: 'test.com', HttpOnly: true, Secure: true }) => 'name=value; domain=test.com; HttpOnly; Secure'\n */\nfunction serializeCookie(name, value, options = {}) {\n    return Object.keys(options).reduce((output, key) => {\n        const opt = options[key];\n        if (typeof opt === 'boolean' && opt)\n            return `${output}; ${key}`;\n        return `${output}; ${key}=${opt}`;\n    }, `${name}=${value}`);\n}\nexports.serializeCookie = serializeCookie;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toTimeInterval = void 0;\n/**\n * Converts to from number or string to TimeInterval type, this is mostly\n * done when we do conversion from EdgeJs fluent API calls to Sailfish definition\n * @param value\n * @returns\n */\nconst toTimeInterval = (value) => {\n    if (typeof value === 'string') {\n        return value;\n    }\n    return `${value}s`;\n};\nexports.toTimeInterval = toTimeInterval;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"../constants\");\nconst path_1 = require(\"./path\");\nconst origins_1 = require(\"../origins\");\nconst RouteCriteria_1 = require(\"./RouteCriteria\");\nconst constants_2 = require(\"../constants\");\nconst RedirectOptions_1 = require(\"./RedirectOptions\");\nconst OriginFetcher_1 = __importDefault(require(\"../runtime/OriginFetcher\"));\nconst isEmpty_1 = __importDefault(require(\"../utils/isEmpty\"));\nconst bindParams_1 = __importDefault(require(\"../utils/bindParams\"));\nconst ParamsExtractor_1 = __importDefault(require(\"./ParamsExtractor\"));\nconst qs_1 = __importDefault(require(\"qs\"));\nconst toEdgeRegex_1 = __importDefault(require(\"../utils/toEdgeRegex\"));\nconst cookieUtils_1 = require(\"../utils/cookieUtils\");\nconst exact_1 = require(\"../router/exact\");\nconst toTimeInterval_1 = require(\"./converters/toTimeInterval\");\n/**\n * RouteHelper makes it easy to implement common request handling patterns and provides backwards compatibility with Layer0's\n * [ResponseWriter](https://docs.layer0.co/docs/api/core/classes/_router_responsewriter_.responsewriter.html) class.\n *\n * When a function is passed to the second argument of a route, that function is provided with an instance of RouteHelper as the sole argument.\n * For example:\n *\n * **Example**\n *\n * ```js\n *  import { Router } = from '@edgio/core/router'\n *\n *  export default new Router()\n *    .get('/favicon.ico', ({ serveStatic }) => { // the parameter provided here is an instance of RouteHelper\n *      serveStatic('images/favicon.ico')\n *    })\n * ```\n */\nclass RouteHelper {\n    /**\n     * @private\n     * @param criteria\n     * @param router\n     */\n    constructor(criteria, router) {\n        this.features = {};\n        /**\n         * Adds features to the route using features json object. This can be used to combine\n         * functional style route setting with object style route setting.\n         */\n        this.addFeatures = (features) => {\n            this.features = { ...this.features, ...features };\n        };\n        /**\n         * Serves a service worker with proper edge and browser cache headers.\n         * @param filePath The path to the service worker relative to the root directory of your app\n         *\n         * **Example**\n         *\n         * ```js\n         *  import { Router } = from '@edgio/core/router'\n         *\n         *  export default new Router()\n         *    .get('/service-worker.js', ({ serviceWorker }) => {\n         *      serviceWorker('dist/service-worker.js')\n         *    })\n         * ```\n         */\n        this.serviceWorker = (filePath) => {\n            this.cache({ edge: { maxAgeSeconds: constants_1.FAR_FUTURE_TTL }, browser: false });\n            if (filePath) {\n                this.serveStatic(filePath);\n            }\n            else {\n                this.setOrigin(origins_1.STATIC_ORIGIN_NAME);\n                this.rewritePath(undefined, `${(0, origins_1.getPathPrefix)(origins_1.STATIC_ORIGIN_NAME)}/service-worker.js`);\n            }\n        };\n        /**\n         * Sets the caching behavior for both browser and edge.\n         *\n         * **Example**\n         *\n         * ```\n         *  import { Router } = from '@edgio/core/router'\n         *\n         *  export default new Router()\n         *    .get('/p/:productId', ({ cache, proxy }) => {\n         *      cache({\n         *        browser: {\n         *          maxAgeSeconds: 0,\n         *          serviceWorkerSeconds: 60 * 60, // 1 hour\n         *        },\n         *        edge: {\n         *          maxAgeSeconds: 60 * 60 * 24, // 24 hours\n         *          staleWhileRevalidateSeconds: 60 * 60 // 1 hour\n         *        }\n         *      })\n         *      proxy('origin')\n         *    })\n         * ```\n         *\n         * The `cache()` method can be called in the same route where the response is sent, or any prior route.  For example,\n         * with Next.js, it is common to use the next plugin to automatically inherit page routes based on Next.js conventions,\n         * and use Layer0 router simply to add caching:\n         *\n         * ```\n         *  import { Router } = from '@edgio/core/router'\n         *  import { nextRoutes } from '@edgio/next'\n         *\n         *  const { nextMiddleware, renderNext } = createNextPlugin()\n         *\n         *  export default new Router()\n         *    .get('/p/:productId', ({ cache, proxy }) => {\n         *      cache({\n         *        browser: {\n         *          maxAgeSeconds: 0,\n         *          serviceWorkerSeconds: 60 * 60, // 1 hour\n         *        },\n         *        edge: {\n         *          maxAgeSeconds: 60 * 60 * 24, // 24 hours\n         *          staleWhileRevalidateSeconds: 60 * 60 // 1 hour\n         *        }\n         *      })\n         *      proxy('origin')\n         *    })\n         *    .use(nextRoutes)\n         * ```\n         */\n        this.cache = (options) => {\n            this.features.caching = this.features.caching || {};\n            const { caching } = this.features;\n            if (options.edge) {\n                if (options.edge.maxAgeSeconds) {\n                    caching.max_age = (0, toTimeInterval_1.toTimeInterval)(options.edge.maxAgeSeconds);\n                }\n                if (options.edge.staleWhileRevalidateSeconds) {\n                    caching.stale_while_revalidate = (0, toTimeInterval_1.toTimeInterval)(options.edge.staleWhileRevalidateSeconds);\n                }\n                if (options.edge.forcePrivateCaching) {\n                    caching.ignore_origin_no_cache = [200];\n                }\n            }\n            else if (options.edge === false) {\n                caching.bypass_cache = true;\n            }\n            if (options && options.cacheableStatusCodes) {\n                caching.cacheable_status_codes = options.cacheableStatusCodes;\n            }\n            if (options && options.enableCachingMethods) {\n                caching.enable_caching_for_methods = options.enableCachingMethods;\n            }\n            if (options.browser) {\n                if (options.browser.serviceWorkerSeconds == null && options.browser.maxAgeSeconds == null) {\n                    throw new Error('The browser cache setting should specify serviceWorkerSeconds or maxAgeSeconds.');\n                }\n                if (options.browser.serviceWorkerSeconds) {\n                    // We still need to set the header for the service worker to work\n                    // because we are checking it in @edgio/prefetch/sw/PrefetchPlugin.\n                    // This is the way how we can store the SW TTL together with response in cache\n                    // and override it with options from prefetch() function.\n                    // TODO: remove this when we will have a better way to store modified SW TTL in cache by PrefetchPlugin\n                    this.setResponseHeader(constants_2.HTTP_HEADERS.xSwCacheControl, `max-age=${options.browser.serviceWorkerSeconds}`);\n                    caching.service_worker_max_age = (0, toTimeInterval_1.toTimeInterval)(options.browser.serviceWorkerSeconds);\n                }\n                if (options.browser.maxAgeSeconds === 0) {\n                    caching.bypass_client_cache = true;\n                }\n                else if (options.browser.maxAgeSeconds) {\n                    caching.client_max_age = (0, toTimeInterval_1.toTimeInterval)(options.browser.maxAgeSeconds);\n                }\n            }\n            else if (options.browser === false) {\n                caching.bypass_client_cache = true;\n            }\n            if (options.key) {\n                options.key.applyCaching(this.features);\n            }\n        };\n        /**\n         * Responds with a static asset from the specified path.\n         *\n         * **Example**\n         *\n         * ```js\n         * serveStatic('path/to/asset/from/app/root')\n         * ```\n         *\n         * You can also use variables in the asset path.  For example, to return files under the `assets` directory\n         * when the url starts with `/static`:\n         *\n         * ```\n         *  new Router()\n         *    .get('/static/:path*', ({ serveStatic }) => {\n         *      serveStatic('assets/:path*')\n         *    })\n         * ```\n         *\n         * The substitution group params can be used in the asset path when path criteria is Regular Expression.\n         * The same functionality can be achieved using the code below.\n         *\n         * ```\n         *  new Router()\n         *    .get(/\\/static\\/(.*)/, ({ serveStatic }) => {\n         *      serveStatic('assets/$1')\n         *    })\n         * ```\n         * @param path The relative path to the asset from the app's root directory. You can reference path variables using `:variable`.\n         * @param options The different options to serving static assets including fallback to compute\n         * @returns A promise the resolves once the asset has been fetched from storage.\n         */\n        this.serveStatic = (path, options = {}) => {\n            var _a, _b, _c;\n            const { edgeMaxAgeSeconds = constants_1.FAR_FUTURE_TTL, permanent } = options;\n            /*\n             * Notes:\n             * - if a folder contains an 'index.html', that page is also served when requesting the parent folder route.\n             *   Let's take the example of /posts/1 that will render /posts/1/index.html)\n             *   They are multiple components involved in this rewrite to make it work with S3 storage:\n             *\n             *   1. DeploymentBuilder creates and bundles an assets-aliases.json file, that indicates that\n             *     '/posts/1' should point to '/posts/1/index.html' asset file.\n             *   2. layer0-subaccount-infra/components/deploy-lambda/src/deploy.js re-uploads '/posts/1/index.html'\n             *     as '/posts/1' s3 key, which works because S3 is a key based storage and not a filesystem.\n             *     It's a bit of a hack and takes extra space, but allows root document rendering.\n             *   3. serveStatic(), both in ResponseWriter ad EdgeResponseWriter, remove any trailing slash on path\n             *     so that both '/posts/1/' and '/posts/1' match the '/posts/1' S3 file\n             *\n             * - We did not use S3 built-in Static Website feature for multiple reasons:\n             *   1. It is http only\n             *   2. /build-slug/public/posts/ renders /build-slug/public/posts/index.html correctly, but /build-slug/public/posts\n             *      without a trailing slash redirects to /build-slug/public/posts/.\n             *      While it's easy to rewrite the path and remove trailing slashes, we actually do, it's not easy\n             *      to add missing trailing slash as we don't know beforehand if the route is a directory or a file.\n             *      Having a redirect on every route is not acceptable either.\n             *      The Location header would also need to be rewritten to be relative to the actual website and\n             *      not the bucket prefix, but that's manageable.\n             *\n             * - ISG/ISR:\n             *   When handling a request for a static asset that is not in S3, the request follows this path:\n             *\n             *     Browser => Edge => S3 (requested asset, which results in a 404)\n             *                Edge => Buffer Proxy => S3 (options.loadingPage, if provided) => Response returned\n             *                                     => Edge => Buffer Proxy => Lambda => BehindEdgeResponseWriter => options.onNotFound => SSR (then this response is cached for the next request)\n             *\n             *   Note that BehindEdgeResponseWriter is the key here. It overrides serveStatic and if options.onNotFound is provided, it will always be called.\n             *\n             */\n            this.cache({ edge: { maxAgeSeconds: edgeMaxAgeSeconds } });\n            const origin = permanent ? origins_1.PERMANENT_STATIC_ORIGIN_NAME : origins_1.STATIC_ORIGIN_NAME;\n            this.setOrigin(origin);\n            const pathPrefix = (0, origins_1.getPathPrefix)(origin);\n            path = path.startsWith('/') ? path.slice(1) : path;\n            // In case the route criteria path is array (IN operator) or negation,\n            // we can't use it as a source for rewritePath\n            const sourceFromCriteria = (0, RouteCriteria_1.isNegation)((_a = this.routeCriteria) === null || _a === void 0 ? void 0 : _a.path) || Array.isArray((_b = this.routeCriteria) === null || _b === void 0 ? void 0 : _b.path)\n                ? undefined\n                : (_c = this.routeCriteria) === null || _c === void 0 ? void 0 : _c.path;\n            // We will always try to use rewrite source from options first, then from criteria and then default to '/:path*'\n            const source = (options === null || options === void 0 ? void 0 : options.rewritePathSource) || sourceFromCriteria || '/:path*';\n            if (options.statusCode) {\n                this.setResponseCode(options.statusCode);\n            }\n            // TODO remove this once edge control supports path_prefix in origins.hosts\n            this.rewritePath(source, `${pathPrefix}/${path}`, true);\n        };\n        /**\n         * Renders a result in Edgio's serverless cloud using your application. Use this method\n         * to respond with an SSR or API result from your application.\n         */\n        this.renderWithApp = () => {\n            this.sendToServerless(constants_1.EDGIO_SERVERLESS_HINTS.app);\n        };\n        /**\n         * Execute the provided callback function in the cloud. The callback is passed the request and the response.\n         *\n         * Use this method when you need to compute a response in the cloud rather than at the edge or at build time. A common example\n         * is when the response must be computed based on request parameters, headers, or cookies.\n         *\n         * A common example is to look up the destination for a redirect from an external API:\n         *\n         * ```js\n         *  new Router()\n         *    .get('/products/:id', ({ redirect, compute }) => {\n         *      compute(async (request, response) => {\n         *        const destination = await getDestinationFromAPI(request.params.id)\n         *        redirect(destination)\n         *      })\n         *    })\n         * ```\n         *\n         * This method can be combined with `cache` to compute responses in the cloud and cache them at edge:\n         *\n         * ```js\n         *  new Router()\n         *    .get('/products/:id', ({ cache, redirect, compute }) => {\n         *      cache({\n         *        edge: {\n         *          maxAgeSeconds: 60 * 60 * 24,\n         *          staleWhileRevalidateSeconds: 60 * 60,\n         *        }\n         *      })\n         *      compute(async (request, response) => {\n         *        const destination = await getDestinationFromAPI(request.params.id)\n         *        redirect(destination)\n         *      })\n         *    })\n         * ```\n         *\n         * Note: when calling `compute` in combination with `serveStatic`, the result of the `serveStatic` must be\n         * awaited in order to get the result from `serveStatic`, otherwise only reslut of the `compute` method\n         * will be returned.\n         *\n         * ```js\n         * new Router()\n         *   .get('/products/:id', ({ redirect, compute }) => {\n         *      compute(async (request, response) => {\n         *        const destination = await getDestinationFromAPI(request.params.id)\n         *        await serveStatic(destination)\n         *      })\n         *    })\n         * ```\n         *\n         * Note: Extracted params from express-style criteria are available as object under req.params.\n         * When regular expression is used as path criteria, the matched group params are available as array under req.params.$.\n         * Example: $1 => req.params.$[1]\n         *\n         * @param fn A function to run in the cloud to compute the response\n         */\n        this.compute = (fn) => {\n            this.sendToServerless(constants_1.EDGIO_SERVERLESS_HINTS.compute, fn);\n        };\n        /**\n         * Relays the request to the specified origin.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path/with/:variable', ({ proxy }) => {\n         *      proxy('legacy', { path: '/some/other/path/with/:variable' })\n         *    })\n         * ```\n         *\n         * In this example, we relay the request to the \"legacy\" origin. In this case, `edgio.config.js` must\n         * contain a definition for the `legacy` origin.  For example:\n         *\n         * ```\n         *  // edgio.config.js\n         *\n         *  module.exports = {\n         *    routes: \"./routes.js\",\n         *    ...\n         *    origins: [\n         *       {\n         *         name: 'legacy',\n         *         balancer: 'round_robin',\n         *         hosts: [{ location: 'legacy.domain.com' }],\n         *       },\n         *     ],\n         *  }\n         * ```\n         *\n         * @param backend The name of one of the origins in your `edgio.config.js` file.\n         * @param options\n         * @returns A promise the resolves once the response has been fetched from the upstream site.\n         */\n        this.proxy = (backend, options) => {\n            this.setOrigin(backend);\n            if ((options === null || options === void 0 ? void 0 : options.transformRequest) || (options === null || options === void 0 ? void 0 : options.transformResponse)) {\n                // if either transformRequest or transformResponse are provided, we need to use serverless\n                // since sailfish does not support these options\n                this.sendToServerless(constants_1.EDGIO_SERVERLESS_HINTS.proxy, async (req, res, propertyContext) => {\n                    // we know that lambdaresponse is used internally, just not exposed in compute api for users\n                    const lambdaResponse = res;\n                    (options === null || options === void 0 ? void 0 : options.transformRequest) && options.transformRequest(req);\n                    // TODO: if we dont tranform response, we COULD stream the body chunk by chunk, but we dont have\n                    // an access to requestcontext here so its moreso an idea for the future, as its an edge case\n                    // if (!options?.transformResponse) {\n                    //   lambdaResponse.setOnWrite(async () => await this.context.executeStreamResponse())\n                    // }\n                    await new OriginFetcher_1.default(propertyContext).fetch(req, res, {\n                        headers: options === null || options === void 0 ? void 0 : options.headers,\n                        removeEmptySearchParamValues: options === null || options === void 0 ? void 0 : options.removeEmptySearchParamValues,\n                        path: options === null || options === void 0 ? void 0 : options.path,\n                    }, backend);\n                    // we create body from received chunks, so users can further transform it in transformResponse\n                    // the ending chunk is always null, therefore we omit it, otherwise the buffer wont be able to concat\n                    lambdaResponse.body = Buffer.concat(lambdaResponse.chunks.slice(0, -1));\n                    // if we dont transform response, the chunks are already in proper format at this time\n                    if (options === null || options === void 0 ? void 0 : options.transformResponse) {\n                        options.transformResponse(res, req);\n                        res.setHeader('Content-Length', lambdaResponse.body.length.toString());\n                    }\n                });\n            }\n            else if (options) {\n                // otherwise we can transform the request at the edge using features\n                if (options.path) {\n                    const destination = typeof options.path === 'string' ? options.path : options.path();\n                    // If path is an array (InOperatorValues), we use match all as a path\n                    // as we cannot know which path will be used, so whatever is matched pass it to the origin\n                    // otherwise if it is.\n                    // Matching against negation doesnt make sense.\n                    const path = Array.isArray(this.routeCriteria.path) || (0, RouteCriteria_1.isNegation)(this.routeCriteria.path)\n                        ? '/:path*'\n                        : this.routeCriteria.path;\n                    if (destination) {\n                        this.rewritePath(path, destination);\n                    }\n                }\n                if (options === null || options === void 0 ? void 0 : options.headers) {\n                    for (const [key, value] of Object.entries(options.headers)) {\n                        this.setRequestHeader(key, value);\n                    }\n                }\n                if ((options === null || options === void 0 ? void 0 : options.followRedirects) != null) {\n                    if (!this.features.url)\n                        this.features.url = {};\n                    this.features.url.follow_redirects = options === null || options === void 0 ? void 0 : options.followRedirects;\n                }\n            }\n        };\n        /**\n         * Adds or replaces existing response header\n         * immediately before delivering the response downstream.\n         * New value can be appended to the end of existing value by prepending a `+` symbol to the header name.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ setResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      setResponseHeader('new-header', 'some-value')\n         *      setResponseHeader('+existing-header', 'other-value')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the response header\n         * @param value The value to set\n         */\n        this.setResponseHeader = (name, value) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            /* istanbul ignore else */\n            if (!this.features.headers.set_response_headers) {\n                this.features.headers.set_response_headers = {};\n            }\n            const headers = this.features.headers.set_response_headers;\n            headers[name] = value;\n        };\n        /**\n         * Adds new response header without replacing existing headers with the same name\n         * before delivering the response downstream.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ addResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      addResponseHeader('some-header', 'some-value')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the response header\n         * @param value The value to set\n         */\n        this.addResponseHeader = (name, value) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            /* istanbul ignore else */\n            if (!this.features.headers.add_response_headers) {\n                this.features.headers.add_response_headers = {};\n            }\n            const headers = this.features.headers.add_response_headers;\n            headers[name] = value;\n        };\n        /**\n         * Alters a response header immediately before delivering the response downstream.\n         * Use this method to derive the new header value from the existing one.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ updateResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      updateResponseHeader('some-header', /some-.*-part/gi, 'some-replacement')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the response header\n         * @param match Regex to find the part that should be replaced.\n         * @param replace Value that will replace the matched part.\n         */\n        this.updateResponseHeader = (name, match, replace) => {\n            // Creates Find And Replace interpolation expression from the given regex and replacement string\n            this.setResponseHeader(name, `%{resp_${name}/${match.global ? '/' : ''}${(0, toEdgeRegex_1.default)(match, '', true)}/${replace}}`);\n        };\n        /**\n         * Removes a response header immediately before delivering the response downstream.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ removeResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      removeResponseHeader('some-header')\n         *    })\n         * ```\n         * @param name The case-insensitive name of the response header\n         */\n        this.removeResponseHeader = (name) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            if (!this.features.headers.remove_response_headers) {\n                this.features.headers.remove_response_headers = [];\n            }\n            this.features.headers.remove_response_headers.push(name);\n        };\n        /**\n         * Removes a header from the response provided by an origin server.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ removeUpstreamResponseHeader, proxy }) => {\n         *      proxy('origin')\n         *      removeUpstreamResponseHeader('some-header')\n         *    })\n         * ```\n         * @param name The case-insensitive name of the response header\n         */\n        this.removeUpstreamResponseHeader = (name) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            if (!this.features.headers.remove_origin_response_headers) {\n                this.features.headers.remove_origin_response_headers = [];\n            }\n            this.features.headers.remove_origin_response_headers.push(name);\n        };\n        /**\n         * Adds or replaces a request header.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ setRequestHeader, proxy }) => {\n         *      setRequestHeader('some-header', 'some-value')\n         *      proxy('origin')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the request header\n         * @param value The value to set\n         */\n        this.setRequestHeader = (name, value) => {\n            /* istanbul ignore else */\n            if (!this.features.headers) {\n                this.features.headers = {};\n            }\n            /* istanbul ignore else */\n            if (!this.features.headers.set_request_headers) {\n                this.features.headers.set_request_headers = {};\n            }\n            const headers = this.features.headers.set_request_headers;\n            headers[name] = value;\n        };\n        /**\n         * Alters a request header. Use this method to derive the new header value from the existing one.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ updateRequestHeader, proxy }) => {\n         *      updateRequestHeader('some-header', /some-.*-part/gi, 'some-replacement')\n         *      proxy('origin')\n         *    })\n         * ```\n         *\n         * @param name The case-insensitive name of the request header\n         * @param match Regex to find the part that should be replaced.\n         * @param replace Value that will replace the matched part.\n         */\n        this.updateRequestHeader = (name, match, replace) => {\n            // Creates Find And Replace interpolation expression from the given regex and replacement string\n            this.setRequestHeader(name, `%{http_${name}/${match.global ? '/' : ''}${(0, toEdgeRegex_1.default)(match, '', true)}/${replace}}`);\n        };\n        /**\n         * Adds or replaces a response body. It optionally sets response code or message.\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ setResponseBody }) => {\n         *      setResponseBody('<html><body>Hello World!</body></html>', 200, 'OK')\n         *    })\n         * ```\n         *\n         * @param body The response body.\n         * @param code The response code.\n         * @param done Indicates that this is last feature\n         */\n        this.setResponseBody = (body, code, done) => {\n            if (!this.features.response) {\n                this.features.response = {};\n            }\n            this.features.response.set_done = !!done;\n            this.features.response.set_response_body = body;\n            if (code)\n                this.features.response.set_status_code = code;\n        };\n        /**\n         * Adds or replaces a response code.\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ setResponseCode, proxy }) => {\n         *      setResponseCode(200)\n         *      proxy('origin')\n         *    })\n         * ```\n         *\n         * @param code The response code.\n         */\n        this.setResponseCode = (code) => {\n            if (!this.features.response) {\n                this.features.response = {};\n            }\n            this.features.response.set_status_code = code;\n        };\n        /**\n         * Sends the necessary response headers to allow CORS.\n         *\n         * **Example**\n         *\n         * ```js\n         *  new Router()\n         *    .match('/api/:path*', ({ allowCors }) => {\n         *      allowCors({\n         *        origin: '*', // this is the default\n         *        methods: ['get', 'post'],\n         *        headers: ['x-some-header'],\n         *        maxAge: 60 * 60, // one hour\n         *        credentials: true\n         *      })\n         *    })\n         * ```\n         *\n         * @param config\n         */\n        this.allowCors = (config = {}) => {\n            this.setResponseHeader('Access-Control-Allow-Origin', config.origin || '*');\n            if (config.methods) {\n                this.setResponseHeader('Access-Control-Allow-Methods', config.methods.join(', '));\n            }\n            if (config.headers) {\n                this.setResponseHeader('Access-Control-Allow-Headers', config.headers.join(', '));\n            }\n            if (config.maxAge) {\n                this.setResponseHeader('Access-Control-Max-Age', config.maxAge.toString());\n            }\n            if (config.credentials != null) {\n                this.setResponseHeader('Access-Control-Allow-Credentials', config.credentials.toString());\n            }\n        };\n        /**\n         * Adds a path_rewrite feature using path-to-regexp syntax for the source and destination\n         * @param source\n         * @param destination\n         * @param skipOptionalQuery\n         * @private\n         */\n        this.rewritePath = (source, destination, skipOptionalQuery) => {\n            /* istanbul ignore else */\n            if (!this.features.url) {\n                this.features.url = {};\n            }\n            /* istanbul ignore else */\n            if (!this.features.url.url_rewrite) {\n                this.features.url.url_rewrite = [];\n            }\n            // Convert ExactPath to string to\n            // allow CriteriaPath to be used as source.\n            if (source instanceof exact_1.ExactPath) {\n                source = source.toString();\n            }\n            if (typeof source === 'string') {\n                // When source is string, we can assume that the user wants to use the path-to-regexp syntax with support for named parameters.\n                this.features.url.url_rewrite.push((0, path_1.rewritePath)(source, destination, skipOptionalQuery));\n            }\n            else {\n                // The user will have to write substitution groups in destination by themselves when regex is used as source.\n                this.features.url.url_rewrite.push({\n                    syntax: 'regexp',\n                    source: source ? (0, toEdgeRegex_1.default)(source) : undefined,\n                    destination,\n                });\n            }\n        };\n        /**\n         * Rewrites the request path.\n         *\n         * Example:\n         *\n         * ```js\n         *  router.get('/products/:id', ({ updatePath }) => {\n         *    updatePath('/p/:id')\n         *  })\n         * ```\n         *\n         * The substitution group params can be used in the asset path when path criteria is Regular Expression.\n         * The same functionality can be achieved using the code below.\n         *\n         * ```js\n         *  new Router()\n         *    .get(/\\/products\\/(.+)/, ({ updatePath }) => {\n         *      updatePath('/p/$1')\n         *    })\n         * ```\n         *\n         * @param destination a new route path, which can include params captured from the original path\n         */\n        this.updatePath = (destination) => {\n            var _a;\n            // params should be extracted by the latest path rule\n            this.paramsExtractor.updateRouteCriteria({\n                path: destination,\n            });\n            this.rewritePath((_a = this.routeCriteria.path) !== null && _a !== void 0 ? _a : '/:path*', destination);\n        };\n        /**\n         * Sends string content back to client. If content is a string, the response will be sent\n         * directly from the edge. If it is a function, the request will be computed by a JavaScript worker.\n         * StatusCode defaults to 200. On error routes we send the status code\n         * as null, since we need to preserve the status code of the failed request unless it is provided.\n         * @param content The content to send to the browser\n         * @param statusCode The HTTP status code.\n         * @param statusMessage The HTTP status message\n         */\n        this.send = (content, statusCode) => {\n            if (typeof content === 'function') {\n                this.compute(async (req, res) => {\n                    res.body = content();\n                    res.statusCode = statusCode;\n                });\n                return;\n            }\n            this.setResponseBody(content, statusCode, true);\n        };\n        /**\n         * Removes a request header.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', async ({ removeRequestHeader, proxy }) => {\n         *      removeRequestHeader('some-header')\n         *      proxy('origin')\n         *    })\n         * ```\n         * @param name The case-insensitive name of the request header\n         */\n        this.removeRequestHeader = (name) => {\n            // create empty object when no object exists\n            this.features.headers = !this.features.headers ? {} : this.features.headers;\n            this.features.headers.set_request_headers = !this.features.headers.set_request_headers\n                ? {}\n                : this.features.headers.set_request_headers;\n            // Removing header by setting it to empty (empty headers are not added to result) because there's no\n            // remove_request_header option in schema?\n            const headers = this.features.headers.set_request_headers;\n            headers[name] = '';\n        };\n        /**\n         * Serves an HTML app shell from a static file.\n         * @param indexHtmlPath The path to the app shell html file\n         *\n         * **Example**\n         *\n         * ```js\n         *  new Router()\n         *    .fallback(({ appShell }) => {\n         *      appShell('dist/index.html')\n         *    })\n         * ```\n         */\n        this.appShell = (indexHtmlPath) => {\n            this.setResponseHeader(constants_2.HTTP_HEADERS.contentType, 'text/html');\n            this.serveStatic(indexHtmlPath);\n        };\n        /**\n         * Redirects the browser to a new location.\n         * Query params from the original request are added to the redirect URL\n         *\n         * **Examples**\n         *\n         * ```\n         *  new Router()\n         *    .get('/p/:productId', ({ redirect }) => {\n         *      return redirect('/products/:productId', { statusCode: 301 })\n         *    })\n         *.\n         *  // The substitution group params can be used in the redirect location when path criteria is Regular Expression.\n         *  new Router()\n         *    .get(/\\/p\\/(.+)/, ({ redirect }) => {\n         *      return redirect('/products/$1', { statusCode: 301 })\n         *    })\n         *\n         *  // Extract id from route and apply as query string\n         *  new Router()\n         *    .get('/p/:productId', ({ redirect }) => {\n         *      return redirect('/product', { query: { id: ':productId' }})\n         *    })\n         *\n         *  new Router()\n         *  .get(/\\/p\\/(\\d+)\\/?/, ({ redirect }) => {\n         *      return redirect('/product', { query: { id: '$1' }})\n         *    })\n         *\n         *  // Extract id from query string and apply to route\n         *  new Router()\n         *    .get({ path: '/p', query: { id: ':id' } }, ({ redirect }) => {\n         *      return redirect('/product/:id')\n         *    })\n         * ```\n         *\n         * @param to The URL to which the browser will be redirected.\n         * @param options\n         * @param options.statusCode The HTTP status to return. Defaults to 302\n         * @param options.query Key-value object of query strings to be added to the redirect url\n         */\n        this.redirect = (to, options = {}) => {\n            var _a, _b, _c, _d, _e, _f;\n            // query object contains query extracted from toPath and additional queries provided in options\n            const { to: toPath, statusCode, query: query } = (0, RedirectOptions_1.normalizeRedirectOptions)(to, options);\n            // we can use simple rewrite if query is used for matching only\n            const isMatchOnlyQuery = () => {\n                var _a;\n                return !Object.values((_a = this.routeCriteria.query) !== null && _a !== void 0 ? _a : {}).find(value => typeof value === 'string' && value.startsWith(':'));\n            };\n            // Sailfish is matching url_redirect.source against the current request URL,\n            // and not incoming URL. If there's any rewrite rule together with redirect (such as the one in serveStatic method),\n            // the redirect is not matched. This is not how the old redirect method worked. The redirect(\"/dest/:path\") would not work.\n            // That's why we need to add this rewrite rule to the same URL.\n            this.rewritePath('/:path*', '/:path*');\n            // When there's no manipulation with request or response query,\n            // we can bind params via regex on the Edge.\n            // Otherwise, there's no way to backreference query matches during replace,\n            // as they can be in any order, and the replace follows match order.\n            if ((0, isEmpty_1.default)(query) && isMatchOnlyQuery()) {\n                this.features.url = (_a = this.features.url) !== null && _a !== void 0 ? _a : {};\n                this.features.url.url_redirect = (_b = this.features.url.url_redirect) !== null && _b !== void 0 ? _b : {};\n                this.features.url.url_redirect.code = statusCode;\n                // When path is provided as Regex there are no params in path to be extracted.\n                // The user can use groups captured params in destination path.\n                if (((_c = this.routeCriteria) === null || _c === void 0 ? void 0 : _c.path) instanceof RegExp) {\n                    this.features.url.url_redirect.source = (0, toEdgeRegex_1.default)((_d = this.routeCriteria) === null || _d === void 0 ? void 0 : _d.path);\n                    this.features.url.url_redirect.destination = toPath;\n                    this.features.url.url_redirect.syntax = 'regexp';\n                    return;\n                }\n                this.features.url.url_redirect = {\n                    ...this.features.url.url_redirect,\n                    ...(0, path_1.rewritePath)((_f = (_e = this.routeCriteria) === null || _e === void 0 ? void 0 : _e.path) === null || _f === void 0 ? void 0 : _f.toString(), toPath, true),\n                };\n                return;\n            }\n            // Complex redirects manipulating query string are delegated to compute and cached \"for ever\".\n            // Cache key includes query string by default so every path / query string\n            // combination is cached independently, which is what we want as redirects\n            // location header includes original request's query string.\n            this.sendToServerless(constants_1.EDGIO_SERVERLESS_HINTS.redirect, async (req, res) => {\n                let queryWithReplacedParams = {};\n                // Bind params to query key and values extracted from\n                // redirect path and options\n                for (const queryKey in query) {\n                    queryWithReplacedParams = {\n                        ...queryWithReplacedParams,\n                        [(0, bindParams_1.default)(queryKey, req.params)]: (0, bindParams_1.default)(query[queryKey], req.params),\n                    };\n                }\n                // Generate the final location by binding params to redirect path and\n                // concatenating the original request query together with extracted query from\n                // redirect path and options\n                res.setHeader(constants_2.HTTP_HEADERS.location, `${(0, bindParams_1.default)(toPath, req.params)}${Object.keys(queryWithReplacedParams).length > 0\n                    ? '?' + qs_1.default.stringify(queryWithReplacedParams)\n                    : ''}`);\n                res.statusCode = statusCode;\n                res.body = '';\n            });\n            this.cache({\n                cacheableStatusCodes: [301, 302, 305, 307, 308],\n                edge: {\n                    maxAgeSeconds: constants_1.FAR_FUTURE_TTL,\n                },\n            });\n        };\n        /**\n         * Adds a `set-cookie` header to the response.\n         * This does not replace any cookies with the same name - for that you should use `updateResponseCookie`.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/some/path', ({ addResponseCookie, proxy }) => {\n         *      proxy('origin')\n         *      addResponseCookie('my-cookie', 'my-cookie-value', { domain: 'test.com' })\n         *    })\n         * ```\n         *\n         * @param name Name of the cookie to add.\n         * @param value Value to set\n         * @param options Optional options to add to cookie\n         */\n        this.addResponseCookie = (name, value, options) => {\n            this.addResponseHeader(constants_2.HTTP_HEADERS.setCookie, (0, cookieUtils_1.serializeCookie)(name, value, options));\n        };\n        /**\n         * Allows to change the origin that the request is proxied to.\n         * This is useful when you want to proxy to a different origin based on the matched rule.\n         * The origin set by the latest matched rule will be used.\n         *\n         * This method doesn't affect the proxy method.\n         *\n         * **Example**\n         *\n         * ```\n         *  new Router()\n         *    .get('/:path*', ({ setOrigin }) => {\n         *      setOrigin('fallback_origin')\n         *    })\n         *    .get('/products/1', ({ setOrigin }) => {\n         *      setOrigin('web_origin')\n         *    })\n         * ```\n         *\n         * @param name the origin name\n         */\n        this.setOrigin = (name) => {\n            if (!this.features.origin)\n                this.features.origin = {};\n            this.features.origin.set_origin = name;\n        };\n        /**\n         * Allows to set a comment feature on the rule, which will be displayed in the dashboard.\n         * The comment message supports markdown.\n         * @param message\n         */\n        this.setComment = (message, append = false) => {\n            if (!append)\n                this.features.comment = '';\n            this.features.comment += message;\n        };\n        this.routeCriteria = criteria;\n        this.paramsExtractor = new ParamsExtractor_1.default(criteria);\n        this.router = router;\n    }\n    /**\n     * Creates a Features instance by running the provided callback.\n     * @private\n     * @param creator\n     * @returns\n     */\n    evaluate(creator) {\n        creator(this);\n        return this.features;\n    }\n    /**\n     * Forwards the request to the serverless origin\n     * @param hint\n     * @param fn\n     */\n    sendToServerless(hint, fn) {\n        const hintIndex = fn\n            ? this.router.addFunction(async (req, res, propertyContext) => {\n                // extract params matched by routeCriteria path, query matched by routeCriteria query\n                // and add them to request for backward compatibility\n                req.params = this.paramsExtractor.extract(req);\n                // execute original compute function\n                await fn(req, res, propertyContext);\n                // set default content type if none was set\n                if (!res.getHeader(constants_2.HTTP_HEADERS.contentType)) {\n                    res.setHeader(constants_2.HTTP_HEADERS.contentType, 'text/plain');\n                }\n            })\n            : null;\n        this.setRequestHeader(`+${constants_1.EDGIO_SERVERLESS_HINT_HEADER}`, hintIndex !== null ? `${hint}:${hintIndex}` : hint);\n        // Remove the default origin and team prefix\n        // RequestContext.executeApp will append the origin and team\n        this.setOrigin(origins_1.SERVERLESS_ORIGIN_NAME);\n    }\n}\nexports.default = RouteHelper;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toFeature = void 0;\nconst RouteHelper_1 = __importDefault(require(\"../RouteHelper\"));\nconst toFeature = (criteria, features, router) => {\n    if (typeof features === 'function') {\n        return new RouteHelper_1.default(criteria, router).evaluate(features);\n    }\n    else {\n        return features;\n    }\n};\nexports.toFeature = toFeature;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getJsInternalPath = exports.getJsAppPath = exports.getStaticAssetManifestPath = exports.getConfigPath = exports.getRouterPath = exports.pathForBackend = exports.STATIC_ASSET_EXPIRATION_FILE_NAME = exports.STATIC_ASSET_MANIFEST_FILE_NAME = exports.CONFIG_FILE_NAME = exports.ROUTES_FILE_NAME = exports.TMP_DIR = exports.SOURCES_DIR = exports.PERMANENT_ASSETS_DIR = exports.ASSETS_DIR = exports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_PATH = exports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME = exports.EDGE_FUNCTIONS_INDEX_PATH = exports.EDGE_FUNCTIONS_BUNDLE_PATH = exports.EDGE_FUNCTIONS_BUNDLE_FILENAME = exports.EDGE_FUNCTIONS_INDEX_FILENAME = exports.JS_APP_DIR = exports.JS_APP_DIR_NAME = exports.JS_INTERNAL_DIR = exports.JS_INTERNAL_DIR_NAME = exports.LAMBDA_DIR = exports.EDGIO_DIR = void 0;\nconst fs_1 = require(\"fs\");\nconst path_1 = require(\"path\");\nconst environment_1 = require(\"../environment\");\n/**\n * The .edgio build directory\n */\nexports.EDGIO_DIR = '.edgio';\n/**\n * The destination directory with entrypoint for lambda function.\n * This directory contains two directories: internal and app.\n */\nexports.LAMBDA_DIR = (0, path_1.join)(exports.EDGIO_DIR, 'lambda');\n/**\n * The name of destination directory for our internal JS files such as\n * handler, backends, router etc...\n */\nexports.JS_INTERNAL_DIR_NAME = 'internal';\n/**\n * The relative path to destination directory for our internal JS files such as\n * handler, backends, router etc...\n */\nexports.JS_INTERNAL_DIR = (0, path_1.join)(exports.LAMBDA_DIR, exports.JS_INTERNAL_DIR_NAME);\n/**\n * The name of destination directory for user's file with JS code\n * with server and its dependencies\n */\nexports.JS_APP_DIR_NAME = 'app';\n/**\n * The relative path to destination directory for user's file with JS code\n * with server and its dependencies\n */\nexports.JS_APP_DIR = (0, path_1.join)(exports.LAMBDA_DIR, exports.JS_APP_DIR_NAME);\n/**\n * The name of the bundled edge functions index file\n */\nexports.EDGE_FUNCTIONS_INDEX_FILENAME = '__edge-functions-index__.js';\n/**\n * The name of the bundled edge functions file\n */\nexports.EDGE_FUNCTIONS_BUNDLE_FILENAME = 'edge-function.js';\n/**\n * The path of the bundled edge functions file\n */\nexports.EDGE_FUNCTIONS_BUNDLE_PATH = (0, path_1.join)(exports.JS_INTERNAL_DIR, exports.EDGE_FUNCTIONS_BUNDLE_FILENAME);\n/**\n * The path to the edge functions index file\n */\nexports.EDGE_FUNCTIONS_INDEX_PATH = (0, path_1.join)(exports.JS_INTERNAL_DIR, exports.EDGE_FUNCTIONS_INDEX_FILENAME);\n/**\n * The name of the bundled edge functions index compiled QuickJS bytecode file\n */\nexports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME = '__edge-functions__.qbc';\n/**\n * The path to the bundled edge functions index compiled QuickJS bytecode file\n */\nexports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_PATH = (0, path_1.join)(exports.JS_INTERNAL_DIR, exports.EDGE_FUNCTIONS_QUICKJS_BYTECODE_FILENAME);\n/**\n * The destination directory for static assets\n */\nexports.ASSETS_DIR = (0, path_1.join)(exports.EDGIO_DIR, 's3');\nexports.PERMANENT_ASSETS_DIR = (0, path_1.join)(exports.EDGIO_DIR, 's3-permanent');\n/**\n * The directory into which source code is copied for debugging purposes\n */\nexports.SOURCES_DIR = (0, path_1.join)(exports.EDGIO_DIR, 'src');\n/**\n * The directory for temporary files during the build process.\n * This directory is cleaned after the build process is complete.\n */\nexports.TMP_DIR = (0, path_1.join)(exports.EDGIO_DIR, 'tmp');\n/**\n * The name of the compiled routes file\n */\nexports.ROUTES_FILE_NAME = 'routes.cjs';\n/**\n * The name of the compiled edgio config file\n */\nexports.CONFIG_FILE_NAME = 'edgio.config.cjs';\n/**\n * The static asset manifest file name\n * @private\n */\nexports.STATIC_ASSET_MANIFEST_FILE_NAME = 'static-asset-manifest.json';\n/**\n * The static asset expiration file name\n * @private\n */\nexports.STATIC_ASSET_EXPIRATION_FILE_NAME = 'static-asset-expiration.json';\n/**\n * Returns the destination path within the lambda dir for the specified backend\n * @param backend A backend name\n * @return a file path\n */\nfunction pathForBackend(backend) {\n    return (0, path_1.join)('__backends__', `${backend}.cjs`);\n}\nexports.pathForBackend = pathForBackend;\n/**\n * Returns the path to the routes.js file with the router.\n * @param config The config from edgio.config.js\n * @param cwd The current working directory\n * @returns\n */\nfunction getRouterPath(config) {\n    // When app is running in production mode,\n    // the built router file from the internal folder is returned.\n    // Otherwise, the router file from the project root folder is returned.\n    const folder = (0, environment_1.isProductionBuild)() && (0, environment_1.isCloud)() ? getJsInternalPath() : process.cwd();\n    const result = ((config === null || config === void 0 ? void 0 : config.routes)\n        ? [(0, path_1.join)(process.cwd(), config.routes)]\n        : [(0, path_1.join)(folder, 'routes.js'), (0, path_1.join)(folder, 'routes.ts'), (0, path_1.join)(folder, 'routes.cjs')]).find(fs_1.existsSync);\n    if (result == null) {\n        const srcFile = (config === null || config === void 0 ? void 0 : config.routes) || `routes.js, routes.ts, or routes.cjs`;\n        throw new Error(`Edgio routes file not found. Please create ${srcFile} in the root directory of your project.`);\n    }\n    return result;\n}\nexports.getRouterPath = getRouterPath;\n/**\n * Gets the path to edgio.config.js file\n * @returns\n */\nfunction getConfigPath() {\n    // When app is running in production mode,\n    // the built config file from the internal folder is returned.\n    // Otherwise, the config file from the project root folder is returned.\n    const folder = (0, environment_1.isProductionBuild)() && (0, environment_1.isCloud)() ? getJsInternalPath() : process.cwd();\n    const result = [\n        (0, path_1.join)(folder, 'edgio.config.js'),\n        (0, path_1.join)(folder, 'edgio.config.ts'),\n        (0, path_1.join)(folder, 'edgio.config.cjs'),\n    ].find(fs_1.existsSync);\n    if (result == null) {\n        throw new Error('Edgio config file not found. Please create edgio.config.js or edgio.config.cjs in the root directory of your project.');\n    }\n    return result;\n}\nexports.getConfigPath = getConfigPath;\n/**\n * Gets the path to static-asset-manifest.json file\n * @returns\n */\nfunction getStaticAssetManifestPath() {\n    const filePath = (0, path_1.join)(getJsInternalPath(), exports.STATIC_ASSET_MANIFEST_FILE_NAME);\n    if (!(0, fs_1.existsSync)(filePath)) {\n        throw new Error(`The '${filePath}' file was not found. Please try to re-run 'edgio build'.`);\n    }\n    return filePath;\n}\nexports.getStaticAssetManifestPath = getStaticAssetManifestPath;\n/**\n * Returns the correct path to the '.edgio/lambda/app' folder\n * with user's JS code in both dev and prod modes.\n * @param cwd\n * @returns\n */\nfunction getJsAppPath(cwd = process.cwd()) {\n    const pathInDev = (0, path_1.join)(cwd, exports.JS_APP_DIR);\n    const pathInProduction = (0, path_1.join)(cwd, '..', exports.JS_APP_DIR_NAME);\n    const path = (0, environment_1.isProductionBuild)() && (0, environment_1.isCloud)() ? pathInProduction : pathInDev;\n    return (0, fs_1.existsSync)(path) ? path : process.cwd();\n}\nexports.getJsAppPath = getJsAppPath;\n/**\n * Returns the path to the '.edgio/lambda/internal' folder\n * with our edgio's JS files such as routes.cjs or edgio.config.cjs.\n * @param cwd\n * @returns\n */\nfunction getJsInternalPath(cwd = process.cwd()) {\n    const pathInDev = (0, path_1.join)(cwd, exports.JS_INTERNAL_DIR);\n    const pathInProduction = (0, path_1.join)(cwd, '..', exports.JS_INTERNAL_DIR_NAME);\n    const path = (0, environment_1.isProductionBuild)() && (0, environment_1.isCloud)() ? pathInProduction : pathInDev;\n    return (0, fs_1.existsSync)(path) ? path : process.cwd();\n}\nexports.getJsInternalPath = getJsInternalPath;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getConfig = void 0;\nconst paths_1 = require(\"./deploy/paths\");\nconst utils_1 = require(\"./utils\");\nconst log_1 = __importDefault(require(\"./log\"));\nlet config;\n/**\n * Returns the contents of edgio.config.js\n * @param reload Set to true to ensure that the config is reloaded from disk\n * @returns\n */\nfunction getConfig(reload = false) {\n    if (!config || reload) {\n        const srcPath = (0, paths_1.getConfigPath)();\n        if (reload) {\n            delete require.cache[srcPath];\n        }\n        try {\n            // NOTE: We cannot use import here to solve the issue with ESM modules\n            // because this function would need to be changed to async.\n            // This function is used on several places including the Router methods (onRegister for example) and there is no way to make them async\n            // without breaking the method chaining feature or mess up the rules order.\n            config = (0, utils_1.nonWebpackRequire)(srcPath);\n        }\n        catch (e) {\n            if (e.code === 'ERR_REQUIRE_ESM') {\n                log_1.default.error(`Error: The 'edgio.config.js' file cannot be loaded because it uses CommonJS syntax and this project is set to type 'module'. Please rename it to 'edgio.config.cjs'.`);\n                process.exit(1);\n            }\n            throw e;\n        }\n        // injected by build-lambda/src/jobs/deployBuild.js\n        const environment = process.env.EDGIO_ENVIRONMENT_NAME;\n        // apply config overrides for the current environment\n        if (environment && config.environments && config.environments[environment]) {\n            log_1.default.info(`using config overrides for ${environment}`);\n            Object.assign(config, config.environments[environment]);\n        }\n        // this is backwards compatibility for the old custom connector\n        // which is now deprecated, but it was out for a bit so we need to support it\n        if (config.nodejsConnector && config.customConnector) {\n            config.nodejsConnector = config.customConnector;\n        }\n    }\n    return config;\n}\nexports.getConfig = getConfig;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Tasks {\n    constructor() {\n        this._tasks = [];\n        this._resolveHandler = Function.prototype;\n        this._errorHandler = (err) => {\n            throw err;\n        };\n    }\n    /**\n     * Adds a task to taks array that can be resolved with tasks.resolve()\n     *\n     * @param tasks List of tasks to finish\n     */\n    add(...tasks) {\n        this._tasks.push(...tasks);\n        return this;\n    }\n    /**\n     * Resolve Handler that will be called per each task with resolved value\n     *\n     * @param handler\n     */\n    onTaskDone(handler) {\n        this._resolveHandler = handler;\n        return this;\n    }\n    /**\n     * Error Handler that will be called per each task and can be useful\n     * for ignoring the specific errors\n     *\n     * @param errorHandler\n     */\n    onTaskError(errorHandler) {\n        this._errorHandler = errorHandler;\n        return this;\n    }\n    /**\n     * Finishes all tasks\n     */\n    resolve() {\n        const promises = this._convertTasksToPromises().map((task, i) => {\n            return task\n                .then((res) => {\n                this._resolveHandler(res);\n                return res;\n            })\n                .catch((err) => {\n                return this._errorHandler(err);\n            });\n        });\n        return Promise.all(promises);\n    }\n    /**\n     * Returns list of tasks that are converted into promises | functions\n     */\n    _convertTasksToPromises() {\n        return this._tasks.map(task => {\n            if (typeof task !== 'function') {\n                return Promise.resolve(task);\n            }\n            // Run the task and check if it returns a promise\n            try {\n                const taskResult = task();\n                if (taskResult instanceof Promise) {\n                    return taskResult;\n                }\n                // sync function results\n                return Promise.resolve(taskResult);\n            }\n            catch (e) {\n                // Return a error promise if sync task fails\n                // This allows to ignore some errors with error handler\n                return Promise.reject(e);\n            }\n        });\n    }\n}\nexports.default = Tasks;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config_1 = require(\"../config\");\nconst Tasks_1 = __importDefault(require(\"../utils/Tasks\"));\nclass PreloadRequests {\n    constructor() {\n        /**\n         * The list of preload config options which will be later resolved to PreloadRequests.\n         */\n        this.options = [];\n    }\n    /**\n     * Adds preload config options to the list\n     * @param preloadOptions\n     */\n    push(...options) {\n        this.options.push(...options);\n    }\n    /**\n     * Returns object with preload config\n     * @private\n     */\n    async getPreloadConfig() {\n        const edgioConfig = (0, config_1.getConfig)();\n        const requests = [];\n        await new Tasks_1.default()\n            .add(...this.options)\n            .onTaskDone((result) => requests.push(...result))\n            .resolve();\n        return {\n            requests,\n            concurrency: edgioConfig === null || edgioConfig === void 0 ? void 0 : edgioConfig.prerenderConcurrency,\n        };\n    }\n}\nexports.default = PreloadRequests;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = require(\"path\");\nconst constants_1 = require(\"../constants\");\nconst source_1 = require(\"../source\");\nconst utils_1 = require(\"../utils\");\nconst requireInternal_1 = __importDefault(require(\"../utils/requireInternal\"));\nconst toRule_1 = require(\"./converters/toRule\");\nconst toFeature_1 = require(\"./converters/toFeature\");\nconst PreloadRequests_1 = __importDefault(require(\"./PreloadRequests\"));\nconst exact_1 = require(\"../router/exact\");\nconst environment_1 = require(\"../environment\");\nconst slash_1 = __importDefault(require(\"slash\"));\nconst paths_1 = require(\"../deploy/paths\");\n/**\n * The router is used to define routes and their associated features.\n */\nclass Router {\n    constructor(options = {}) {\n        this.rules = [];\n        this.routerOptions = {};\n        // We need to keep functions in object, for cases where one would initialize a nested router BEFORE the main one.\n        // That would cause the indices to be invalid, and wrong functions to be invoked.\n        //\n        // In order to avoid confusion, and a lot of changes anywhere functions are exported (breaking to existing projects),\n        // the 'functions' property remains an instance variable / isnt static.\n        this.functions = {};\n        this.preloadRequests = new PreloadRequests_1.default();\n        /**\n         * Variable that is true only if router is inside of 'if' statement.\n         *\n         * NOTE: we could allow user to 'else' and 'elseif' before previous 'if' calls,\n         * as in many cases, it would be valid - bool was added to avoid having to handle invalid cases.\n         *\n         * Invalid cases :\n         *   - previous conditional with already existing 'else'\n         *   - features-only rule, when createMatchers returns empty criteria\n         *\n         * Also, it just seems wrong to allow calling something like .get().elseif()\n         */\n        this.isIfActive = false;\n        /**\n         * The contents to be written to static-asset-manifest.json, which is used to recreate\n         * the paths for router.static(dir) when generating the rules for EdgeControl.\n         * @private\n         */\n        this.staticAssetManifest = {};\n        this.routerOptions = options;\n    }\n    addStaticAssetManifestEntry(path, data) {\n        if (this.staticAssetManifest[path] === undefined) {\n            this.staticAssetManifest[path] = data;\n        }\n        else {\n            this.staticAssetManifest[path].push(...data);\n        }\n    }\n    /**\n     * Loads and returns a router from a file that exports it with `module.exports` or `export default`.\n     * @param routerPath A path to routes.js,\n     */\n    static load(routerPath) {\n        const routerModule = (0, utils_1.nonWebpackRequire)(routerPath);\n        return (routerModule.default || routerModule);\n    }\n    /**\n     * Defines a route that matches all requests.\n     * @param features Features to apply on all requests.\n     * @returns A self reference, suitable for chaining\n     */\n    always(features, options) {\n        return this.matchInternal({}, features, options);\n    }\n    /**\n     * Defines a route that matches GET requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route.\n     * @returns A self reference, suitable for chaining\n     */\n    get(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.get, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches POST requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    put(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.put, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches PATCH requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    patch(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.patch, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches POST requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    post(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.post, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches HEAD requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    head(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.head, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches DELETE requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    delete(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.delete, criteria, features, options);\n    }\n    /**\n     * Defines a route that matches OPTIONS requests.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    options(criteria, features, options) {\n        return this.matchMethod(constants_1.HTTP_METHODS.options, criteria, features, options);\n    }\n    /**\n     * Defines a route.\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    match(criteria, features, options) {\n        if (typeof criteria === 'string' ||\n            criteria instanceof RegExp ||\n            criteria instanceof exact_1.ExactPath) {\n            return this.matchInternal({ path: criteria }, features, options);\n        }\n        else {\n            return this.matchInternal(criteria, features, options);\n        }\n    }\n    /**\n     * Registers a rule that supports advanced if/then/else logic.\n     * @param criteria\n     * @returns A self reference, suitable for chaining\n     */\n    conditional(criteria) {\n        this.rules.push(criteria);\n        return this;\n    }\n    /**\n     * Adds an if condition\n     * @param criteria A criteria object, with ability to create advanced criteria through 'and' and 'or' methods.\n     * @param featuresOrRouter features to be applied, or router to be nested.\n     * @param featuresOrRouters additional features to be applied, or routers to be nested.\n     * @returns A self reference, suitable for chaining\n     */\n    if(criteria, featureOrRouter, ...featuresOrRouters) {\n        if (Object.keys(criteria).length === 0) {\n            throw new Error(\"If statement mustn't have empty criteria.\");\n        }\n        this.isIfActive = true;\n        this.rules.push((0, toRule_1.toRule)(criteria, ...this.createConditionFeatures(criteria, featureOrRouter, featuresOrRouters)));\n        this.addNestedFunctions(featureOrRouter, featuresOrRouters);\n        return this;\n    }\n    /**\n     * Adds an elseif condition - requires either 'if' or 'elseif' functions to be called previously.\n     * @param criteria A criteria object, with ability to create advanced criteria through 'and' and 'or' methods.\n     * @param featuresOrRouter features to be applied, or router to be nested.\n     * @param featuresOrRouters additional features to be applied, or routers to be nested.\n     * @returns A self reference, suitable for chaining\n     */\n    elseif(criteria, featureOrRouter, ...featuresOrRouters) {\n        if (Object.keys(criteria).length === 0) {\n            throw new Error(\"Elseif statement mustn't have empty criteria.\");\n        }\n        if (!this.isIfActive) {\n            throw new Error(\"Call of 'elseif' must follow either 'if', or 'elseif' calls. If you are re-using the parent router, please create a new instance.\");\n        }\n        const lastRule = this.rules[this.rules.length - 1];\n        const rule = (0, toRule_1.toRule)(criteria, ...this.createConditionFeatures(criteria, featureOrRouter, featuresOrRouters));\n        lastRule.if.push(...(rule.if ? rule.if : [rule]));\n        this.addNestedFunctions(featureOrRouter, featuresOrRouters);\n        return this;\n    }\n    /**\n     * Adds an else condition - requires either 'if' or 'elseif' functions to be called previously.\n     * @param featuresOrRouter features to be applied, or router to be nested.\n     * @param featuresOrRouters additional features to be applied, or routers to be nested.\n     * @returns A self reference, suitable for chaining\n     */\n    else(featureOrRouter, ...featuresOrRouters) {\n        if (!this.isIfActive) {\n            throw new Error(\"Call of 'else' must follow either 'if', or 'elseif' calls. If you are re-using the parent router, please create a new instance.\");\n        }\n        const lastRule = this.rules[this.rules.length - 1];\n        lastRule.if.push((0, toRule_1.toThen)(this.createConditionFeatures({}, featureOrRouter, featuresOrRouters)));\n        this.addNestedFunctions(featureOrRouter, featuresOrRouters);\n        this.isIfActive = false;\n        return this;\n    }\n    /**\n     * Searches through features for possible routers, adds all of their nested functions into this router.\n     * @private\n     */\n    addNestedFunctions(featureOrRouter, featuresOrRouters = []) {\n        ;\n        [featureOrRouter, ...featuresOrRouters].forEach((featureOrRouter) => {\n            // We know its a router if it has functions.\n            if (featureOrRouter === null || featureOrRouter === void 0 ? void 0 : featureOrRouter.functions) {\n                // We merge the functions - as the index is global, none of them will overlap.\n                // We dont create a new object, to keep the original reference.\n                Object.entries(featureOrRouter.functions).forEach(([key, value]) => (this.functions[key] = value));\n            }\n        });\n    }\n    use(plugin) {\n        plugin.onRegister(this);\n        return this;\n    }\n    // We normalize all feature creators into features\n    createConditionFeatures(criteria, featureOrRouter, featuresOrRouters = []) {\n        return [featureOrRouter, ...featuresOrRouters].map(featureOrRouter => typeof featureOrRouter === 'function'\n            ? (0, toFeature_1.toFeature)(criteria, featureOrRouter, this)\n            : featureOrRouter);\n    }\n    /**\n     * Internal normalized method for adding a route.\n     * @param criteria\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    matchInternal(criteria, featuresParam, options) {\n        // convert to rule and add it internally\n        const features = (0, toFeature_1.toFeature)(criteria, featuresParam, this);\n        const rule = (0, toRule_1.toRule)(criteria, features);\n        this.rules.push(rule);\n        // We must deactivate conditions for cases where they wouldnt be closed with 'else'.\n        // All other places either call matchInternal, or all irrelevant, as they dont create any rules.\n        this.isIfActive = false;\n        return this;\n    }\n    /**\n     * Adds a route that matches the specific HTTP method and additional criteria.\n     * @param method An HTTP method\n     * @param criteria An express-style path expression, regular expression or advanced criteria object\n     * @param features Features to apply when a request matches the route\n     * @returns A self reference, suitable for chaining\n     */\n    matchMethod(method, criteria, features, options) {\n        if (typeof criteria === 'string' ||\n            criteria instanceof RegExp ||\n            criteria instanceof exact_1.ExactPath) {\n            return this.match({\n                method,\n                path: criteria,\n            }, features);\n        }\n        if (criteria === null || criteria === void 0 ? void 0 : criteria.method) {\n            throw new Error(`Invalid criteria property method passed to call to Router#${method}. Specifying a method in the criteria is redundant.`);\n        }\n        return this.match({ ...criteria, method }, features, options);\n    }\n    /**\n     * Adds routes for all files in a directory tree.\n     * @private\n     * @param sourcePath The path to a directory containing static assets relative to the root of your project.\n     * @param features A features that will be used to handle the matched files.\n     * @param options\n     * @returns A self-reference, suitable for chaining.\n     */\n    dir(sourcePath, features, options = {}) {\n        const createInMatcher = (files) => {\n            // Don't create any rule if there are no files\n            if (!files || files.length === 0)\n                return;\n            const paths = files\n                .flatMap(file => { var _a; return ((_a = options === null || options === void 0 ? void 0 : options.paths) === null || _a === void 0 ? void 0 : _a.call(options, file)) || [`/${file}`]; })\n                .flatMap(path => {\n                if (!path.endsWith('/index.html'))\n                    return [path];\n                // Add additional paths for index.html files\n                return Array.from(new Set([\n                    // Add path with trailing slash\n                    // Example: /folder/ for /folder/index.html\n                    path.toString().replace(/\\/index.html$/, '/'),\n                    // Add path without trailing slash\n                    // Example: /folder for /folder/index.html\n                    path.toString().replace(/\\/index.html$/, ''),\n                ])).filter(path => path.length > 0);\n            });\n            this.match({ path: paths }, features);\n        };\n        if ((0, environment_1.isCloud)()) {\n            const files = this.staticAssetsForPath(sourcePath);\n            createInMatcher(files);\n        }\n        else {\n            const files = Router.collectFiles(sourcePath, options);\n            this.addStaticAssetManifestEntry((0, slash_1.default)(sourcePath), files);\n            createInMatcher(files);\n        }\n        return this;\n    }\n    /**\n     * Adds routes for all static assets in a directory tree.\n     * @param sourcePath The path to a directory containing static assets relative to the root of your project.\n     * @param options\n     * @returns A self-reference, suitable for chaining.\n     */\n    static(sourcePath, options = {}) {\n        const features = (helper) => {\n            helper.serveStatic(`${sourcePath}/:path*`, {\n                rewritePathSource: options === null || options === void 0 ? void 0 : options.rewritePathSource,\n            });\n            if (options === null || options === void 0 ? void 0 : options.handler)\n                options.handler(helper);\n        };\n        return this.dir(sourcePath, features, options);\n    }\n    /**\n     * Since the files are now on S3, we can no longer crawl the file system to\n     * determine the routes, so we use the manifest file.\n     * We also prevent webpack from trying to bundle the manifest, which will fail.\n     */\n    staticAssetsForPath(path) {\n        return (0, utils_1.nonWebpackRequire)((0, paths_1.getStaticAssetManifestPath)())[path];\n    }\n    /**\n     * Registers a serverless function. Returns the index of the function being registered so that it can be called\n     * at runtime based on the `x-edg-fn` request header.\n     * @private\n     * @param fn The serverless function to store\n     * @returns the index of the function being registered\n     */\n    addFunction(fn) {\n        // We use the global index in order to make sure we link function in the nested routers properly.\n        // Alternativelly, we could either create a hash of the function, or use UUID - both of those would look bad in the UI.\n        // We dont expect the global state to be an issue apart from potential unit test confusion.\n        // But even for unit tests, its only an issue if testing against exact indices, the execution should be ok no matter what.\n        this.functions[Router.functionIndex] = fn;\n        return Router.functionIndex++;\n    }\n    /**\n     * Adds preload config for router\n     *\n     * ```js\n     *  new Router().prerender(\n     *    async () => [{ path: '/foo', headers: { foo: 'bar' } }],\n     *    [{ path: '/bar' }]\n     *  )\n     * ```\n     *\n     * @param preloadOptions\n     */\n    prerender(...preloadOptions) {\n        this.preloadRequests.push(...preloadOptions);\n        return this;\n    }\n    /**\n     * Disables crawling of permalinks by setting the `x-robots-tag: noindex` response header\n     * for hosts matching edgio.link or edgio-perma.link.\n     *\n     * ```js\n     *  new Router().noIndexPermalink()\n     * ```\n     *   @deprecated Deprecated. Indexing permalinks is automatically disabled. Use `indexPermalink?: boolean` on Router Options to enable them.\n     * * @returns {Router} A self-reference, suitable for chaining.\n     */\n    noIndexPermalink() {\n        // The functionality of this function is automatically taken over\n        // packages/core/src/router/addBuildInRoutes.ts\n        return this;\n    }\n    static collectFiles(sourcePath, options) {\n        var _a;\n        const directory = (0, path_1.join)((0, source_1.getSourceDir)(), sourcePath);\n        const ignore = typeof options.ignore === 'string' ? [options.ignore] : (_a = options.ignore) !== null && _a !== void 0 ? _a : [];\n        // glob is large and we don't need it in production so we use nonWebpackRequire\n        let files = (0, requireInternal_1.default)('globby').sync(options.glob || '**/*', {\n            cwd: directory,\n            onlyFiles: true,\n            ignore,\n        });\n        if (options.sort) {\n            files = options.sort(files);\n        }\n        return files;\n    }\n    /**\n     * Adds a route that matches all requests that result in an error.\n     *\n     * Example:\n     *\n     * ```js\n     *  new Router()\n     *    .catch(/^(4|5)\\d{2}$/, {\n     *      // retry all 4xx and 5xx errors using the legacy origin\n     *      retry: {\n     *        origin: \"legacy\",\n     *      },\n     *    });\n     * ```\n     *\n     * @param error A regular expression, string or number that matches the status code returned by the origin\n     * @param features Features to apply when a request matches the route\n     * @returns A self-reference, suitable for chaining.\n     */\n    catch(error, features) {\n        let errorRegex;\n        if (error instanceof RegExp) {\n            errorRegex = error;\n        }\n        else {\n            errorRegex = new RegExp(`^${error.toString()}$`);\n        }\n        return this.matchInternal({ response: { status_code: errorRegex } }, features);\n    }\n}\nexports.default = Router;\n// We keep a static global function index in order to support nested routers.\nRouter.functionIndex = 0;\n", "const path = require('path')\n\nconst FAR_FUTURE_TTL = 60 * 60 * 24 * 365 * 10\n\nconst PUBLIC_CACHE_CONFIG = {\n  edge: {\n    maxAgeSeconds: FAR_FUTURE_TTL,\n  },\n  browser: false,\n}\n\nconst EDGIO_DEVTOOLS_ENABLED_COOKIE = 'edgio_devtools_enabled'\nconst EDGIO_DEVTOOLS_ENV_ENABLED_COOKIE = 'edgio_devtools_env_enabled'\n\nfunction isDevtoolEnabledByDefault() {\n  if (process.env.EDGIO_DEVTOOLS_ENABLED) {\n    return process.env.EDGIO_DEVTOOLS_ENABLED === 'true'\n  }\n  // EDGIO_DEVTOOLS_ENABLED cannot be set manually on Environment config\n  // because EDGIO_* is reserved for internal usage, which we will use when adding\n  // that feature explictely to LD interface.\n  // Meanwhile, the PREVIEW_EDGIO_DEVTOOLS_ENABLED can be set manually by anyone\n  if (process.env.PREVIEW_EDGIO_DEVTOOLS_ENABLED) {\n    return process.env.PREVIEW_EDGIO_DEVTOOLS_ENABLED === 'true'\n  }\n\n  // If neither of those are defined, we fallback on default behavior:\n  // it will be enabled on local and moovweb-edge(-dev).io domains\n  return null\n}\n\nmodule.exports = function addBuiltInRoutes({ router, local }) {\n  if (isDevtoolEnabledByDefault() !== null) {\n    router.match('/(.*)', ({ addResponseCookie }) => {\n      addResponseCookie(EDGIO_DEVTOOLS_ENV_ENABLED_COOKIE, `${isDevtoolEnabledByDefault()}; Path=/`)\n    })\n  }\n  if (local) {\n    router\n      .get('/__edgio__/caching', ({ send }) => {\n        send(JSON.stringify({ local, enabled: process.env.EDGIO_CACHE === 'true' }))\n      })\n      .post('/__edgio__/caching', ({ compute, send }) => {\n        compute(req => {\n          if (req.query) {\n            process.env.EDGIO_CACHE = req.query.enabled\n          }\n        })\n        send('done')\n      })\n  }\n  router\n    .match('/__edgio__/devtools/:path*', ({ cache, serveStatic }) => {\n      cache(PUBLIC_CACHE_CONFIG)\n      serveStatic(path.join('node_modules', '@edgio', 'devtools', 'widget', ':path*'))\n    })\n    .get('/__edgio__/devtools/enable', ({ redirect, addResponseCookie, cache }) => {\n      addResponseCookie(EDGIO_DEVTOOLS_ENABLED_COOKIE, 'true; Path=/')\n      cache({\n        browser: false,\n        edge: false,\n      })\n      redirect('/')\n    })\n    .get('/__edgio__/devtools/disable', ({ redirect, addResponseCookie, cache }) => {\n      addResponseCookie(EDGIO_DEVTOOLS_ENABLED_COOKIE, 'false; Path=/')\n      cache({\n        browser: false,\n        edge: false,\n      })\n      redirect('/')\n    })\n    .match('/:path*', {\n      headers: {\n        debug_header: true,\n        // We can't set the debug headers, because x-ec is reserved\n        // set_request_headers: {\n        //   'x-ec-debug': 'x-ec-cache,x-ec-check-cacheable,x-ec-cache-key,x-ec-cache-state',\n        // },\n      },\n    })\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst environment_1 = require(\"../environment\");\nconst constants_1 = require(\"../constants\");\nfunction addBuiltInRoutes(router) {\n    try {\n        // Add @edgio/devtools built-in routes if the module is installed\n        require('@edgio/devtools/addBuiltInRoutes')({\n            router,\n            local: (0, environment_1.isLocal)(),\n        });\n    }\n    catch (e) {\n        // istanbul ignore if\n        // @ts-ignore\n        if (e.code !== 'MODULE_NOT_FOUND') {\n            throw e;\n        }\n    }\n    if (!router.routerOptions.indexPermalink) {\n        /**\n         * Disables crawling of permalinks by setting the `x-robots-tag: noindex` response header\n         * for hosts matching edgio.link or edgio-perma.link.\n         */\n        router.match({\n            headers: {\n                host: constants_1.HOSTS_NOINDEX_PERMALINK_REGEX,\n            },\n        }, {\n            headers: {\n                add_response_headers: {\n                    'x-robots-tag': 'nofollow, noindex',\n                },\n            },\n        });\n    }\n}\nexports.default = addBuiltInRoutes;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst addBuildInRoutes_1 = __importDefault(require(\"./addBuildInRoutes\"));\n/**\n * An Edgio middleware that automatically adds the service worker and browser.js routes to your Edgio router.\n *\n * Example:\n *\n * ```js\n * import { starterRoutes } from '@edgio/starter'\n * import { Router } from '@edgio/core/router'\n *\n * export default new Router().use(edgioRoutes)\n * ```\n */\nclass EdgioRoutes {\n    /**\n     * Called when plugin is registered\n     * @param router\n     */\n    onRegister(router) {\n        (0, addBuildInRoutes_1.default)(router);\n    }\n}\nexports.default = EdgioRoutes;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgioRoutes = exports.Router = exports.RouteHelper = void 0;\nconst EdgioRoutes_1 = __importDefault(require(\"./EdgioRoutes\"));\nvar RouteHelper_1 = require(\"./RouteHelper\");\nObject.defineProperty(exports, \"RouteHelper\", { enumerable: true, get: function () { return __importDefault(RouteHelper_1).default; } });\nvar Router_1 = require(\"./Router\");\nObject.defineProperty(exports, \"Router\", { enumerable: true, get: function () { return __importDefault(Router_1).default; } });\nexports.edgioRoutes = new EdgioRoutes_1.default();\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst qs_1 = require(\"qs\");\nconst environment_1 = require(\"../environment\");\nconst constants_1 = require(\"../constants\");\n/**\n * Data holder for lambda request.\n\n * Useful for cases when request needs to be created for:\n *    - lambda invocation / reqResMapper\n *    - findMatchingRules invocation\n *    - fiddle RequestContext invocation\n *    - tests (mainly ones invoking RequestContext directly)\n */\nclass LambdaRequest {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        this.url = '/';\n        this.path = '/';\n        this.rawHeaders = [];\n        this.query = {};\n        this.method = 'GET';\n        this.protocol = 'http';\n        this.secure = true;\n        this.socket = { remoteAddress: '127.0.0.1', encrypted: true };\n        this.connection = { encrypted: true };\n        this.httpVersion = '1.1';\n        this.port = '';\n        this.options = options;\n        this.url = options.url.pathname + ((_a = options.url.search) !== null && _a !== void 0 ? _a : '');\n        this.query = (0, qs_1.parse)((_b = options.url.search) !== null && _b !== void 0 ? _b : '', { ignoreQueryPrefix: true });\n        this.path = options.url.pathname;\n        this.method = (_c = options.method) !== null && _c !== void 0 ? _c : this.method;\n        // Compatibility with https://nodejs.org/api/all.html#http_message_headers\n        // Header names *are* lower-cased to maintain Node compatibility.\n        this.headers = normalizeHeaders((_d = options.headers) !== null && _d !== void 0 ? _d : {});\n        options.url.host && this.setHeader('host', options.url.host);\n        for (const key of Object.keys(this.headers)) {\n            // Compatibility with https://nodejs.org/api/all.html#http_message_rawheaders\n            // Header names are not lower-cased to maintain Node compatibility.\n            const header = this.headers[key];\n            for (const value of Array.isArray(header) ? header : [header]) {\n                this.rawHeaders.push(key);\n                this.rawHeaders.push(value);\n            }\n        }\n        this.port = (_e = options.url.port) !== null && _e !== void 0 ? _e : this.port;\n        this.httpVersion = (_f = options.httpVersion) !== null && _f !== void 0 ? _f : this.httpVersion;\n        // TODO: make sure we have the right format here to match Sailfish. The value from lambda looks like: \"x-edg-client-ip\": \"::ffff:54.152.158.42\",\n        // INFO: the header is not being sent from the edge, but by the lambda wrapper, therefore we can use it in permalink also\n        // This is needed for matching on request.client_ip\n        // For legacy reasons, we also support x-0-client-ip\n        this.socket.remoteAddress = (this.getHeader(constants_1.HTTP_HEADERS.xEdgeClientIp) ||\n            this.getHeader(constants_1.HTTP_HEADERS.x0ClientIp) ||\n            this.socket.remoteAddress);\n        if (options.url.protocol) {\n            // protocol trails with ':', which is expected to be removed\n            this.protocol = (_g = options.url.protocol) === null || _g === void 0 ? void 0 : _g.replace(':', '');\n        }\n        else if (!(0, environment_1.isLocal)()) {\n            this.protocol = (this.getHeader(constants_1.HTTP_HEADERS.xEdgeProtocol) ||\n                this.getHeader(constants_1.HTTP_HEADERS.x0Protocol) ||\n                'https');\n        }\n        // req.secure is ExpressJS extension, set to false only when the app is running locally or the protocol is HTTP\n        // (so the default remains HTTPS which has historically been the only protocol we allowed)\n        this.secure = this.protocol === 'https';\n        // Depending on the version req.socket.encrypted is set to true by NodeJS when the protocol is HTTPS.\n        this.socket.encrypted = this.secure;\n        // Depending on the version req.connection.encrypted is set to true by NodeJS when the protocol is HTTPS.\n        this.connection.encrypted = this.secure;\n        this.rawBody = Buffer.from((_h = options.body) !== null && _h !== void 0 ? _h : '');\n    }\n    /**\n     * Returns a clone of the original request, before any properties were altered.\n     */\n    cloneOriginal() {\n        return new LambdaRequest(this.options);\n    }\n    setHeader(name, value) {\n        this.headers[name.toLowerCase()] = value;\n    }\n    getHeader(name) {\n        return this.headers[name.toLowerCase()];\n    }\n    getHeaders() {\n        return this.headers;\n    }\n    removeHeader(name) {\n        delete this.headers[name.toLowerCase()];\n    }\n    get body() {\n        return this.rawBody.toString('utf8');\n    }\n}\nexports.default = LambdaRequest;\n// sets all headers to lowercase names, and 'flattens' the array values if they contain only one element\nfunction normalizeHeaders(headers) {\n    let result = {};\n    for (let name in headers) {\n        const header = headers[name];\n        result[name.toLowerCase()] =\n            Array.isArray(header) && header.length === 1 ? header[0] : header;\n    }\n    return result;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\n/**\n * Helper class useful for cases when:\n *    - response is not available in traditional sense (eg. lambda environment, fiddle, tests)\n *    - we need to run code that is dependant on having an editable response (cache revalidation)\n */\nclass LambdaResponse {\n    constructor(responseStream) {\n        // chunks queued for processing + streaming\n        this.chunks = [];\n        // we remember processed / encoded chunks in order to save them to the cache / dont have to reencode\n        this.encodedChunks = [];\n        this.onStream = () => { };\n        this.onEnd = () => { };\n        this.onHeaders = () => { };\n        this.onFlush = () => { };\n        this.isHeadersStreamed = false;\n        this.isEnded = false;\n        this.isDownstreamInit = false;\n        this.isStreaming = false;\n        // the streaming of response is disabled by default,\n        // and it's enabled later in modStream if certain conditions are met\n        this.isStreamableCallback = () => false;\n        this.statusCode = 200;\n        this.statusMessage = 'OK';\n        this.headers = {};\n        this.byteLength = 0;\n        this.maxByteLength = 128 * 1000 * 1000;\n        this.isDirectStream = false;\n        this.initDownstream();\n        this.isDownstreamInit = false; // reseting the flag so that it can be called one more time in mod\n        this.responseStream = responseStream;\n    }\n    setHeader(name, value) {\n        this.headers[name.toLowerCase()] = value;\n    }\n    removeHeader(name) {\n        delete this.headers[name.toLowerCase()];\n    }\n    getHeader(name) {\n        return this.headers[name.toLowerCase()];\n    }\n    getHeaders() {\n        return this.headers;\n    }\n    clear() {\n        this.chunks = [];\n        this.byteLength = 0;\n    }\n    isCachable() {\n        return !this.isDirectStream && this.byteLength < this.maxByteLength;\n    }\n    async write(chunk) {\n        // execute isStreamableCallback only once when we receive the first chunk\n        // and store the result for performance reasons\n        if (this.chunks.length === 0)\n            this.setIsStreamable(this.isStreamable());\n        this.chunks.push(chunk);\n        this.isStreamable() && (await this.onStream());\n    }\n    async end() {\n        this.chunks.push(null); // pushes 'end' event into the stream\n        if (this.chunks.length === 1) {\n            // we dont have anything else to process, so we can stream\n            this.isStreamable() && (await this.onStream());\n        }\n    }\n    setEncoder(value) {\n        this.encoder = value;\n    }\n    setDecoder(value) {\n        this.decoder = value;\n    }\n    // in cases we dont want to do anything with the body (eg. cache it), we can set this flag to stream directly\n    // this will be used in production environment / executeApp in the future in order to not hog resources\n    setDirectStream(value) {\n        this.isDirectStream = value;\n    }\n    stream() {\n        this.isStreaming = true;\n        if (!this.isHeadersStreamed) {\n            this.onHeaders();\n            this.isHeadersStreamed = true;\n        }\n        this.chunks.forEach(chunk => this.downstream.push(chunk));\n        this.chunks = [];\n    }\n    async waitForFlush() {\n        // if we're not streaming, we dont have to wait, as there's no body\n        return this.isStreaming\n            ? new Promise(resolve => {\n                this.onFlush = resolve;\n                // if already ended, we just resolve, as the stream could have ended before callback was set\n                this.isEnded && resolve();\n            })\n            : Promise.resolve(true);\n    }\n    initDownstream() {\n        if (!this.isDownstreamInit) {\n            this.isDownstreamInit = true;\n            this.downstream = new stream_1.Stream.Readable({\n                read: () => {\n                    // this must be implemented, we dont need to use it tho\n                },\n            });\n            let curPipe = this.downstream;\n            this.decoder && (curPipe = curPipe.pipe(this.decoder));\n            this.encoder && (curPipe = curPipe.pipe(this.encoder));\n            curPipe.pipe(new stream_1.PassThrough()\n                .on('data', chunk => {\n                var _a;\n                // if we dont have reponse stream we're invoking programatically,\n                // eg. in runRoute, revalidation, tests, AND IN PRODUCTION AT THE MOMENT\n                // we test for the 'equality' of these approaches in separate LambdaResponse tests\n                (_a = this.responseStream) === null || _a === void 0 ? void 0 : _a.write(chunk);\n                if (!this.isDirectStream) {\n                    this.byteLength += Buffer.byteLength(chunk);\n                    // if currently streamed byte length is too big, we stop appending to encoded chunks -> memory will be cleared on chain end\n                    // this will consequently disable caching for large payloads\n                    this.byteLength < this.maxByteLength && this.encodedChunks.push(chunk);\n                }\n            })\n                .on('end', () => {\n                if (this.responseStream) {\n                    this.responseStream.end();\n                }\n                else {\n                    // if there are no chunks, we leave body undefined as expected\n                    if (this.encodedChunks.length > 0) {\n                        if (this.byteLength < this.maxByteLength) {\n                            this.body = Buffer.concat(this.encodedChunks);\n                        }\n                        else {\n                            this.statusCode = 413;\n                            this.statusMessage = 'Content Too Large';\n                        }\n                    }\n                }\n                // we push null to processed chunks, as it signals the end of the stream in case we stream from cache later on\n                // it needs to be pushed after the body is concatted, otherwise it fails, as buffers would fail to concat null\n                this.encodedChunks.push(null);\n                this.isEnded = true;\n                this.onFlush();\n                // temporary callback for reqResMapper backwards compatibility\n                // TODO: this wont be needed once we have streaming in lambda function\n                this.onEnd();\n            }));\n        }\n    }\n    // allows to enable or disable streaming\n    // or set callback that can enable streaming if certain conditions are met\n    setIsStreamable(callback) {\n        if (typeof callback === 'boolean') {\n            return (this.isStreamableCallback = () => callback);\n        }\n        this.isStreamableCallback = callback;\n    }\n    // returns true if the response is streamable\n    isStreamable() {\n        return this.isStreamableCallback();\n    }\n    // callback used to react to data write, as we need to be able to make a decision whether or not to stream based on many criteria\n    setOnStream(callback) {\n        this.onStream = callback;\n    }\n    // TODO: this wont be needed once we have streaming in lambda function\n    setOnEnd(callback) {\n        this.onEnd = callback;\n    }\n    setOnHeaders(callback) {\n        this.onHeaders = callback;\n    }\n    // TODO: this wont be needed once we have streaming in lambda function\n    getData() {\n        return {\n            body: this.body,\n            statusCode: this.statusCode,\n            statusMessage: this.statusMessage,\n            headers: this.headers,\n        };\n    }\n}\nexports.default = LambdaResponse;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LambdaResponse = exports.LambdaRequest = exports.edgioRoutes = exports.exact = exports.not = exports.or = exports.and = exports.getConfig = exports.Router = void 0;\nvar Router_1 = require(\"./router/Router\");\nObject.defineProperty(exports, \"Router\", { enumerable: true, get: function () { return __importDefault(Router_1).default; } });\n__exportStar(require(\"./constants\"), exports);\nvar config_1 = require(\"./config\");\nObject.defineProperty(exports, \"getConfig\", { enumerable: true, get: function () { return config_1.getConfig; } });\nvar RouteCriteria_1 = require(\"./router/RouteCriteria\");\nObject.defineProperty(exports, \"and\", { enumerable: true, get: function () { return RouteCriteria_1.and; } });\nObject.defineProperty(exports, \"or\", { enumerable: true, get: function () { return RouteCriteria_1.or; } });\nObject.defineProperty(exports, \"not\", { enumerable: true, get: function () { return RouteCriteria_1.not; } });\nvar exact_1 = require(\"./router/exact\");\nObject.defineProperty(exports, \"exact\", { enumerable: true, get: function () { return __importDefault(exact_1).default; } });\nvar router_1 = require(\"./router\");\nObject.defineProperty(exports, \"edgioRoutes\", { enumerable: true, get: function () { return router_1.edgioRoutes; } });\nvar LambdaRequest_1 = require(\"./runtime/LambdaRequest\");\nObject.defineProperty(exports, \"LambdaRequest\", { enumerable: true, get: function () { return __importDefault(LambdaRequest_1).default; } });\nvar LambdaResponse_1 = require(\"./runtime/LambdaResponse\");\nObject.defineProperty(exports, \"LambdaResponse\", { enumerable: true, get: function () { return __importDefault(LambdaResponse_1).default; } });\n", "// This file was added by edgio init.\n// You should commit this file to source control.\nimport { Router, edgioRoutes } from '@edgio/core'\n\nexport default new Router()\n\n  .get('/:path*', ({ serveStatic }) => serveStatic('src/:path*'))\n  .get('/', ({ serveStatic }) => serveStatic('src/index.html'))\n\n  // plugin enabling basic Edgio functionality\n  .use(edgioRoutes)\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA,0CAAAA,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,iBAAiBA,SAAQ,mBAAmBA,SAAQ,gBAAgBA,SAAQ,kBAAkBA,SAAQ,aAAaA,SAAQ,6BAA6BA,SAAQ,gCAAgCA,SAAQ,uBAAuBA,SAAQ,qBAAqBA,SAAQ,kBAAkBA,SAAQ,qBAAqBA,SAAQ,wBAAwBA,SAAQ,mBAAmBA,SAAQ,gCAAgCA,SAAQ,qBAAqBA,SAAQ,uBAAuBA,SAAQ,wBAAwBA,SAAQ,0BAA0BA,SAAQ,uBAAuBA,SAAQ,wBAAwBA,SAAQ,oBAAoBA,SAAQ,iBAAiBA,SAAQ,eAAeA,SAAQ,eAAeA,SAAQ,sBAAsBA,SAAQ,WAAWA,SAAQ,UAAUA,SAAQ,iCAAiCA,SAAQ,qCAAqCA,SAAQ,iCAAiCA,SAAQ,yBAAyBA,SAAQ,+BAA+BA,SAAQ,uBAAuBA,SAAQ,4BAA4BA,SAAQ,oCAAoCA,SAAQ,sBAAsBA,SAAQ,2BAA2BA,SAAQ,oBAAoB;AAIppC,IAAAA,SAAQ,oBAAoB;AAS5B,IAAAA,SAAQ,2BAA2B;AAInC,IAAAA,SAAQ,sBAAsB;AAAA,MAI1B,QAAQ;AAAA,MAIR,gBAAgB;AAAA,MAKhB,gBAAgB;AAAA,MAMhB,iBAAiB;AAAA,MAKjB,iBAAiB;AAAA,MAKjB,OAAO;AAAA,MAKP,OAAO;AAAA,IACX;AAIA,IAAAA,SAAQ,oCAAoC;AAAA,MAIxC,MAAM;AAAA,MAIN,uBAAuB;AAAA,IAC3B;AAKA,IAAAA,SAAQ,4BAA4B;AAIpC,IAAAA,SAAQ,uBAAuB;AAM/B,IAAAA,SAAQ,+BAA+B;AAKvC,IAAAA,SAAQ,yBAAyB;AAAA,MAE7B,KAAK;AAAA,MAEL,SAAS;AAAA,MAET,UAAU;AAAA,MAEV,OAAO;AAAA,IACX;AAWA,IAAAA,SAAQ,iCAAiC;AAMzC,IAAAA,SAAQ,qCAAqC;AAI7C,IAAAA,SAAQ,iCAAiC;AAIzC,IAAAA,SAAQ,UAAU;AAAA,MACd,WAAW;AAAA,MACX,cAAc;AAAA,MACd,cAAc;AAAA,MACd,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,OAAO;AAAA,MACP,WAAW;AAAA,MACX,cAAc;AAAA,MACd,cAAc;AAAA,IAClB;AAIA,IAAAA,SAAQ,WAAW;AAAA,MACf,IAAI;AAAA,MACJ,QAAQ;AAAA,MACR,iBAAiB;AAAA,MACjB,gBAAgB;AAAA,IACpB;AAIA,IAAAA,SAAQ,sBAAsB;AAC9B,IAAAA,SAAQ,eAAe;AAAA,MACnB,MAAM;AAAA,MACN,KAAK;AAAA,MACL,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,KAAK;AAAA,MACL,OAAO;AAAA,MACP,SAAS;AAAA,IACb;AAIA,IAAAA,SAAQ,eAAe;AAAA,MACnB,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,cAAc;AAAA,MACd,iBAAiB;AAAA,MACjB,eAAe;AAAA,MACf,aAAa;AAAA,MACb,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,MAAM;AAAA,MACN,UAAU;AAAA,MACV,OAAO;AAAA,MACP,cAAc;AAAA,MACd,WAAW;AAAA,MACX,WAAW;AAAA,MACX,MAAM;AAAA,MACN,KAAK;AAAA,MACL,kBAAkB;AAAA,MAClB,UAAU;AAAA,MACV,eAAe;AAAA,MACf,YAAY;AAAA,MACZ,iBAAiB;AAAA,MACjB,cAAc;AAAA,MACd,mBAAmB;AAAA,MACnB,oBAAoB;AAAA,MACpB,eAAe;AAAA,MACf,iBAAiB;AAAA,MACjB,kBAAkB;AAAA,MAClB,aAAa;AAAA,MACb,kBAAkB;AAAA,MAClB,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,kBAAkB;AAAA,MAClB,mBAAmB;AAAA,MACnB,oBAAoB;AAAA,MACpB,oBAAoB;AAAA,MACpB,eAAe;AAAA,MACf,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,mBAAmB;AAAA,MACnB,QAAQ;AAAA,MACR,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,WAAW;AAAA,IACf;AAIA,IAAAA,SAAQ,iBAAiB;AAAA,MACrB,QAAQ;AAAA,MACR,KAAK;AAAA,MACL,UAAU;AAAA,MACV,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,YAAY;AAAA,MACZ,MAAM;AAAA,MACN,WAAW;AAAA,MACX,UAAU;AAAA,IACd;AACA,IAAAA,SAAQ,oBAAoB,oBAAI,IAAI,CAAC,OAAO,MAAM,CAAC;AAInD,IAAAA,SAAQ,wBAAwB;AAAA,MAC5B,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,YAAY;AAAA,MACZ,UAAU;AAAA,IACd;AAGA,IAAAA,SAAQ,uBAAuB;AAAA,MAC3B,eAAe;AAAA,MACf,MAAM;AAAA,MACN,sBAAsB;AAAA,MACtB,eAAe;AAAA,MACf,gBAAgB;AAAA,MAChB,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,eAAe;AAAA,MACf,aAAa;AAAA,IACjB;AACA,IAAAA,SAAQ,0BAA0B;AAAA,MAC9B,KAAK;AAAA,MACL,IAAI;AAAA,IACR;AAKA,IAAAA,SAAQ,wBAAwB;AAIhC,IAAAA,SAAQ,uBAAuBA,SAAQ;AAIvC,IAAAA,SAAQ,qBAAqB;AAI7B,IAAAA,SAAQ,gCAAgC;AAIxC,IAAAA,SAAQ,mBAAmB;AAI3B,IAAAA,SAAQ,wBAAwB;AAIhC,IAAAA,SAAQ,qBAAqB;AAI7B,IAAAA,SAAQ,kBAAkB;AAI1B,IAAAA,SAAQ,qBAAqB;AAI7B,IAAAA,SAAQ,uBAAuB;AAK/B,IAAAA,SAAQ,gCAAgC;AAKxC,IAAAA,SAAQ,6BAA6B;AAIrC,IAAAA,SAAQ,aAAa,OAAO,WAAW;AAIvC,IAAAA,SAAQ,kBAAkB;AAI1B,IAAAA,SAAQ,gBAAgB;AAIxB,IAAAA,SAAQ,mBAAmB;AAI3B,IAAAA,SAAQ,iBAAiB;AAAA;AAAA;;;AC7TzB;AAAA,uCAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,eAAeA,SAAQ,eAAe;AAI9C,aAAS,eAAe;AACpB,aAAO,QAAQ,IAAI,yBAAyB,QAAQ,IAAI;AAAA,IAC5D;AACA,IAAAA,SAAQ,eAAe;AAKvB,aAAS,aAAa,KAAK;AACvB,cAAQ,IAAI,wBAAwB;AAAA,IACxC;AACA,IAAAA,SAAQ,eAAe;AAAA;AAAA;;;ACjBvB;AAAA,gCAAAC,UAAAC,SAAA;AAAA;AACA,IAAAA,QAAO,UAAU,UAAQ;AACxB,YAAM,uBAAuB,YAAY,KAAK,IAAI;AAClD,YAAM,cAAc,oBAAoB,KAAK,IAAI;AAEjD,UAAI,wBAAwB,aAAa;AACxC,eAAO;AAAA,MACR;AAEA,aAAO,KAAK,QAAQ,OAAO,GAAG;AAAA,IAC/B;AAAA;AAAA;;;ACVA;AAAA;AAAA;AACA,QAAI,kBAAmB,WAAQ,QAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,UAAU,gBAAgB,eAAgB;AAShD,aAAS,kBAAkB,YAAY,EAAE,eAAe,MAAM,IAAI,CAAC,GAAG;AAClE,UAAI;AACA,eAAO,KAAK,SAAS,GAAG,GAAG,QAAQ,SAAS,UAAU,CAAC;AAAA,MAC3D,SACO,GAAP;AACI,YAAI,cAAc;AACd,iBAAO;AAAA,QACX,OACK;AACD,gBAAM;AAAA,QACV;AAAA,MACJ;AAAA,IACJ;AACA,YAAQ,UAAU;AAAA;AAAA;;;AC3BlB;AAAA,4CAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,oBAAoB;AAC5B,QAAI,sBAAsB;AAC1B,WAAO,eAAeA,UAAS,qBAAqB,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAOC,iBAAgB,mBAAmB,EAAE;AAAA,IAAS,EAAE,CAAC;AAAA;AAAA;;;ACPnJ;AAAA,sDAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,sBAAsBC,iBAAgB,2BAA8B;AAO1E,aAAS,gBAAgB,aAAa;AAClC,UAAI;AACA,cAAM,WAAW,QAAQ,QAAQ,aAAa;AAAA,UAC1C,OAAO,CAAiB,8BAAc;AAAA,QAC1C,CAAC;AACD,gBAAQ,GAAG,oBAAoB,SAAS,QAAQ;AAAA,MACpD,SACO,GAAP;AACI,gBAAQ,GAAG,oBAAoB,SAAS,WAAW;AAAA,MACvD;AAAA,IACJ;AACA,IAAAD,SAAQ,UAAU;AAAA;AAAA;;;ACvBlB;AAAA,qDAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,MAAMA,SAAQ,KAAKA,SAAQ,MAAMA,SAAQ,aAAaA,SAAQ,cAAcA,SAAQ,aAAa;AACzG,QAAM,aAAa,CAAC,UAAU;AAC1B,aAAO,CAAC,CAAC,SAAS,OAAO,UAAU,YAAY,SAAS;AAAA,IAC5D;AACA,IAAAA,SAAQ,aAAa;AACrB,QAAM,mBAAN,MAAuB;AAAA,MACnB,YAAY,QAAQ;AAChB,aAAK,SAAS;AAAA,MAClB;AAAA,IACJ;AACA,QAAM,cAAN,cAA0B,iBAAiB;AAAA,MACvC,cAAc;AACV,cAAM,GAAG,SAAS;AAClB,aAAK,WAAW;AAAA,MACpB;AAAA,IACJ;AACA,IAAAA,SAAQ,cAAc;AACtB,QAAM,aAAN,cAAyB,iBAAiB;AAAA,MACtC,cAAc;AACV,cAAM,GAAG,SAAS;AAClB,aAAK,WAAW;AAAA,MACpB;AAAA,IACJ;AACA,IAAAA,SAAQ,aAAa;AAIrB,aAAS,OAAO,WAAW;AACvB,aAAO,IAAI,YAAY,SAAS;AAAA,IACpC;AACA,IAAAA,SAAQ,MAAM;AAId,aAAS,MAAM,WAAW;AACtB,aAAO,IAAI,WAAW,SAAS;AAAA,IACnC;AACA,IAAAA,SAAQ,KAAK;AAIb,aAAS,IAAI,OAAO;AAChB,aAAO;AAAA,QACH,KAAK;AAAA,MACT;AAAA,IACJ;AACA,IAAAA,SAAQ,MAAM;AAAA;AAAA;;;AChDd;AAAA,6CAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,YAAY;AAIpB,QAAM,YAAN,MAAgB;AAAA,MACZ,YAAY,OAAO;AACf,aAAK,QAAQ;AAAA,MACjB;AAAA,MACA,WAAW;AACP,eAAO,KAAK;AAAA,MAChB;AAAA,IACJ;AACA,IAAAA,SAAQ,YAAY;AAMpB,aAAS,MAAM,MAAM;AACjB,aAAO,IAAI,UAAU,IAAI;AAAA,IAC7B;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;ACvBlB;AAAA,mDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,WAAW;AAMnB,aAAS,aAAa,QAAQ;AAC1B,aAAO,OAAO,QAAQ,uBAAuB,MAAM;AAAA,IACvD;AACA,IAAAA,SAAQ,UAAU;AAMlB,aAAS,SAAS,QAAQ;AACtB,aAAO,IAAI,OAAO,aAAa,MAAM,CAAC;AAAA,IAC1C;AACA,IAAAA,SAAQ,WAAW;AAAA;AAAA;;;ACpBnB;AAAA,kDAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,gBAAgB;AACxB,QAAM,iBAAiBC,iBAAgB,sBAAyB;AAUhE,aAAS,YAAY,OAAO,SAAS,IAAI,eAAe;AAGpD,UAAI,SAAS,gBAAgB,MAAM,SAAS,MAAM,OAAO,QAAQ,SAAS,GAAG;AAC7E,UAAI,OAAO,WAAW,GAAG,GAAG;AACxB,iBAAS,KAAK,GAAG,eAAe,SAAS,MAAM,IAAI,OAAO,MAAM,CAAC;AAAA,MACrE,OACK;AACD,iBAAS,IAAI,GAAG,eAAe,SAAS,MAAM,IAAI;AAAA,MACtD;AACA,aAAO,GAAG,MAAM,aAAa,SAAS,KAAK;AAAA,IAC/C;AACA,IAAAD,SAAQ,UAAU;AAKlB,aAAS,cAAc,WAAW;AAC9B,YAAM,aAAa,UAAU,QAAQ,MAAM,MAAM;AACjD,UAAI,YAAY;AACZ,oBAAY,UAAU,MAAM,OAAO,MAAM;AAAA,MAC7C;AACA,aAAO,IAAI,OAAO,UAAU,QAAQ,OAAO,GAAG,GAAG,aAAa,MAAM,EAAE;AAAA,IAC1E;AACA,IAAAA,SAAQ,gBAAgB;AAAA;AAAA;;;;;;;;ACpBxB,aAAS,MAAM,KAAW;AACxB,UAAM,SAAqB,CAAA;AAC3B,UAAI,IAAI;AAER,aAAO,IAAI,IAAI,QAAQ;AACrB,YAAM,OAAO,IAAI;AAEjB,YAAI,SAAS,OAAO,SAAS,OAAO,SAAS,KAAK;AAChD,iBAAO,KAAK,EAAE,MAAM,YAAY,OAAO,GAAG,OAAO,IAAI,KAAI,CAAE;AAC3D;;AAGF,YAAI,SAAS,MAAM;AACjB,iBAAO,KAAK,EAAE,MAAM,gBAAgB,OAAO,KAAK,OAAO,IAAI,KAAI,CAAE;AACjE;;AAGF,YAAI,SAAS,KAAK;AAChB,iBAAO,KAAK,EAAE,MAAM,QAAQ,OAAO,GAAG,OAAO,IAAI,KAAI,CAAE;AACvD;;AAGF,YAAI,SAAS,KAAK;AAChB,iBAAO,KAAK,EAAE,MAAM,SAAS,OAAO,GAAG,OAAO,IAAI,KAAI,CAAE;AACxD;;AAGF,YAAI,SAAS,KAAK;AAChB,cAAI,OAAO;AACX,cAAI,IAAI,IAAI;AAEZ,iBAAO,IAAI,IAAI,QAAQ;AACrB,gBAAM,OAAO,IAAI,WAAW,CAAC;AAE7B,gBAEG,QAAQ,MAAM,QAAQ,MAEtB,QAAQ,MAAM,QAAQ,MAEtB,QAAQ,MAAM,QAAQ,OAEvB,SAAS,IACT;AACA,sBAAQ,IAAI;AACZ;;AAGF;;AAGF,cAAI,CAAC;AAAM,kBAAM,IAAI,UAAU,6BAAA,OAA6B,CAAC,CAAE;AAE/D,iBAAO,KAAK,EAAE,MAAM,QAAQ,OAAO,GAAG,OAAO,KAAI,CAAE;AACnD,cAAI;AACJ;;AAGF,YAAI,SAAS,KAAK;AAChB,cAAI,QAAQ;AACZ,cAAI,UAAU;AACd,cAAI,IAAI,IAAI;AAEZ,cAAI,IAAI,OAAO,KAAK;AAClB,kBAAM,IAAI,UAAU,oCAAA,OAAoC,CAAC,CAAE;;AAG7D,iBAAO,IAAI,IAAI,QAAQ;AACrB,gBAAI,IAAI,OAAO,MAAM;AACnB,yBAAW,IAAI,OAAO,IAAI;AAC1B;;AAGF,gBAAI,IAAI,OAAO,KAAK;AAClB;AACA,kBAAI,UAAU,GAAG;AACf;AACA;;uBAEO,IAAI,OAAO,KAAK;AACzB;AACA,kBAAI,IAAI,IAAI,OAAO,KAAK;AACtB,sBAAM,IAAI,UAAU,uCAAA,OAAuC,CAAC,CAAE;;;AAIlE,uBAAW,IAAI;;AAGjB,cAAI;AAAO,kBAAM,IAAI,UAAU,yBAAA,OAAyB,CAAC,CAAE;AAC3D,cAAI,CAAC;AAAS,kBAAM,IAAI,UAAU,sBAAA,OAAsB,CAAC,CAAE;AAE3D,iBAAO,KAAK,EAAE,MAAM,WAAW,OAAO,GAAG,OAAO,QAAO,CAAE;AACzD,cAAI;AACJ;;AAGF,eAAO,KAAK,EAAE,MAAM,QAAQ,OAAO,GAAG,OAAO,IAAI,KAAI,CAAE;;AAGzD,aAAO,KAAK,EAAE,MAAM,OAAO,OAAO,GAAG,OAAO,GAAE,CAAE;AAEhD,aAAO;IACT;AAgBA,aAAgB,MAAM,KAAa,SAA0B;AAA1B,UAAA,YAAA,QAAA;AAAA,kBAAA,CAAA;MAA0B;AAC3D,UAAM,SAAS,MAAM,GAAG;AAChB,UAAA,KAAoB,QAAO,UAA3B,WAAQ,OAAA,SAAG,OAAI;AACvB,UAAM,iBAAiB,KAAA,OAAK,aAAa,QAAQ,aAAa,KAAK,GAAC,KAAA;AACpE,UAAM,SAAkB,CAAA;AACxB,UAAI,MAAM;AACV,UAAI,IAAI;AACR,UAAI,OAAO;AAEX,UAAM,aAAa,SAAC,MAAsB;AACxC,YAAI,IAAI,OAAO,UAAU,OAAO,GAAG,SAAS;AAAM,iBAAO,OAAO,KAAK;MACvE;AAEA,UAAM,cAAc,SAAC,MAAsB;AACzC,YAAME,SAAQ,WAAW,IAAI;AAC7B,YAAIA,WAAU;AAAW,iBAAOA;AAC1B,YAAAC,MAA4B,OAAO,IAA3B,WAAQA,IAAA,MAAE,QAAKA,IAAA;AAC7B,cAAM,IAAI,UAAU,cAAA,OAAc,UAAQ,MAAA,EAAA,OAAO,OAAK,aAAA,EAAA,OAAc,IAAI,CAAE;MAC5E;AAEA,UAAM,cAAc,WAAA;AAClB,YAAIC,UAAS;AACb,YAAIF;AACJ,eAAQA,SAAQ,WAAW,MAAM,KAAK,WAAW,cAAc,GAAI;AACjE,UAAAE,WAAUF;;AAEZ,eAAOE;MACT;AAEA,aAAO,IAAI,OAAO,QAAQ;AACxB,YAAM,OAAO,WAAW,MAAM;AAC9B,YAAM,OAAO,WAAW,MAAM;AAC9B,YAAM,UAAU,WAAW,SAAS;AAEpC,YAAI,QAAQ,SAAS;AACnB,cAAI,SAAS,QAAQ;AAErB,cAAI,SAAS,QAAQ,MAAM,MAAM,IAAI;AACnC,oBAAQ;AACR,qBAAS;;AAGX,cAAI,MAAM;AACR,mBAAO,KAAK,IAAI;AAChB,mBAAO;;AAGT,iBAAO,KAAK;YACV,MAAM,QAAQ;YACd;YACA,QAAQ;YACR,SAAS,WAAW;YACpB,UAAU,WAAW,UAAU,KAAK;WACrC;AACD;;AAGF,YAAM,QAAQ,QAAQ,WAAW,cAAc;AAC/C,YAAI,OAAO;AACT,kBAAQ;AACR;;AAGF,YAAI,MAAM;AACR,iBAAO,KAAK,IAAI;AAChB,iBAAO;;AAGT,YAAM,OAAO,WAAW,MAAM;AAC9B,YAAI,MAAM;AACR,cAAM,SAAS,YAAW;AAC1B,cAAM,SAAO,WAAW,MAAM,KAAK;AACnC,cAAM,YAAU,WAAW,SAAS,KAAK;AACzC,cAAM,SAAS,YAAW;AAE1B,sBAAY,OAAO;AAEnB,iBAAO,KAAK;YACV,MAAM,WAAS,YAAU,QAAQ;YACjC,SAAS,UAAQ,CAAC,YAAU,iBAAiB;YAC7C;YACA;YACA,UAAU,WAAW,UAAU,KAAK;WACrC;AACD;;AAGF,oBAAY,KAAK;;AAGnB,aAAO;IACT;AA3FA,IAAAC,SAAA,QAAA;AA+GA,aAAgB,QACd,KACA,SAAgD;AAEhD,aAAO,iBAAoB,MAAM,KAAK,OAAO,GAAG,OAAO;IACzD;AALA,IAAAA,SAAA,UAAA;AAYA,aAAgB,iBACd,QACA,SAAqC;AAArC,UAAA,YAAA,QAAA;AAAA,kBAAA,CAAA;MAAqC;AAErC,UAAM,UAAU,MAAM,OAAO;AACrB,UAAA,KAA+C,QAAO,QAAtD,SAAM,OAAA,SAAG,SAAC,GAAS;AAAK,eAAA;MAAA,IAAC,IAAE,KAAoB,QAAO,UAA3B,WAAQ,OAAA,SAAG,OAAI;AAGlD,UAAM,UAAU,OAAO,IAAI,SAAC,OAAK;AAC/B,YAAI,OAAO,UAAU,UAAU;AAC7B,iBAAO,IAAI,OAAO,OAAA,OAAO,MAAM,SAAO,IAAA,GAAM,OAAO;;MAEvD,CAAC;AAED,aAAO,SAAC,MAA4C;AAClD,YAAI,OAAO;AAEX,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,cAAM,QAAQ,OAAO;AAErB,cAAI,OAAO,UAAU,UAAU;AAC7B,oBAAQ;AACR;;AAGF,cAAM,QAAQ,OAAO,KAAK,MAAM,QAAQ;AACxC,cAAM,WAAW,MAAM,aAAa,OAAO,MAAM,aAAa;AAC9D,cAAM,SAAS,MAAM,aAAa,OAAO,MAAM,aAAa;AAE5D,cAAI,MAAM,QAAQ,KAAK,GAAG;AACxB,gBAAI,CAAC,QAAQ;AACX,oBAAM,IAAI,UACR,aAAA,OAAa,MAAM,MAAI,mCAAA,CAAmC;;AAI9D,gBAAI,MAAM,WAAW,GAAG;AACtB,kBAAI;AAAU;AAEd,oBAAM,IAAI,UAAU,aAAA,OAAa,MAAM,MAAI,mBAAA,CAAmB;;AAGhE,qBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,kBAAM,UAAU,OAAO,MAAM,IAAI,KAAK;AAEtC,kBAAI,YAAY,CAAE,QAAQ,GAAc,KAAK,OAAO,GAAG;AACrD,sBAAM,IAAI,UACR,iBAAA,OAAiB,MAAM,MAAI,cAAA,EAAA,OAAe,MAAM,SAAO,cAAA,EAAA,OAAe,SAAO,GAAA,CAAG;;AAIpF,sBAAQ,MAAM,SAAS,UAAU,MAAM;;AAGzC;;AAGF,cAAI,OAAO,UAAU,YAAY,OAAO,UAAU,UAAU;AAC1D,gBAAM,UAAU,OAAO,OAAO,KAAK,GAAG,KAAK;AAE3C,gBAAI,YAAY,CAAE,QAAQ,GAAc,KAAK,OAAO,GAAG;AACrD,oBAAM,IAAI,UACR,aAAA,OAAa,MAAM,MAAI,cAAA,EAAA,OAAe,MAAM,SAAO,cAAA,EAAA,OAAe,SAAO,GAAA,CAAG;;AAIhF,oBAAQ,MAAM,SAAS,UAAU,MAAM;AACvC;;AAGF,cAAI;AAAU;AAEd,cAAM,gBAAgB,SAAS,aAAa;AAC5C,gBAAM,IAAI,UAAU,aAAA,OAAa,MAAM,MAAI,UAAA,EAAA,OAAW,aAAa,CAAE;;AAGvE,eAAO;MACT;IACF;AA9EA,IAAAA,SAAA,mBAAA;AA+GA,aAAgB,MACd,KACA,SAAwE;AAExE,UAAM,OAAc,CAAA;AACpB,UAAM,KAAK,aAAa,KAAK,MAAM,OAAO;AAC1C,aAAO,iBAAoB,IAAI,MAAM,OAAO;IAC9C;AAPA,IAAAA,SAAA,QAAA;AAYA,aAAgB,iBACd,IACA,MACA,SAAqC;AAArC,UAAA,YAAA,QAAA;AAAA,kBAAA,CAAA;MAAqC;AAE7B,UAAA,KAA8B,QAAO,QAArC,SAAM,OAAA,SAAG,SAAC,GAAS;AAAK,eAAA;MAAA,IAAC;AAEjC,aAAO,SAAU,UAAgB;AAC/B,YAAM,IAAI,GAAG,KAAK,QAAQ;AAC1B,YAAI,CAAC;AAAG,iBAAO;AAEP,YAAG,OAAgB,EAAC,IAAX,QAAU,EAAC;AAC5B,YAAM,SAAS,uBAAO,OAAO,IAAI;+BAExBC,IAAC;AACR,cAAI,EAAEA,QAAO;;AAEb,cAAM,MAAM,KAAKA,KAAI;AAErB,cAAI,IAAI,aAAa,OAAO,IAAI,aAAa,KAAK;AAChD,mBAAO,IAAI,QAAQ,EAAEA,IAAG,MAAM,IAAI,SAAS,IAAI,MAAM,EAAE,IAAI,SAAC,OAAK;AAC/D,qBAAO,OAAO,OAAO,GAAG;YAC1B,CAAC;iBACI;AACL,mBAAO,IAAI,QAAQ,OAAO,EAAEA,KAAI,GAAG;;;AAVvC,iBAAS,IAAI,GAAG,IAAI,EAAE,QAAQ,KAAG;kBAAxB,CAAC;;AAcV,eAAO,EAAE,MAAM,OAAO,OAAM;MAC9B;IACF;AA9BA,IAAAD,SAAA,mBAAA;AAmCA,aAAS,aAAa,KAAW;AAC/B,aAAO,IAAI,QAAQ,6BAA6B,MAAM;IACxD;AAKA,aAAS,MAAM,SAAiC;AAC9C,aAAO,WAAW,QAAQ,YAAY,KAAK;IAC7C;AAqBA,aAAS,eAAe,MAAc,MAAY;AAChD,UAAI,CAAC;AAAM,eAAO;AAElB,UAAM,cAAc;AAEpB,UAAI,QAAQ;AACZ,UAAI,aAAa,YAAY,KAAK,KAAK,MAAM;AAC7C,aAAO,YAAY;AACjB,aAAK,KAAK;UAER,MAAM,WAAW,MAAM;UACvB,QAAQ;UACR,QAAQ;UACR,UAAU;UACV,SAAS;SACV;AACD,qBAAa,YAAY,KAAK,KAAK,MAAM;;AAG3C,aAAO;IACT;AAKA,aAAS,cACP,OACA,MACA,SAA8C;AAE9C,UAAM,QAAQ,MAAM,IAAI,SAAC,MAAI;AAAK,eAAA,aAAa,MAAM,MAAM,OAAO,EAAE;MAAlC,CAAwC;AAC1E,aAAO,IAAI,OAAO,MAAA,OAAM,MAAM,KAAK,GAAG,GAAC,GAAA,GAAK,MAAM,OAAO,CAAC;IAC5D;AAKA,aAAS,eACP,MACA,MACA,SAA8C;AAE9C,aAAO,eAAe,MAAM,MAAM,OAAO,GAAG,MAAM,OAAO;IAC3D;AAoCA,aAAgB,eACd,QACA,MACA,SAAmC;AAAnC,UAAA,YAAA,QAAA;AAAA,kBAAA,CAAA;MAAmC;AAGjC,UAAA,KAME,QAAO,QANT,SAAM,OAAA,SAAG,QAAK,IACd,KAKE,QAAO,OALT,QAAK,OAAA,SAAG,OAAI,IACZ,KAIE,QAAO,KAJT,MAAG,OAAA,SAAG,OAAI,IACV,KAGE,QAAO,QAHT,SAAM,OAAA,SAAG,SAAC,GAAS;AAAK,eAAA;MAAA,IAAC,IACzB,KAEE,QAAO,WAFT,YAAS,OAAA,SAAG,QAAK,IACjB,KACE,QAAO,UADT,WAAQ,OAAA,SAAG,KAAE;AAEf,UAAM,aAAa,IAAA,OAAI,aAAa,QAAQ,GAAC,KAAA;AAC7C,UAAM,cAAc,IAAA,OAAI,aAAa,SAAS,GAAC,GAAA;AAC/C,UAAI,QAAQ,QAAQ,MAAM;AAG1B,eAAoB,KAAA,GAAA,WAAA,QAAA,KAAA,SAAA,QAAA,MAAQ;AAAvB,YAAM,QAAK,SAAA;AACd,YAAI,OAAO,UAAU,UAAU;AAC7B,mBAAS,aAAa,OAAO,KAAK,CAAC;eAC9B;AACL,cAAM,SAAS,aAAa,OAAO,MAAM,MAAM,CAAC;AAChD,cAAM,SAAS,aAAa,OAAO,MAAM,MAAM,CAAC;AAEhD,cAAI,MAAM,SAAS;AACjB,gBAAI;AAAM,mBAAK,KAAK,KAAK;AAEzB,gBAAI,UAAU,QAAQ;AACpB,kBAAI,MAAM,aAAa,OAAO,MAAM,aAAa,KAAK;AACpD,oBAAM,MAAM,MAAM,aAAa,MAAM,MAAM;AAC3C,yBAAS,MAAA,OAAM,QAAM,MAAA,EAAA,OAAO,MAAM,SAAO,MAAA,EAAA,OAAO,MAAM,EAAA,OAAG,QAAM,KAAA,EAAA,OAAM,MAAM,SAAO,MAAA,EAAA,OAAO,QAAM,GAAA,EAAA,OAAI,GAAG;qBACjG;AACL,yBAAS,MAAA,OAAM,QAAM,GAAA,EAAA,OAAI,MAAM,SAAO,GAAA,EAAA,OAAI,QAAM,GAAA,EAAA,OAAI,MAAM,QAAQ;;mBAE/D;AACL,kBAAI,MAAM,aAAa,OAAO,MAAM,aAAa,KAAK;AACpD,yBAAS,OAAA,OAAO,MAAM,SAAO,GAAA,EAAA,OAAI,MAAM,UAAQ,GAAA;qBAC1C;AACL,yBAAS,IAAA,OAAI,MAAM,SAAO,GAAA,EAAA,OAAI,MAAM,QAAQ;;;iBAG3C;AACL,qBAAS,MAAA,OAAM,MAAM,EAAA,OAAG,QAAM,GAAA,EAAA,OAAI,MAAM,QAAQ;;;;AAKtD,UAAI,KAAK;AACP,YAAI,CAAC;AAAQ,mBAAS,GAAA,OAAG,aAAW,GAAA;AAEpC,iBAAS,CAAC,QAAQ,WAAW,MAAM,MAAA,OAAM,YAAU,GAAA;aAC9C;AACL,YAAM,WAAW,OAAO,OAAO,SAAS;AACxC,YAAM,iBACJ,OAAO,aAAa,WAChB,YAAY,QAAQ,SAAS,SAAS,SAAS,EAAE,IAAI,KACrD,aAAa;AAEnB,YAAI,CAAC,QAAQ;AACX,mBAAS,MAAA,OAAM,aAAW,KAAA,EAAA,OAAM,YAAU,KAAA;;AAG5C,YAAI,CAAC,gBAAgB;AACnB,mBAAS,MAAA,OAAM,aAAW,GAAA,EAAA,OAAI,YAAU,GAAA;;;AAI5C,aAAO,IAAI,OAAO,OAAO,MAAM,OAAO,CAAC;IACzC;AArEA,IAAAA,SAAA,iBAAA;AAmFA,aAAgB,aACd,MACA,MACA,SAA8C;AAE9C,UAAI,gBAAgB;AAAQ,eAAO,eAAe,MAAM,IAAI;AAC5D,UAAI,MAAM,QAAQ,IAAI;AAAG,eAAO,cAAc,MAAM,MAAM,OAAO;AACjE,aAAO,eAAe,MAAM,MAAM,OAAO;IAC3C;AARA,IAAAA,SAAA,eAAA;;;;;ACpmBA;AAAA,gEAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAI5D,QAAM,2BAAN,cAAuC,MAAM;AAAA,MACzC,YAAY,SAAS;AACjB,cAAM,kBAAkB;AAAA,qGACkF;AAC1G,aAAK,cAAc;AAAA,MACvB;AAAA,IACJ;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;ACZlB;AAAA,mDAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,mBAAmB;AACzB,QAAM,6BAA6BC,iBAAgB,kCAA6C;AAMhG,aAAS,aAAa,MAAM;AAExB,UAAI,MAAM;AACN,YAAI;AACA,kBAAQ,GAAG,iBAAiB,cAAc,IAAI;AAAA,QAClD,SACO,GAAP;AACI,gBAAM,IAAI,2BAA2B,QAAQ,IAAI;AAAA,QACrD;AAAA,MACJ,OACK;AAID,eAAO;AAAA,MACX;AAAA,IACJ;AACA,IAAAD,SAAQ,UAAU;AAAA;AAAA;;;AC7BlB;AAAA,8DAAAE,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,cAAc;AACtB,QAAM,UAAU;AAChB,QAAM,gBAAgBC,iBAAgB,qBAAkC;AACxE,QAAM,iBAAiBA,iBAAgB,sBAAmC;AAC1E,QAAM,kBAAkB;AACxB,QAAM,cAAc,CAAC,UAAU,UAAU;AACrC,WAAK,GAAG,gBAAgB,YAAY,KAAK,GAAG;AACxC,YAAI,OAAO,MAAM,QAAQ,UAAU;AAC/B,cAAI,SAAS,YAAY,WAAW,GAAG,eAAe,SAAS,MAAM,GAAG,GAAG;AACvE,mBAAO,EAAE,CAAC,OAAO,CAAC,UAAU,MAAM,GAAG,EAAE;AAAA,UAC3C;AAEA,iBAAO,EAAE,CAAC,QAAQ,CAAC,UAAU,MAAM,GAAG,EAAE;AAAA,QAC5C,WACS,MAAM,eAAe,QAAQ;AAClC,iBAAO,EAAE,CAAC,OAAO,CAAC,WAAW,GAAG,cAAc,SAAS,MAAM,GAAG,CAAC,EAAE;AAAA,QACvE,WACS,MAAM,eAAe,QAAQ,WAAW;AAC7C,iBAAO,EAAE,CAAC,QAAQ,CAAC,UAAU,MAAM,IAAI,KAAK,EAAE;AAAA,QAClD,WACS,MAAM,QAAQ,MAAM,GAAG,GAAG;AAC/B,iBAAO,EAAE,QAAQ,CAAC,UAAU,MAAM,GAAG,EAAE;AAAA,QAC3C;AAAA,MACJ,OACK;AACD,YAAI,OAAO,UAAU,UAAU;AAC3B,cAAI,SAAS,YAAY,WAAW,GAAG,eAAe,SAAS,KAAK,GAAG;AACnE,mBAAO,EAAE,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;AAAA,UACvC;AAEA,iBAAO,EAAE,CAAC,QAAQ,CAAC,UAAU,KAAK,EAAE;AAAA,QACxC,WACS,iBAAiB,QAAQ;AAC9B,iBAAO,EAAE,CAAC,OAAO,CAAC,WAAW,GAAG,cAAc,SAAS,KAAK,CAAC,EAAE;AAAA,QACnE,WACS,iBAAiB,QAAQ,WAAW;AACzC,iBAAO,EAAE,CAAC,QAAQ,CAAC,UAAU,MAAM,KAAK,EAAE;AAAA,QAC9C,WACS,MAAM,QAAQ,KAAK,GAAG;AAC3B,iBAAO,EAAE,IAAI,CAAC,UAAU,KAAK,EAAE;AAAA,QACnC;AAAA,MACJ;AAGA,YAAM,IAAI,MAAM,qCAAqC,OAAO,OAAO;AAAA,IACvE;AACA,IAAAD,SAAQ,cAAc;AAAA;AAAA;;;ACnDtB;AAAA,sDAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,iBAAiB;AACzB,QAAM,kBAAkB;AACxB,QAAM,gBAAgB;AAMtB,aAAS,eAAe,UAAU;AAC9B,UAAI;AACJ,YAAM,aAAa;AACnB,UAAI,WAAW,qBAAqB;AAGhC,eAAO,WAAW;AAAA,MACtB;AACA,YAAM,iBAAiB;AAEvB,UAAI,0BAA0B,gBAAgB,eAAe,0BAA0B,gBAAgB,YAAY;AAE/G,eAAO;AAAA,UACH,CAAC,eAAe,WAAW,eAAe,OACrC,IAAI,CAAAC,oBAAkB,eAAeA,eAAc,CAAC,EACpD,OAAO,CAAAC,cAAYA,SAAQ;AAAA,QACpC;AAAA,MACJ;AACA,YAAM,WAAW,CAAC;AAClB,YAAM,MAAM,CAAC,UAAU,UAAU;AAC7B,cAAM,aAAa,GAAG,cAAc,aAAa,UAAU,KAAK;AAChE,iBAAS,KAAK,SAAS;AAAA,MAC3B;AACA,UAAI,eAAe,MAAM;AACrB,YAAI,EAAE,SAAS,OAAO,GAAG,eAAe,IAAI;AAAA,MAChD;AACA,UAAI,eAAe,QAAQ;AACvB,YAAI,EAAE,SAAS,SAAS,GAAG,eAAe,MAAM;AAAA,MACpD;AACA,UAAI,eAAe,QAAQ;AACvB;AAAA,UAAI,EAAE,SAAS,SAAS;AAAA,UAAG,OAAO,eAAe,WAAW,WACtD,eAAe,OAAO,YAAY,IAClC,eAAe;AAAA,QACrB;AAAA,MACJ;AACA,UAAI,eAAe,SAAS;AACxB,eAAO,QAAQ,eAAe,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC9D,cAAI,EAAE,kBAAkB,KAAK,YAAY,EAAE,GAAG,KAAK;AAAA,QACvD,CAAC;AAAA,MACL;AACA,UAAI,eAAe,OAAO;AACtB,eAAO,QAAQ,eAAe,KAAK,EAAE,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAE5D,cAAI,EAAE,wBAAwB,KAAK,GAAG,OAAO,UAAU,YAAY,MAAM,WAAW,GAAG,IAAI,IAAI,OAAO,IAAI,IAAI,KAAK;AAAA,QACvH,CAAC;AAAA,MACL;AACA,UAAI,eAAe,SAAS;AACxB,eAAO,QAAQ,eAAe,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC9D,cAAI,EAAE,kBAAkB,KAAK,GAAG,KAAK;AAAA,QACzC,CAAC;AAAA,MACL;AACA,UAAI,eAAe,QAAQ;AACvB,eAAO,QAAQ,eAAe,MAAM,EAAE,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC7D,cAAI,EAAE,QAAQ,KAAK,GAAG,KAAK;AAAA,QAC/B,CAAC;AAAA,MACL;AACA,UAAI,eAAe,UAAU;AACzB,eAAO,QAAQ,eAAe,QAAQ,EAAE,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC/D,cAAI,EAAE,UAAU,KAAK,GAAG,KAAK;AAAA,QACjC,CAAC;AAAA,MACL;AACA,UAAI,eAAe,UAAU;AACzB,eAAO,QAAQ,eAAe,QAAQ,EAAE,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC/D,cAAI,EAAE,UAAU,KAAK,GAAG,KAAK;AAAA,QACjC,CAAC;AAAA,MACL;AACA,UAAI,eAAe,WAAW;AAC1B,YAAI,EAAE,SAAS,YAAY,GAAG,eAAe,SAAS;AAAA,MAC1D;AACA,UAAI,eAAe,qBAAqB;AACpC,YAAI,EAAE,SAAS,mBAAmB,GAAG,eAAe,mBAAmB;AAAA,MAC3E;AACA,WAAK,KAAK,eAAe,cAAc,QAAQ,OAAO,SAAS,SAAS,GAAG,aAAa;AACpF,YAAI,EAAE,UAAU,cAAc,GAAG,eAAe,SAAS,WAAW;AAAA,MACxE;AACA,UAAI,SAAS,WAAW,GAAG;AACvB,eAAO;AAAA,MACX;AAGA,aAAQ,SAAS,WAAW,IAAI,SAAS,KAAK,EAAE,KAAK,SAAS;AAAA,IAClE;AACA,IAAAF,SAAQ,iBAAiB;AAAA;AAAA;;;AC5FzB;AAAA,yDAAAG,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,SAASA,SAAQ,SAASA,SAAQ,SAAS;AACnD,QAAM,mBAAmB;AACzB,QAAM,SAAS,CAAC,aAAa,sBAAsB;AAC/C,YAAM,YAAY,GAAG,iBAAiB,gBAAgB,QAAQ;AAC9D,YAAM,QAAQ,GAAGA,SAAQ,QAAQ,iBAAiB;AAElD,UAAI,CAAC,UAAU;AACX,eAAO;AAAA,MACX;AACA,YAAM,OAAO;AAAA,QACT,IAAI,CAAC,UAAU,IAAI;AAAA,MACvB;AACA,aAAO;AAAA,IACX;AACA,IAAAA,SAAQ,SAAS;AACjB,QAAM,SAAS,CAAC,oBAAoB,CAAC,MAAM;AACvC,UAAI;AACJ,YAAM,cAAc,CAAC;AACrB,wBAAkB,QAAQ,CAAC,oBAAoB;AAC3C,cAAM,QAAQ;AACd,cAAM,QACA,YAAY,KAAK,GAAG,MAAM,KAAK,IAC/B,MAAM,QAAQ,KAAK,IACf,YAAY,KAAK,GAAG,KAAK,IACzB,YAAY,KAAK,KAAK;AAAA,MACpC,CAAC;AACD,WAAK,KAAK,YAAY,QAAQ,QAAQ,OAAO,SAAS,SAAS,GAAG,IAAI;AAGlE,eAAO,CAAC,CAAC,GAAG,GAAG,WAAW;AAAA,MAC9B,WACS,YAAY,WAAW,GAAG;AAE/B,eAAO,YAAY;AAAA,MACvB;AACA,aAAO;AAAA,IACX;AACA,IAAAA,SAAQ,SAAS;AACjB,QAAM,SAAS,CAAC,UAAU,CAAC,CAAC,MAAM;AAClC,IAAAA,SAAQ,SAAS;AAAA;AAAA;;;ACzCjB;AAAA,iDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,kBAAkBA,SAAQ,mBAAmB;AASrD,aAAS,iBAAiB,OAAO,QAAQ,aAAa;AAClD,aAAO,gBAAgB,aAAa,MAAM,KAAK,MAAM,KAAK,CAAC,CAAC;AAAA,IAChE;AACA,IAAAA,SAAQ,mBAAmB;AAO3B,aAAS,gBAAgB,aAAa,QAAQ;AAG1C,UAAI;AACJ,eAAU,KAAK,YAAY,MAAM,kBAAkB,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,OAAO,CAAC,QAAQ,sBAAsB;AAEhI,YAAI,kBAAkB,WAAW,IAAI;AACjC,iBAAO;AACX,cAAM,QAAQ,SAAS,kBAAkB,UAAU,CAAC,CAAC;AACrD,eAAO,OAAO,QAAQ,mBAAmB,OAAO,UAAU,EAAE;AAAA,MAChE,GAAG,WAAW,MAAM;AAAA,IACxB;AACA,IAAAA,SAAQ,kBAAkB;AAAA;AAAA;;;ACjC1B;AAAA,iDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,eAAe;AAerB,IAAAA,SAAQ,UAAU,CAAC,MAAM,WAAW;AAChC,UAAI,IAAI;AAGR,UAAI,YAAY,KAAK,IAAI,GAAG;AACxB,cAAM,IAAI,MAAM,uFAAuF,OAAO;AAAA,MAClH;AACA,eAAS,aAAa,QAAQ;AAC1B,YAAI,QAAQ,OAAO;AACnB,YAAI,MAAM,QAAQ,KAAK,GAAG;AACtB,kBAAQ,MAAM,KAAK,GAAG;AAAA,QAC1B;AAMA,cAAM,UAAU,IAAI,OAAO,IAAI,iCAAiC,GAAG;AACnE,cAAM,cAAc,UAAU,SAAY,KAAK;AAC/C,YAAI,EAAE,QAAQ,SAAS,YAAY,QAAQ,OAAO,KAAK,CAAC;AAAA,MAC5D;AAOA,UAAI,EAAE,QAAQ,mBAAmB,EAAE;AAGnC,UAAI,EAAE,QAAQ,OAAO,GAAG;AACxB,UAAI,EACC,QAAQ,QAAQ,GAAG,EACnB,QAAQ,iBAAiB,MAAM;AAGpC,WAAK,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,MAAM,GAAG,aAAa,iBAAiB,GAAG,OAAO,CAAC,IAAI;AAClH,aAAO;AAAA,IACX;AAAA;AAAA;;;ACvDA;AAAA,iDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,aAAS,SAAS,SAAS,QAAQ,KAAK;AACpC,UAAI,QAAQ,WAAW,MAAM,GAAG;AAC5B,kBAAU,QAAQ,UAAU,CAAC;AAC7B,iBAAS;AAAA,MACb;AACA,aAAO,IAAI,OAAO,SAAS,KAAK;AAAA,IACpC;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;ACTlB;AAAA,4CAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,oBAAoBA,SAAQ,oBAAoBA,SAAQ,SAASA,SAAQ,cAAcA,SAAQ,cAAc;AACrH,QAAM,mBAAmB;AACzB,QAAM,eAAeC,iBAAgB,oBAA8B;AACnE,QAAM,gBAAgBA,iBAAgB,qBAA+B;AACrE,QAAM,aAAaA,iBAAgB,kBAA8B;AAOjE,aAAS,YAAY,MAAM;AACvB,UAAI,SAAS;AACb,YAAM,gBAAgB;AACtB,YAAM,UAAU,cAAc,KAAK,IAAI;AACvC,UAAI,SAAS;AACT,iBAAS,QAAQ;AAAA,MACrB;AACA,YAAM,WAAW,KAAK,UAAU,OAAO,MAAM;AAE7C,cAAQ,GAAG,cAAc,UAAU,GAAG,iBAAiB,cAAc,QAAQ,GAAG,MAAM;AAAA,IAC1F;AACA,IAAAD,SAAQ,cAAc;AAStB,aAAS,YAAY,YAAY,UAAU,WAAW;AAClD,UAAI,cAAc;AACd,eAAO,EAAE,aAAa,SAAS;AAGnC,aAAO;AAAA,QACH,QAAQ,GAAG;AAAA,QACX,QAAQ;AAAA,QACR,aAAa,GAAG,WAAW,YAAY,KAAK;AAAA,MAChD;AAAA,IACJ;AACA,IAAAA,SAAQ,cAAc;AAWtB,aAAS,OAAO,KAAK,QAAQ,aAAa,QAAQ;AAC9C,UAAI;AACJ,UAAI,aAAa;AAEjB,UAAI,CAAC;AACD,eAAO;AAEX,UAAI,WAAW,UAAU;AACrB,wBAAgB,GAAG,WAAW,SAAS,QAAQ,EAAE;AAAA,MACrD,OACK;AAED,wBAAgB,GAAG,iBAAiB,cAAc,MAAM;AAExD,sBAAc,GAAG,aAAa,SAAS,aAAa,kBAAkB,MAAM,CAAC;AAAA,MACjF;AAEA,UAAI,CAAC,IAAI,MAAM,YAAY;AACvB,eAAO;AACX,aAAO,IAAI,QAAQ,cAAc,UAAU;AAAA,IAC/C;AACA,IAAAA,SAAQ,SAAS;AA4BjB,aAAS,kBAAkB,MAAM;AAE7B,YAAM,oBAAoB,KAAK,MAAM,sBAAsB;AAC3D,UAAI,mBAAmB;AACnB,eAAO,IAAI,kBAAkB;AAAA,MACjC;AAEA,UAAI,uBAAuB;AAC3B,YAAM,aAAa,CAAC;AACpB,OAAC,GAAG,iBAAiB,OAAO,IAAI,EAAE,QAAQ,WAAS;AAC/C,YAAI,OAAO,UAAU,UAAU;AAC3B,qBAAW,MAAM,QAAQ,IAAI;AAAA,QACjC;AAAA,MACJ,CAAC;AACD,aAAO;AAAA,IACX;AACA,IAAAA,SAAQ,oBAAoB;AAQ5B,aAAS,kBAAkB,QAAQ,aAAa;AAC5C,YAAM,iBAAiB,kBAAkB,MAAM;AAC/C,YAAM,UAAU;AAAA,QACZ,GAAG,YAAY,SAAS,oBAAoB;AAAA,QAC5C,GAAG,YAAY,SAAS,eAAe;AAAA,MAC3C;AACA,cAAQ,QAAQ,WAAS;AACrB,YAAI,CAAC,OAAO,KAAK,cAAc,EAAE,SAAS,MAAM,EAAE;AAC9C;AACJ,cAAM,QAAQ,OAAO,KAAK,cAAc,EAAE,QAAQ,MAAM,EAAE;AAC1D,sBAAc,YAAY,QAAQ,MAAM,IAAI,IAAI,OAAO;AAAA,MAC3D,CAAC;AACD,aAAO;AAAA,IACX;AACA,IAAAA,SAAQ,oBAAoB;AAAA;AAAA;;;ACjJ5B;AAAA,4CAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,YAAYA,SAAQ,gBAAgBA,SAAQ,oBAAoBA,SAAQ,UAAUA,SAAQ,UAAU;AAC5G,QAAM,cAAc;AAKpB,aAAS,UAAU;AACf,aAAO,QAAQ,IAAI,YAAY,oBAAoB,oBAAoB,YAAY;AAAA,IACvF;AACA,IAAAA,SAAQ,UAAU;AAIlB,aAAS,UAAU;AACf,aAAO,QAAQ,IAAI,YAAY,oBAAoB,WAAW;AAAA,IAClE;AACA,IAAAA,SAAQ,UAAU;AAKlB,aAAS,oBAAoB;AACzB,aAEA,QAAQ,IAAI,aAAa,gBAGrB,QAAQ,IAAI,YAAY,oBAAoB,qBAAqB;AAAA,IACzE;AACA,IAAAA,SAAQ,oBAAoB;AAK5B,aAAS,gBAAgB;AACrB,aAAO,CAAC,QAAQ,KAAK,CAAC,kBAAkB;AAAA,IAC5C;AACA,IAAAA,SAAQ,gBAAgB;AAKxB,aAAS,YAAY;AACjB,aAAO,OAAO,WAAW;AAAA,IAC7B;AACA,IAAAA,SAAQ,YAAY;AAAA;AAAA;;;AC/CpB;AAAA,wCAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,6BAA6BA,SAAQ,yBAAyBA,SAAQ,8BAA8BA,SAAQ,qBAAqBA,SAAQ,gBAAgBA,SAAQ,kBAAkBA,SAAQ,8BAA8BA,SAAQ,yBAAyBA,SAAQ,+BAA+BA,SAAQ,qBAAqB;AACtU,QAAM,cAAc;AACpB,QAAM,gBAAgB;AAItB,IAAAA,SAAQ,qBAAqB;AAK7B,IAAAA,SAAQ,+BAA+B;AAIvC,IAAAA,SAAQ,yBAAyB;AAKjC,IAAAA,SAAQ,8BAA8B;AACtC,QAAM,iBAAiB,QAAQ,IAAI,YAAY,oBAAoB,kBAC7D,KAAK,MAAM,QAAQ,IAAI,YAAY,oBAAoB,mBAAmB,IAAI,IAC9E,CAAC;AAKP,QAAM,sBAAsB,CAAC,SAAS;AAClC,UAAI,IAAI;AACR,YAAM,UAAU,KAAK,mBAAmB,QAAQ,mBAAmB,SAAS,SAAS,eAAe,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,CAACC,YAAWA,QAAO,SAAS,IAAI;AAC1L,UAAI,QAAQ;AACR,iBAAS,QAAQ,OAAO,OAAO;AAE3B,iBAAO,KAAK;AAAA,QAChB;AACA,eAAO;AAAA,UACH,GAAG;AAAA,UAKH,YAAY;AAAA,YACR,SAAS;AAAA,YACT,gCAAgC,KAAK,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,MAAM,KAAK,CAAC,SAAS,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK,QAAQ,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA,UACzN;AAAA,QACJ;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AACA,aAAS,gBAAgB,iBAAiB,OAAO;AAC7C,aAAO;AAAA,QACH,mBAAmB;AAAA,QACnB,4BAA4B;AAAA,QAC5B,uBAAuB,cAAc;AAAA,QACrC,2BAA2B;AAAA,MAC/B;AAAA,IACJ;AACA,IAAAD,SAAQ,kBAAkB;AAC1B,aAAS,cAAc,QAAQ;AAC3B,UAAI,IAAI,IAAI;AACZ,eAAU,MAAM,MAAM,KAAK,mBAAmB,QAAQ,mBAAmB,SAAS,SAAS,eAAe,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,CAAC,MAAM,EAAE,SAAS,MAAM,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM,QAAQ,QAAQ,OAAO,SAAS,SAAS,GAAG,gBAAgB;AAAA,IACzS;AACA,IAAAA,SAAQ,gBAAgB;AAKxB,aAAS,qBAAqB;AAC1B,aAAQ,oBAAoBA,SAAQ,kBAAkB,KAAK;AAAA,QACvD,MAAMA,SAAQ;AAAA,QACd,OAAO,CAAC,EAAE,UAAU,iBAAiB,CAAC;AAAA,MAC1C;AAAA,IACJ;AACA,IAAAA,SAAQ,qBAAqB;AAK7B,aAAS,8BAA8B;AACnC,aAAQ,oBAAoBA,SAAQ,4BAA4B,KAAK;AAAA,QACjE,MAAMA,SAAQ;AAAA,QACd,OAAO,CAAC,EAAE,UAAU,iBAAiB,CAAC;AAAA,MAC1C;AAAA,IACJ;AACA,IAAAA,SAAQ,8BAA8B;AAQtC,aAAS,uBAAuB,iBAAiB,OAAO;AAGpD,YAAM,mBAAmB,iBAAiB,oBAAoBA,SAAQ,sBAAsB,IAAI;AAChG,aAAQ,oBAAoB;AAAA,QACxB,MAAMA,SAAQ;AAAA,QACd,OAAO,CAAC,EAAE,UAAU,iBAAiB,CAAC;AAAA,MAC1C;AAAA,IACJ;AACA,IAAAA,SAAQ,yBAAyB;AAOjC,aAAS,6BAA6B;AAClC,UAAI;AACJ,YAAM,yBAAyB,oBAAoBA,SAAQ,sBAAsB;AACjF,YAAM,yBAAyB,GAAG,cAAc,SAAS,IACnD;AAAA,QACE,OAAO,CAAC,EAAE,UAAU,iBAAiB,CAAC;AAAA,MAC1C,IACE;AAAA,QACE,GAAG;AAAA,QACH,uBAAuB,KAAK,2BAA2B,QAAQ,2BAA2B,SAAS,SAAS,uBAAuB,MAAM,QAAQ,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA,MACzL;AACJ,aAAO;AAAA,QACH,GAAG;AAAA,QACH,MAAMA,SAAQ;AAAA,MAClB;AAAA,IACJ;AACA,IAAAA,SAAQ,6BAA6B;AAAA;AAAA;;;AC/HrC;AAAA,uDAAAE,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,2BAA2B;AACnC,QAAM,QAAQC,iBAAgB,QAAQ,MAAM;AAC5C,QAAM,gBAAgBA,iBAAgB,QAAQ,cAAc;AAS5D,QAAM,2BAA2B,CAAC,IAAI,YAAY;AAC9C,YAAM,EAAE,aAAa,KAAK,QAAQ,CAAC,EAAE,IAErC,OAAO,YAAY,WAAW,EAAE,YAAY,QAAQ,IAAI;AAExD,UAAI,UAAU,CAAC;AACf,YAAM,WAAW,MAAM,QAAQ,MAAM,EAAE;AAEvC,UAAI,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,QAAQ;AACrE,aAAK,GAAG,OAAO,GAAG,GAAG,SAAS,SAAS,OAAO,MAAM;AAEpD,kBAAU,cAAc,QAAQ,MAAM,SAAS,KAAK;AAAA,MACxD;AACA,aAAO;AAAA,QACH;AAAA,QACA;AAAA,QACA,OAAO;AAAA,UACH,GAAG;AAAA,UACH,GAAG;AAAA,QACP;AAAA,MACJ;AAAA,IACJ;AACA,IAAAD,SAAQ,2BAA2B;AAAA;AAAA;;;ACtCnC;AAAA,oCAAAE,UAAA;AAAA;AACA,QAAI;AACJ,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAI;AACJ,KAAC,SAAUC,WAAU;AACjB,MAAAA,UAASA,UAAS,WAAW,KAAK;AAClC,MAAAA,UAASA,UAAS,WAAW,KAAK;AAClC,MAAAA,UAASA,UAAS,UAAU,KAAK;AACjC,MAAAA,UAASA,UAAS,UAAU,KAAK;AACjC,MAAAA,UAASA,UAAS,WAAW,KAAK;AAAA,IACtC,GAAG,aAAa,WAAW,CAAC,EAAE;AAC9B,QAAM,OAAO,KAAK,QAAQ,IAAI,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,YAAY;AAC7F,QAAM,qBAAqB,MAAM,SAAS,OAAO;AACjD,QAAM,SAAS;AAAA,MACX,SAAS,QAAQ;AACb,eAAO,IAAI,SAAS,OAAO,GAAG,MAAM;AAAA,MACxC;AAAA,MACA,SAAS,QAAQ;AACb,eAAO,IAAI,SAAS,OAAO,GAAG,MAAM;AAAA,MACxC;AAAA,MACA,QAAQ,QAAQ;AACZ,eAAO,IAAI,SAAS,MAAM,GAAG,MAAM;AAAA,MACvC;AAAA,MACA,QAAQ,QAAQ;AACZ,eAAO,IAAI,SAAS,MAAM,GAAG,MAAM;AAAA,MACvC;AAAA,MACA,SAAS,QAAQ;AACb,eAAO,IAAI,SAAS,MAAM,GAAG,MAAM;AAAA,MACvC;AAAA,MACA,IAAI,UAAU,QAAQ;AAIlB,YAAI,OAAO,WAAW,KAAK,OAAO,OAAO,OAAO,YAAY;AACxD,mBAAS,CAAC,OAAO,GAAG,CAAC;AAAA,QACzB;AACA,YAAI,sBAAsB,QAAQ,sBAAsB,OAAO;AAC3D,kBAAQ,IAAI,GAAG,SAAS,OAAO,OAAO,GAAG,GAAG,KAAK,GAAG,MAAM;AAAA,QAC9D;AAAA,MACJ;AAAA,IACJ;AACA,IAAAD,SAAQ,UAAU;AAAA;AAAA;;;ACzClB;AAAA,yDAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAK5D,QAAM,oBAAN,cAAgC,MAAM;AAAA,MAIlC,YAAY,OAAO;AACf,cAAM,MAAM,OAAO;AACnB,aAAK,OAAO;AACZ,aAAK,QAAQ;AAAA,MACjB;AAAA,IACJ;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;AChBlB;AAAA,+CAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,eAAeA,SAAQ,mBAAmB;AAMlD,aAAS,iBAAiB,QAAQ;AAC9B,YAAM,QAAQ,aAAa,OAAO,MAAM;AACxC,aAAO,OAAO;AAAA,IAClB;AACA,IAAAA,SAAQ,mBAAmB;AAM3B,aAAS,aAAa,KAAK;AACvB,aAAO,KAAK,MAAM,KAAK,OAAO,IAAI,GAAG;AAAA,IACzC;AACA,IAAAA,SAAQ,eAAe;AAAA;AAAA;;;ACrBvB;AAAA,uDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAI5D,QAAM,uBAAuB;AAC7B,aAAS,iBAAiB,YAAY,sBAAsB;AAGxD,YAAM,sBAAsB,IAAI,IAAI,YAAY,WAAW,sBAAsB,EAAE;AACnF,YAAM,YAAY,IAAI,IAAI,sBAAsB,WAAW,sBAAsB;AAEjF,0BAAoB,QAAQ,CAAC,OAAO,QAAQ;AACxC,YAAI,CAAC,UAAU,aAAa,IAAI,GAAG,GAAG;AAClC,oBAAU,aAAa,IAAI,KAAK,KAAK;AAAA,QACzC;AAAA,MACJ,CAAC;AAED,aAAO,UAAU,aAAa,uBACxB,GAAG,UAAU,WAAW,UAAU,WAClC,UAAU,SAAS;AAAA,IAC7B;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;ACtBlB;AAAA,gDAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,QAAQ,QAAQ;AACtB,QAAM,SAASC,iBAAgB,QAAQ,OAAO;AAC9C,QAAM,UAAUA,iBAAgB,QAAQ,QAAQ;AAChD,QAAM,sBAAsBA,iBAAgB,2BAAsC;AAClF,QAAM,cAAc;AACpB,QAAM,WAAW;AACjB,QAAM,QAAQA,iBAAgB,aAAiB;AAC/C,QAAM,eAAeA,iBAAgB,oBAA8B;AACnE,QAAM,qBAAqBA,iBAAgB,0BAAoC;AAC/E,QAAM,QAAQ,QAAQ;AAYtB,QAAM,0BAA0B,CAAC,qBAAqB,gBAAgB;AAItE,QAAM,UAAN,MAAc;AAAA,MACV,OAAO,QAAQ,gBAAgB;AAC3B,eAAO;AAAA,MACX;AAAA,MACA,OAAO,OAAO,QAAQ,QAAQ;AAC1B,eAAO,IAAI,KAAK,QAAQ,MAAM;AAAA,MAClC;AAAA,MACA,YAAY,QAAQ,QAAQ;AACxB,aAAK,SAAS;AACd,aAAK,SAAS;AACd,aAAK,aAAa,OAAO;AAAA,MAC7B;AAAA,MAOA,MAAM,MAAM,KAAK,KAAK,UAAU,CAAC,GAAG;AAEhC,cAAM,MAAM,KAAK,eAAe,GAAG;AACnC,cAAM,iBAAiB,KAAK,uBAAuB,KAAK,KAAK,OAAO;AACpE,cAAM,QAAQ,MAAM,aAAa,SAAS,cAAc;AACxD,eAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpC,gBAAM,MAAM,IAAI,aAAa,WAAW,QAAQ,UAAU,OAAO;AACjE,cAAI,kBAAkB;AACtB,gBAAM,cAAc,IAAI,QAAQ,gBAAgB,iBAAe;AAC3D,kBAAM,kBAAkB,MAAM;AAO1B,kBAAI,CAAC,iBAAiB;AAClB,kCAAkB;AAClB,uBAAO,QAAQ,YAAY,OAAO,EAC7B,OAAO,CAAC,CAAC,IAAI,MAAM,CAAC,wBAAwB,SAAS,KAAK,YAAY,CAAC,CAAC,EACxE,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC5B,sBAAI;AACA,wBAAI,UAAU,MAAM,KAAK;AAAA,kBAC7B,SACO,GAAP;AACI,0BAAM,QAAQ,KAAK,4CAA4C,mBAAmB,SAAS,CAAC;AAAA,kBAChG;AAAA,gBACJ,CAAC;AACD,oBAAI,aAAa,YAAY;AAC7B,oBAAI,gBAAgB,YAAY;AAChC,sBAAM,QAAQ,MAAM,SAAS,IAAI,IAAI,cAAc,IAAI,kBAAkB,GAAG;AAAA,cAChF;AAAA,YACJ;AACA,wBACK,GAAG,QAAQ,OAAO,UAAU;AAC7B,kBAAI;AACA,gCAAgB;AAGhB,sBAAM,IAAI,MAAM,KAAK;AAAA,cACzB,SACO,GAAP;AACI,uBAAO,CAAC;AACR,4BAAY,QAAQ;AAAA,cACxB;AAAA,YACJ,CAAC,EACI,GAAG,OAAO,YAAY;AACvB,kBAAI;AACA,oBAAI,YAAY,UAAU;AACtB,kCAAgB;AAEhB,wBAAM,IAAI,IAAI;AAEd,wBAAM,IAAI,aAAa;AACvB,0BAAQ;AAAA,gBACZ;AAAA,cACJ,SACO,GAAP;AACI,uBAAO,CAAC;AACR,4BAAY,QAAQ;AAAA,cACxB;AAAA,YACJ,CAAC,EACI;AAAA,cAAG;AAAA,cACmB,OAAK;AAC5B,uBAAO,IAAI,oBAAoB,QAAQ,CAAC,CAAC;AAAA,cAC7C;AAAA,YAAC,EAUI;AAAA,cAAG;AAAA,cACmB,MAAM;AAC7B,oBAAI,CAAC,YAAY,UAAU;AACvB,yBAAO,IAAI,oBAAoB,QAAQ,IAAI,MAAM,sEAAsE,CAAC,CAAC;AAAA,gBAC7H;AAAA,cACJ;AAAA,YAAC;AAAA,UACL,CAAC;AACD,sBAAY,GAAG,SAAS,OAAK,OAAO,IAAI,oBAAoB,QAAQ,CAAC,CAAC,CAAC;AACvE,sBAAY,IAAI,IAAI,OAAO;AAAA,QAC/B,CAAC;AAAA,MACL;AAAA,MAKA,eAAe,KAAK;AAChB,YAAI;AACJ,YAAI,MAAM,QAAQ,KAAK,OAAO,QAAQ,GAAG;AACrC,sBAAY,GAAG,SAAS,kBAAkB,KAAK,OAAO,QAAQ;AAAA,QAClE,OACK;AACD,qBAAW,KAAK,OAAO;AAAA,QAC3B;AACA,YAAI,OAAO,aAAa,UAAU;AAC9B,qBAAW,EAAE,UAAU,SAAS;AAAA,QACpC;AACA,cAAM,EAAE,UAAU,KAAK,IAAI;AAC3B,cAAM,WAAW,SAAS,MAAM,gCAAgC,IAAI,SAAS;AAC7E,cAAM,OAAO,GAAG,WAAW,OAAO,IAAI,SAAS;AAC/C,cAAM,UAAU,GAAG,MAAM,OAAO,GAAG,cAAc,OAAO,IAAI,OAAO,IAAI;AAEvE,YAAI,IAAI,UAAU,YAAY,aAAa,aAAa,MAAM,QAAQ;AAClE,iBAAO,WAAW;AAAA,QACtB;AACA,eAAO;AAAA,MACX;AAAA,MAMA,QAAQ,KAAK;AACT,eAAO,IAAI,aAAa,YAAY;AAAA,MACxC;AAAA,MAOA,uBAAuB,WAAW,KAAK,UAAU,CAAC,GAAG;AACjD,YAAI,IAAI,IAAI;AACZ,YAAI,QAAQ;AACZ,cAAM,KAAK,KAAK,OAAO,gBAAgB,QAAQ,OAAO,SAAS,SAAS,GAAG,4BAA4B,UAAU,aAAa,UAAU;AAEpI,kBAAQ,IAAI,QAAQ,QAAQ,MAAM,EAAE,oBAAoB,MAAM,CAAC;AAAA,QACnE;AACA,YAAI,iBAAiB,KAAK,UAAU,UAAU,QAAQ,OAAO,SAAS,KAAK;AAG3E,YAAI,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,MAAM;AAChE,gBAAM,wBAAwB,GAAG,aAAa,SAAS,OAAO,QAAQ,SAAS,aAAa,QAAQ,KAAK,KAAK,KAAK,QAAQ,MAAM,IAAI,MAAM;AAC3I,2BAAiB,GAAG,mBAAmB,SAAS,kBAAkB,QAAQ,kBAAkB,SAAS,gBAAgB,IAAI,oBAAoB;AAAA,QACjJ;AAEA,aAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,iCAAiC,UAAU,MAAM;AAC5G,0BAAgB,kBAAkB,QAAQ,kBAAkB,SAAS,SAAS,cAAc,QAAQ,cAAc,EAAE;AAAA,QACxH;AACA,cAAM,kBAAkB;AAAA,UACpB,GAAG,IAAI;AAAA,UAEP,IAAK,KAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,aAAa,QAAQ,OAAO,SAAS,KAAK,CAAC;AAAA,UAI/G,MAAM,KAAK,eACN,EAAE,GAAG,MAAM,MAAM,UAAU,QAAQ,IAC9B,UAAU,OACV,WACN,IAAI,QAAQ;AAAA,QACpB;AACA,YAAI,KAAK,QAAQ,SAAS,GAAG;AAQzB,0BAAgB,uBAAuB,IAAI,SAAS,UAAU;AAAA,QAClE;AAEA,eAAO;AAAA,UACH,GAAG;AAAA,UACH,MAAM;AAAA,UACN,QAAQ,IAAI;AAAA,UAGZ,SAAS,KAAK,OAAO,oBAAoB;AAAA,UACzC;AAAA,UACA,MAAM,IAAI;AAAA,UACV,SAAS;AAAA,QACb;AAAA,MACJ;AAAA,IACJ;AACA,IAAAD,SAAQ,UAAU;AAClB,QAAI,OAAO;AAAA;AAAA;;;ACrOX;AAAA,+CAAAE,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,QAAQC,iBAAgB,aAAiB;AAC/C,QAAM,YAAYA,iBAAgB,iBAAoB;AACtD,QAAM,WAAW;AACjB,QAAM,SAAN,MAAa;AAAA,MACT,YAAY,QAAQ;AAChB,aAAK,SAAS;AAAA,MAClB;AAAA,MACA,MAAM,MAAM,SAAS,UAAU,UAAU,CAAC,GAAG;AACzC,cAAM,aAAa,KAAK,WAAW;AACnC,cAAM,OAAO,UAAU,QAAQ,OAAO,YAAY,KAAK,MAAM;AAC7D,eAAO,KAAK,MAAM,SAAS,UAAU,OAAO;AAAA,MAChD;AAAA,MAIA,aAAa;AACT,cAAM,EAAE,SAAS,IAAI,KAAK;AAC1B,YAAI,sBAAsB,UAAU;AAChC,iBAAO,KAAK,OAAO,MAAM;AAAA,QAC7B,WACS,kBAAkB,UAAU;AAEjC,kBAAQ,GAAG,SAAS,kBAAkB,KAAK,OAAO,KAAK;AAAA,QAC3D,OACK;AAED,cAAI,UAAU;AACV,kBAAM,QAAQ,KAAK,kBAAkB,gFAAgF;AAAA,UACzH;AACA,iBAAO,KAAK,OAAO,MAAM;AAAA,QAC7B;AAAA,MACJ;AAAA,IACJ;AACA,IAAAD,SAAQ,UAAU;AAAA;AAAA;;;ACtClB;AAAA,sDAAAE,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,WAAWC,iBAAgB,gBAAmB;AACpD,QAAM,cAAc;AASpB,QAAM,gBAAN,MAAoB;AAAA,MAChB,YAAY,iBAAiB;AACzB,aAAK,kBAAkB;AAAA,MAC3B;AAAA,MAQA,MAAM,MAAM,KAAK,KAAK,SAAS,oBAAoB;AAC/C,kBAAU,WAAW,CAAC;AACtB,cAAM,aAAa,sBAAsB,KAAK,gBAAgB,iBAAiB,GAAG;AAClF,cAAM,eAAe,KAAK,gBAAgB,UAAU,UAAU;AAC9D,YAAI,CAAC,cAAc;AACf,gBAAM,IAAI,MAAM,+BAA+B,aAAa;AAAA,QAChE;AACA,YAAI;AACA,gBAAM,IAAI,SAAS,QAAQ,YAAY,EAAE,MAAM,KAAK,KAAK,OAAO;AAAA,QACpE,SACO,GAAP;AACI,kBAAQ,MAAM,8BAA8B,cAAc,CAAC;AAC3D,iCAAuB,GAAG,GAAG;AAAA,QACjC;AAEA,YAAI,IAAI,eAAe,OAAO,QAAQ,2BAA2B;AAC7D,cAAI,aAAa,YAAY,aAAa,KAAK;AAC/C,cAAI,MAAM;AACV,iBAAO,KAAK,MAAM,KAAK,KAAK,OAAO;AAAA,QACvC;AAAA,MACJ;AAAA,MAKA,uBAAuB,KAAK;AACxB,YAAI,aAAa,eAAe;AAChC,YAAI,aAAa,QAAQ;AAAA,MAC7B;AAAA,IACJ;AACA,IAAAD,SAAQ,UAAU;AAClB,aAAS,uBAAuB,GAAG,KAAK;AACpC,UAAI;AACJ,UAAI,aAAa,OAAO;AACpB,YAAI,UAAU,YAAY,aAAa,qBAAqB,EAAE,OAAO;AAErE,cAAM,KAAK,EAAE,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,UAAU,aAAa;AAC/E,cAAI,aAAa;AACjB,cAAI,gBAAgB;AACpB,cAAI,OAAO;AACX;AAAA,QACJ,OACK;AACD,cAAI,aAAa;AACjB,cAAI,gBAAgB;AACpB,cAAI,OAAO;AACX;AAAA,QACJ;AAAA,MACJ,OACK;AACD,YAAI,UAAU,YAAY,aAAa,qBAAqB,EAAE,SAAS,CAAC;AAAA,MAC5E;AAAA,IACJ;AAAA;AAAA;;;AC9EA;AAAA,8CAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAM5D,aAAS,QAAQ,OAAO;AACpB,UAAI,CAAC,OAAO;AACR,eAAO;AAAA,MACX;AACA,UAAI,OAAO,MAAM,WAAW,UAAU;AAClC,eAAO,CAAC,MAAM;AAAA,MAClB;AACA,UAAI,OAAO,UAAU,YAAY,OAAO,KAAK,KAAK,EAAE,QAAQ;AACxD,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;ACnBlB;AAAA,2DAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,sBAAsB;AAG9B,QAAM,sBAAN,cAAkC,OAAO;AAAA,MACrC,YAAY,SAAS,OAAO,OAAO;AAC/B,cAAM,SAAS,KAAK;AACpB,aAAK,QAAQ;AAAA,MACjB;AAAA,MAIA,KAAK,OAAO;AACR,cAAM,MAAM,MAAM,KAAK,KAAK;AAC5B,eAAO,KAAK,UAAU,OAAO,CAAC,MAAM;AAAA,MACxC;AAAA,IACJ;AACA,IAAAA,SAAQ,sBAAsB;AAAA;AAAA;;;AClB9B;AAAA,0DAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,aAAaA,SAAQ,sBAAsBA,SAAQ,iBAAiBA,SAAQ,kBAAkBA,SAAQ,4CAA4C;AAC1J,QAAM,wBAAwB;AAK9B,QAAM,WAAW,CAAC,MAAM;AAexB,aAAS,0CAA0C,aAAa,YAAY,uBAAuB,UAAU;AACzG,UAAI,SAAS,CAAC;AACd,aAAQ,OAAO,QAAQ,WAAW,EAAE,MAAM,CAAC,CAAC,MAAM,KAAK,MAAM;AACzD,cAAM,QAAQ,WAAW,qBAAqB,IAAI;AAKlD,YAAI,UAAU,MAAM;AAChB,iBAAO,UAAU;AAAA,QACrB,WACS,OAAO,UAAU,UAAU;AAChC,cAAI,OAAO,UAAU,YAAY,eAAe,KAAK,GAAG;AACpD,kBAAM,YAAY,oBAAoB,KAAK;AAC3C,mBAAO,aAAa;AACpB,mBAAO;AAAA,UACX;AACA,kBAAQ,IAAI,OAAO,IAAI,UAAU,GAAG;AAAA,QACxC;AACA,eAAO,WAAW,OAAO,KAAK;AAAA,MAClC,CAAC,KAAK;AAAA,IACV;AACA,IAAAA,SAAQ,4CAA4C;AASpD,aAAS,gBAAgB,QAAQ,UAAU;AACvC,aAAO,OAAO,QAAQ,QAAQ,EAAE,MAAM,CAAC,CAAC,KAAK,aAAa,MAAM;AAC5D,cAAM,cAAc,OAAO;AAC3B,YAAI,CAAC;AACD,iBAAO;AACX,YAAI,yBAAyB,QAAQ;AACjC,iBAAO,WAAW,eAAe,WAAW;AAAA,QAChD,WACS,OAAO,kBAAkB,YAAY,kBAAkB,MAAM;AAClE,iBAAO,gBAAgB,aAAa,aAAa;AAAA,QACrD,OACK;AACD,iBAAO,eAAe;AAAA,QAC1B;AAAA,MACJ,CAAC;AAAA,IACL;AACA,IAAAA,SAAQ,kBAAkB;AAM1B,aAAS,eAAe,OAAO;AAC3B,aAAO,OAAO,UAAU,YAAY,SAAS,KAAK,KAAK;AAAA,IAC3D;AACA,IAAAA,SAAQ,iBAAiB;AAMzB,aAAS,oBAAoB,OAAO;AAChC,aAAO,MAAM,MAAM,CAAC;AAAA,IACxB;AACA,IAAAA,SAAQ,sBAAsB;AAa9B,aAAS,WAAW,QAAQ,OAAO;AAC/B,UAAI,SAAS,MAAM;AACf,eAAO;AAAA,MACX;AACA,UAAI,OAAO,QAAQ;AACf,iBAAS,IAAI,sBAAsB,oBAAoB,QAAQ,OAAO,OAAO,OAAO,KAAK;AAAA,MAC7F;AACA,UAAI,MAAM,QAAQ,KAAK,GAAG;AACtB,eAAO,MAAM,KAAK,OAAK,OAAO,KAAK,CAAC,CAAC;AAAA,MACzC,OACK;AACD,eAAO,OAAO,KAAK,KAAK;AAAA,MAC5B;AAAA,IACJ;AACA,IAAAA,SAAQ,aAAa;AAAA;AAAA;;;ACnHrB;AAAA,uDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,kBAAkB;AACxB,QAAM,mBAAmB;AACzB,QAAM,wBAAwB;AAC9B,QAAM,kBAAN,MAAsB;AAAA,MAClB,YAAY,eAAe;AACvB,aAAK,gBAAgB,CAAC;AACtB,aAAK,oBAAoB,aAAa;AAAA,MAC1C;AAAA,MACA,oBAAoB,eAAe;AAC/B,aAAK,gBAAgB;AAAA,UACjB,MAAM,kBAAkB,QAAQ,kBAAkB,SAAS,SAAS,cAAc;AAAA,UAClF,OAAO,kBAAkB,QAAQ,kBAAkB,SAAS,SAAS,cAAc;AAAA,QACvF;AAAA,MACJ;AAAA,MAKA,QAAQ,SAAS;AACb,YAAI,IAAI;AACR,eAAO;AAAA,UACH,KAAM,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS,EAAE,GAAG,gBAAgB,YAAY,KAAK,cAAc,IAAI,IAClI,gBAAgB,qBAAqB,KAAK,cAAc,MAAM,QAAQ,IAAI,IAC1E,CAAC;AAAA,UACP,KAAM,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,SACjE,gBAAgB,sBAAsB,KAAK,cAAc,OAAO,QAAQ,KAAK,IAC7E,CAAC;AAAA,QACX;AAAA,MACJ;AAAA,MAOA,OAAO,qBAAqB,cAAc,aAAa;AAInD,YAAI,wBAAwB;AACxB,iBAAO;AAAA,YACH,GAAG,aAAa,KAAK,WAAW,KAAK,CAAC;AAAA,UAC1C;AACJ,YAAI,MAAM,QAAQ,YAAY;AAC1B,iBAAO;AACX,cAAM,eAAe,GAAG,iBAAiB,OAAO,aAAa,SAAS,GAAG,EAAE,QAAQ,mBAAmB,CAAC;AACvG,cAAM,SAAS,YAAY,WAAW;AACtC,eAAO,SAAS,OAAO,SAAS;AAAA,MACpC;AAAA,MAOA,OAAO,sBAAsB,eAAe,cAAc;AACtD,YAAI,kBAAkB,CAAC;AACvB,YAAI,OAAO,iBAAiB;AACxB,iBAAO;AACX,mBAAW,oBAAoB,eAAe;AAC1C,gBAAM,qBAAqB,cAAc;AACzC,cAAI,OAAO,uBAAuB,YAAY,EAAE,GAAG,sBAAsB,gBAAgB,kBAAkB;AACvG;AACJ,gBAAM,aAAa,GAAG,sBAAsB,qBAAqB,kBAAkB;AACnF,4BAAkB;AAAA,YACd,GAAG;AAAA,YACH,CAAC,YAAY,aAAa;AAAA,UAC9B;AAAA,QACJ;AACA,eAAO;AAAA,MACX;AAAA,IACJ;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;AC1ElB;AAAA,sCAAAC,UAAAC,SAAA;AAAA;AAGA,IAAAA,QAAO,UAAU,SAAS,aAAa;AACtC,UAAI,OAAO,WAAW,cAAc,OAAO,OAAO,0BAA0B,YAAY;AAAE,eAAO;AAAA,MAAO;AACxG,UAAI,OAAO,OAAO,aAAa,UAAU;AAAE,eAAO;AAAA,MAAM;AAExD,UAAI,MAAM,CAAC;AACX,UAAI,MAAM,OAAO,MAAM;AACvB,UAAI,SAAS,OAAO,GAAG;AACvB,UAAI,OAAO,QAAQ,UAAU;AAAE,eAAO;AAAA,MAAO;AAE7C,UAAI,OAAO,UAAU,SAAS,KAAK,GAAG,MAAM,mBAAmB;AAAE,eAAO;AAAA,MAAO;AAC/E,UAAI,OAAO,UAAU,SAAS,KAAK,MAAM,MAAM,mBAAmB;AAAE,eAAO;AAAA,MAAO;AAUlF,UAAI,SAAS;AACb,UAAI,OAAO;AACX,WAAK,OAAO,KAAK;AAAE,eAAO;AAAA,MAAO;AACjC,UAAI,OAAO,OAAO,SAAS,cAAc,OAAO,KAAK,GAAG,EAAE,WAAW,GAAG;AAAE,eAAO;AAAA,MAAO;AAExF,UAAI,OAAO,OAAO,wBAAwB,cAAc,OAAO,oBAAoB,GAAG,EAAE,WAAW,GAAG;AAAE,eAAO;AAAA,MAAO;AAEtH,UAAI,OAAO,OAAO,sBAAsB,GAAG;AAC3C,UAAI,KAAK,WAAW,KAAK,KAAK,OAAO,KAAK;AAAE,eAAO;AAAA,MAAO;AAE1D,UAAI,CAAC,OAAO,UAAU,qBAAqB,KAAK,KAAK,GAAG,GAAG;AAAE,eAAO;AAAA,MAAO;AAE3E,UAAI,OAAO,OAAO,6BAA6B,YAAY;AAC1D,YAAI,aAAa,OAAO,yBAAyB,KAAK,GAAG;AACzD,YAAI,WAAW,UAAU,UAAU,WAAW,eAAe,MAAM;AAAE,iBAAO;AAAA,QAAO;AAAA,MACpF;AAEA,aAAO;AAAA,IACR;AAAA;AAAA;;;ACzCA;AAAA,sCAAAC,UAAAC,SAAA;AAAA;AAEA,QAAI,aAAa,OAAO,WAAW,eAAe;AAClD,QAAI,gBAAgB;AAEpB,IAAAA,QAAO,UAAU,SAAS,mBAAmB;AAC5C,UAAI,OAAO,eAAe,YAAY;AAAE,eAAO;AAAA,MAAO;AACtD,UAAI,OAAO,WAAW,YAAY;AAAE,eAAO;AAAA,MAAO;AAClD,UAAI,OAAO,WAAW,KAAK,MAAM,UAAU;AAAE,eAAO;AAAA,MAAO;AAC3D,UAAI,OAAO,OAAO,KAAK,MAAM,UAAU;AAAE,eAAO;AAAA,MAAO;AAEvD,aAAO,cAAc;AAAA,IACtB;AAAA;AAAA;;;ACZA;AAAA,oCAAAC,UAAAC,SAAA;AAAA;AAEA,QAAI,OAAO;AAAA,MACV,KAAK,CAAC;AAAA,IACP;AAEA,QAAI,UAAU;AAEd,IAAAA,QAAO,UAAU,SAAS,WAAW;AACpC,aAAO,EAAE,WAAW,KAAK,EAAE,QAAQ,KAAK,OAAO,EAAE,EAAE,WAAW,KAAK,aAAa;AAAA,IACjF;AAAA;AAAA;;;ACVA;AAAA,iDAAAC,UAAAC,SAAA;AAAA;AAIA,QAAI,gBAAgB;AACpB,QAAI,QAAQ,OAAO,UAAU;AAC7B,QAAI,MAAM,KAAK;AACf,QAAI,WAAW;AAEf,QAAI,WAAW,SAASC,UAAS,GAAG,GAAG;AACnC,UAAI,MAAM,CAAC;AAEX,eAAS,IAAI,GAAG,IAAI,EAAE,QAAQ,KAAK,GAAG;AAClC,YAAI,KAAK,EAAE;AAAA,MACf;AACA,eAAS,IAAI,GAAG,IAAI,EAAE,QAAQ,KAAK,GAAG;AAClC,YAAI,IAAI,EAAE,UAAU,EAAE;AAAA,MAC1B;AAEA,aAAO;AAAA,IACX;AAEA,QAAI,QAAQ,SAASC,OAAM,SAAS,QAAQ;AACxC,UAAI,MAAM,CAAC;AACX,eAAS,IAAI,UAAU,GAAG,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK,GAAG,KAAK,GAAG;AACjE,YAAI,KAAK,QAAQ;AAAA,MACrB;AACA,aAAO;AAAA,IACX;AAEA,QAAI,QAAQ,SAAU,KAAK,QAAQ;AAC/B,UAAI,MAAM;AACV,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK,GAAG;AACpC,eAAO,IAAI;AACX,YAAI,IAAI,IAAI,IAAI,QAAQ;AACpB,iBAAO;AAAA,QACX;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAEA,IAAAF,QAAO,UAAU,SAAS,KAAK,MAAM;AACjC,UAAI,SAAS;AACb,UAAI,OAAO,WAAW,cAAc,MAAM,MAAM,MAAM,MAAM,UAAU;AAClE,cAAM,IAAI,UAAU,gBAAgB,MAAM;AAAA,MAC9C;AACA,UAAI,OAAO,MAAM,WAAW,CAAC;AAE7B,UAAI;AACJ,UAAI,SAAS,WAAY;AACrB,YAAI,gBAAgB,OAAO;AACvB,cAAI,SAAS,OAAO;AAAA,YAChB;AAAA,YACA,SAAS,MAAM,SAAS;AAAA,UAC5B;AACA,cAAI,OAAO,MAAM,MAAM,QAAQ;AAC3B,mBAAO;AAAA,UACX;AACA,iBAAO;AAAA,QACX;AACA,eAAO,OAAO;AAAA,UACV;AAAA,UACA,SAAS,MAAM,SAAS;AAAA,QAC5B;AAAA,MAEJ;AAEA,UAAI,cAAc,IAAI,GAAG,OAAO,SAAS,KAAK,MAAM;AACpD,UAAI,YAAY,CAAC;AACjB,eAAS,IAAI,GAAG,IAAI,aAAa,KAAK;AAClC,kBAAU,KAAK,MAAM;AAAA,MACzB;AAEA,cAAQ,SAAS,UAAU,sBAAsB,MAAM,WAAW,GAAG,IAAI,2CAA2C,EAAE,MAAM;AAE5H,UAAI,OAAO,WAAW;AAClB,YAAI,QAAQ,SAASG,SAAQ;AAAA,QAAC;AAC9B,cAAM,YAAY,OAAO;AACzB,cAAM,YAAY,IAAI,MAAM;AAC5B,cAAM,YAAY;AAAA,MACtB;AAEA,aAAO;AAAA,IACX;AAAA;AAAA;;;ACnFA;AAAA,wCAAAC,UAAAC,SAAA;AAAA;AAEA,QAAI,iBAAiB;AAErB,IAAAA,QAAO,UAAU,SAAS,UAAU,QAAQ;AAAA;AAAA;;;ACJ5C;AAAA,kCAAAC,UAAAC,SAAA;AAAA;AAEA,QAAI,iBAAiB,CAAC,EAAE;AACxB,QAAI,OAAO,SAAS,UAAU;AAE9B,IAAAA,QAAO,UAAU,KAAK,OAAO,KAAK,KAAK,cAAc,IAAI,SAAU,GAAG,GAAG;AACvE,aAAO,KAAK,KAAK,gBAAgB,GAAG,CAAC;AAAA,IACvC;AAAA;AAAA;;;ACPA;AAAA,wCAAAC,UAAAC,SAAA;AAAA;AAEA,QAAIC;AAEJ,QAAI,eAAe;AACnB,QAAI,YAAY;AAChB,QAAI,aAAa;AAGjB,QAAI,wBAAwB,SAAU,kBAAkB;AACvD,UAAI;AACH,eAAO,UAAU,2BAA2B,mBAAmB,gBAAgB,EAAE;AAAA,MAClF,SAAS,GAAP;AAAA,MAAW;AAAA,IACd;AAEA,QAAI,QAAQ,OAAO;AACnB,QAAI,OAAO;AACV,UAAI;AACH,cAAM,CAAC,GAAG,EAAE;AAAA,MACb,SAAS,GAAP;AACD,gBAAQ;AAAA,MACT;AAAA,IACD;AAEA,QAAI,iBAAiB,WAAY;AAChC,YAAM,IAAI,WAAW;AAAA,IACtB;AACA,QAAI,iBAAiB,QACjB,WAAY;AACd,UAAI;AAEH,kBAAU;AACV,eAAO;AAAA,MACR,SAAS,cAAP;AACD,YAAI;AAEH,iBAAO,MAAM,WAAW,QAAQ,EAAE;AAAA,QACnC,SAAS,YAAP;AACD,iBAAO;AAAA,QACR;AAAA,MACD;AAAA,IACD,EAAE,IACA;AAEH,QAAI,aAAa,sBAAuB;AACxC,QAAI,WAAW,oBAAqB;AAEpC,QAAI,WAAW,OAAO,mBACrB,WACG,SAAU,GAAG;AAAE,aAAO,EAAE;AAAA,IAAW,IACnC;AAGJ,QAAI,YAAY,CAAC;AAEjB,QAAI,aAAa,OAAO,eAAe,eAAe,CAAC,WAAWA,aAAY,SAAS,UAAU;AAEjG,QAAI,aAAa;AAAA,MAChB,oBAAoB,OAAO,mBAAmB,cAAcA,aAAY;AAAA,MACxE,WAAW;AAAA,MACX,iBAAiB,OAAO,gBAAgB,cAAcA,aAAY;AAAA,MAClE,4BAA4B,cAAc,WAAW,SAAS,CAAC,EAAE,OAAO,UAAU,CAAC,IAAIA;AAAA,MACvF,oCAAoCA;AAAA,MACpC,mBAAmB;AAAA,MACnB,oBAAoB;AAAA,MACpB,4BAA4B;AAAA,MAC5B,4BAA4B;AAAA,MAC5B,aAAa,OAAO,YAAY,cAAcA,aAAY;AAAA,MAC1D,YAAY,OAAO,WAAW,cAAcA,aAAY;AAAA,MACxD,mBAAmB,OAAO,kBAAkB,cAAcA,aAAY;AAAA,MACtE,oBAAoB,OAAO,mBAAmB,cAAcA,aAAY;AAAA,MACxE,aAAa;AAAA,MACb,cAAc,OAAO,aAAa,cAAcA,aAAY;AAAA,MAC5D,UAAU;AAAA,MACV,eAAe;AAAA,MACf,wBAAwB;AAAA,MACxB,eAAe;AAAA,MACf,wBAAwB;AAAA,MACxB,WAAW;AAAA,MACX,UAAU;AAAA,MACV,eAAe;AAAA,MACf,kBAAkB,OAAO,iBAAiB,cAAcA,aAAY;AAAA,MACpE,kBAAkB,OAAO,iBAAiB,cAAcA,aAAY;AAAA,MACpE,0BAA0B,OAAO,yBAAyB,cAAcA,aAAY;AAAA,MACpF,cAAc;AAAA,MACd,uBAAuB;AAAA,MACvB,eAAe,OAAO,cAAc,cAAcA,aAAY;AAAA,MAC9D,gBAAgB,OAAO,eAAe,cAAcA,aAAY;AAAA,MAChE,gBAAgB,OAAO,eAAe,cAAcA,aAAY;AAAA,MAChE,cAAc;AAAA,MACd,WAAW;AAAA,MACX,uBAAuB,cAAc,WAAW,SAAS,SAAS,CAAC,EAAE,OAAO,UAAU,CAAC,CAAC,IAAIA;AAAA,MAC5F,UAAU,OAAO,SAAS,WAAW,OAAOA;AAAA,MAC5C,SAAS,OAAO,QAAQ,cAAcA,aAAY;AAAA,MAClD,0BAA0B,OAAO,QAAQ,eAAe,CAAC,cAAc,CAAC,WAAWA,aAAY,UAAS,oBAAI,IAAI,GAAE,OAAO,UAAU,CAAC;AAAA,MACpI,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,gBAAgB;AAAA,MAChB,cAAc;AAAA,MACd,aAAa,OAAO,YAAY,cAAcA,aAAY;AAAA,MAC1D,WAAW,OAAO,UAAU,cAAcA,aAAY;AAAA,MACtD,gBAAgB;AAAA,MAChB,oBAAoB;AAAA,MACpB,aAAa,OAAO,YAAY,cAAcA,aAAY;AAAA,MAC1D,YAAY;AAAA,MACZ,SAAS,OAAO,QAAQ,cAAcA,aAAY;AAAA,MAClD,0BAA0B,OAAO,QAAQ,eAAe,CAAC,cAAc,CAAC,WAAWA,aAAY,UAAS,oBAAI,IAAI,GAAE,OAAO,UAAU,CAAC;AAAA,MACpI,uBAAuB,OAAO,sBAAsB,cAAcA,aAAY;AAAA,MAC9E,YAAY;AAAA,MACZ,6BAA6B,cAAc,WAAW,SAAS,GAAG,OAAO,UAAU,CAAC,IAAIA;AAAA,MACxF,YAAY,aAAa,SAASA;AAAA,MAClC,iBAAiB;AAAA,MACjB,oBAAoB;AAAA,MACpB,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,gBAAgB,OAAO,eAAe,cAAcA,aAAY;AAAA,MAChE,uBAAuB,OAAO,sBAAsB,cAAcA,aAAY;AAAA,MAC9E,iBAAiB,OAAO,gBAAgB,cAAcA,aAAY;AAAA,MAClE,iBAAiB,OAAO,gBAAgB,cAAcA,aAAY;AAAA,MAClE,cAAc;AAAA,MACd,aAAa,OAAO,YAAY,cAAcA,aAAY;AAAA,MAC1D,aAAa,OAAO,YAAY,cAAcA,aAAY;AAAA,MAC1D,aAAa,OAAO,YAAY,cAAcA,aAAY;AAAA,IAC3D;AAEA,QAAI,UAAU;AACb,UAAI;AACH,aAAK;AAAA,MACN,SAAS,GAAP;AAEG,qBAAa,SAAS,SAAS,CAAC,CAAC;AACrC,mBAAW,uBAAuB;AAAA,MACnC;AAAA,IACD;AAHM;AAKN,QAAI,SAAS,SAASC,QAAO,MAAM;AAClC,UAAI;AACJ,UAAI,SAAS,mBAAmB;AAC/B,gBAAQ,sBAAsB,sBAAsB;AAAA,MACrD,WAAW,SAAS,uBAAuB;AAC1C,gBAAQ,sBAAsB,iBAAiB;AAAA,MAChD,WAAW,SAAS,4BAA4B;AAC/C,gBAAQ,sBAAsB,uBAAuB;AAAA,MACtD,WAAW,SAAS,oBAAoB;AACvC,YAAI,KAAKA,QAAO,0BAA0B;AAC1C,YAAI,IAAI;AACP,kBAAQ,GAAG;AAAA,QACZ;AAAA,MACD,WAAW,SAAS,4BAA4B;AAC/C,YAAI,MAAMA,QAAO,kBAAkB;AACnC,YAAI,OAAO,UAAU;AACpB,kBAAQ,SAAS,IAAI,SAAS;AAAA,QAC/B;AAAA,MACD;AAEA,iBAAW,QAAQ;AAEnB,aAAO;AAAA,IACR;AAEA,QAAI,iBAAiB;AAAA,MACpB,0BAA0B,CAAC,eAAe,WAAW;AAAA,MACrD,oBAAoB,CAAC,SAAS,WAAW;AAAA,MACzC,wBAAwB,CAAC,SAAS,aAAa,SAAS;AAAA,MACxD,wBAAwB,CAAC,SAAS,aAAa,SAAS;AAAA,MACxD,qBAAqB,CAAC,SAAS,aAAa,MAAM;AAAA,MAClD,uBAAuB,CAAC,SAAS,aAAa,QAAQ;AAAA,MACtD,4BAA4B,CAAC,iBAAiB,WAAW;AAAA,MACzD,oBAAoB,CAAC,0BAA0B,WAAW;AAAA,MAC1D,6BAA6B,CAAC,0BAA0B,aAAa,WAAW;AAAA,MAChF,sBAAsB,CAAC,WAAW,WAAW;AAAA,MAC7C,uBAAuB,CAAC,YAAY,WAAW;AAAA,MAC/C,mBAAmB,CAAC,QAAQ,WAAW;AAAA,MACvC,oBAAoB,CAAC,SAAS,WAAW;AAAA,MACzC,wBAAwB,CAAC,aAAa,WAAW;AAAA,MACjD,2BAA2B,CAAC,gBAAgB,WAAW;AAAA,MACvD,2BAA2B,CAAC,gBAAgB,WAAW;AAAA,MACvD,uBAAuB,CAAC,YAAY,WAAW;AAAA,MAC/C,eAAe,CAAC,qBAAqB,WAAW;AAAA,MAChD,wBAAwB,CAAC,qBAAqB,aAAa,WAAW;AAAA,MACtE,wBAAwB,CAAC,aAAa,WAAW;AAAA,MACjD,yBAAyB,CAAC,cAAc,WAAW;AAAA,MACnD,yBAAyB,CAAC,cAAc,WAAW;AAAA,MACnD,eAAe,CAAC,QAAQ,OAAO;AAAA,MAC/B,mBAAmB,CAAC,QAAQ,WAAW;AAAA,MACvC,kBAAkB,CAAC,OAAO,WAAW;AAAA,MACrC,qBAAqB,CAAC,UAAU,WAAW;AAAA,MAC3C,qBAAqB,CAAC,UAAU,WAAW;AAAA,MAC3C,uBAAuB,CAAC,UAAU,aAAa,UAAU;AAAA,MACzD,sBAAsB,CAAC,UAAU,aAAa,SAAS;AAAA,MACvD,sBAAsB,CAAC,WAAW,WAAW;AAAA,MAC7C,uBAAuB,CAAC,WAAW,aAAa,MAAM;AAAA,MACtD,iBAAiB,CAAC,WAAW,KAAK;AAAA,MAClC,oBAAoB,CAAC,WAAW,QAAQ;AAAA,MACxC,qBAAqB,CAAC,WAAW,SAAS;AAAA,MAC1C,yBAAyB,CAAC,cAAc,WAAW;AAAA,MACnD,6BAA6B,CAAC,kBAAkB,WAAW;AAAA,MAC3D,qBAAqB,CAAC,UAAU,WAAW;AAAA,MAC3C,kBAAkB,CAAC,OAAO,WAAW;AAAA,MACrC,gCAAgC,CAAC,qBAAqB,WAAW;AAAA,MACjE,qBAAqB,CAAC,UAAU,WAAW;AAAA,MAC3C,qBAAqB,CAAC,UAAU,WAAW;AAAA,MAC3C,0BAA0B,CAAC,eAAe,WAAW;AAAA,MACrD,yBAAyB,CAAC,cAAc,WAAW;AAAA,MACnD,wBAAwB,CAAC,aAAa,WAAW;AAAA,MACjD,yBAAyB,CAAC,cAAc,WAAW;AAAA,MACnD,gCAAgC,CAAC,qBAAqB,WAAW;AAAA,MACjE,0BAA0B,CAAC,eAAe,WAAW;AAAA,MACrD,0BAA0B,CAAC,eAAe,WAAW;AAAA,MACrD,uBAAuB,CAAC,YAAY,WAAW;AAAA,MAC/C,sBAAsB,CAAC,WAAW,WAAW;AAAA,MAC7C,sBAAsB,CAAC,WAAW,WAAW;AAAA,IAC9C;AAEA,QAAI,OAAO;AACX,QAAI,SAAS;AACb,QAAI,UAAU,KAAK,KAAK,SAAS,MAAM,MAAM,UAAU,MAAM;AAC7D,QAAI,eAAe,KAAK,KAAK,SAAS,OAAO,MAAM,UAAU,MAAM;AACnE,QAAI,WAAW,KAAK,KAAK,SAAS,MAAM,OAAO,UAAU,OAAO;AAChE,QAAI,YAAY,KAAK,KAAK,SAAS,MAAM,OAAO,UAAU,KAAK;AAC/D,QAAI,QAAQ,KAAK,KAAK,SAAS,MAAM,OAAO,UAAU,IAAI;AAG1D,QAAI,aAAa;AACjB,QAAI,eAAe;AACnB,QAAI,eAAe,SAASC,cAAa,QAAQ;AAChD,UAAI,QAAQ,UAAU,QAAQ,GAAG,CAAC;AAClC,UAAI,OAAO,UAAU,QAAQ,EAAE;AAC/B,UAAI,UAAU,OAAO,SAAS,KAAK;AAClC,cAAM,IAAI,aAAa,gDAAgD;AAAA,MACxE,WAAW,SAAS,OAAO,UAAU,KAAK;AACzC,cAAM,IAAI,aAAa,gDAAgD;AAAA,MACxE;AACA,UAAI,SAAS,CAAC;AACd,eAAS,QAAQ,YAAY,SAAU,OAAO,QAAQ,OAAO,WAAW;AACvE,eAAO,OAAO,UAAU,QAAQ,SAAS,WAAW,cAAc,IAAI,IAAI,UAAU;AAAA,MACrF,CAAC;AACD,aAAO;AAAA,IACR;AAGA,QAAI,mBAAmB,SAASC,kBAAiB,MAAM,cAAc;AACpE,UAAI,gBAAgB;AACpB,UAAI;AACJ,UAAI,OAAO,gBAAgB,aAAa,GAAG;AAC1C,gBAAQ,eAAe;AACvB,wBAAgB,MAAM,MAAM,KAAK;AAAA,MAClC;AAEA,UAAI,OAAO,YAAY,aAAa,GAAG;AACtC,YAAI,QAAQ,WAAW;AACvB,YAAI,UAAU,WAAW;AACxB,kBAAQ,OAAO,aAAa;AAAA,QAC7B;AACA,YAAI,OAAO,UAAU,eAAe,CAAC,cAAc;AAClD,gBAAM,IAAI,WAAW,eAAe,OAAO,sDAAsD;AAAA,QAClG;AAEA,eAAO;AAAA,UACN;AAAA,UACA,MAAM;AAAA,UACN;AAAA,QACD;AAAA,MACD;AAEA,YAAM,IAAI,aAAa,eAAe,OAAO,kBAAkB;AAAA,IAChE;AAEA,IAAAJ,QAAO,UAAU,SAAS,aAAa,MAAM,cAAc;AAC1D,UAAI,OAAO,SAAS,YAAY,KAAK,WAAW,GAAG;AAClD,cAAM,IAAI,WAAW,2CAA2C;AAAA,MACjE;AACA,UAAI,UAAU,SAAS,KAAK,OAAO,iBAAiB,WAAW;AAC9D,cAAM,IAAI,WAAW,2CAA2C;AAAA,MACjE;AAEA,UAAI,MAAM,eAAe,IAAI,MAAM,MAAM;AACxC,cAAM,IAAI,aAAa,oFAAoF;AAAA,MAC5G;AACA,UAAI,QAAQ,aAAa,IAAI;AAC7B,UAAI,oBAAoB,MAAM,SAAS,IAAI,MAAM,KAAK;AAEtD,UAAI,YAAY,iBAAiB,MAAM,oBAAoB,KAAK,YAAY;AAC5E,UAAI,oBAAoB,UAAU;AAClC,UAAI,QAAQ,UAAU;AACtB,UAAI,qBAAqB;AAEzB,UAAI,QAAQ,UAAU;AACtB,UAAI,OAAO;AACV,4BAAoB,MAAM;AAC1B,qBAAa,OAAO,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AAAA,MAC3C;AAEA,eAAS,IAAI,GAAG,QAAQ,MAAM,IAAI,MAAM,QAAQ,KAAK,GAAG;AACvD,YAAI,OAAO,MAAM;AACjB,YAAI,QAAQ,UAAU,MAAM,GAAG,CAAC;AAChC,YAAI,OAAO,UAAU,MAAM,EAAE;AAC7B,aAEG,UAAU,OAAO,UAAU,OAAO,UAAU,QACzC,SAAS,OAAO,SAAS,OAAO,SAAS,SAE3C,UAAU,MACZ;AACD,gBAAM,IAAI,aAAa,sDAAsD;AAAA,QAC9E;AACA,YAAI,SAAS,iBAAiB,CAAC,OAAO;AACrC,+BAAqB;AAAA,QACtB;AAEA,6BAAqB,MAAM;AAC3B,4BAAoB,MAAM,oBAAoB;AAE9C,YAAI,OAAO,YAAY,iBAAiB,GAAG;AAC1C,kBAAQ,WAAW;AAAA,QACpB,WAAW,SAAS,MAAM;AACzB,cAAI,EAAE,QAAQ,QAAQ;AACrB,gBAAI,CAAC,cAAc;AAClB,oBAAM,IAAI,WAAW,wBAAwB,OAAO,6CAA6C;AAAA,YAClG;AACA,mBAAO;AAAA,UACR;AACA,cAAI,SAAU,IAAI,KAAM,MAAM,QAAQ;AACrC,gBAAI,OAAO,MAAM,OAAO,IAAI;AAC5B,oBAAQ,CAAC,CAAC;AASV,gBAAI,SAAS,SAAS,QAAQ,EAAE,mBAAmB,KAAK,MAAM;AAC7D,sBAAQ,KAAK;AAAA,YACd,OAAO;AACN,sBAAQ,MAAM;AAAA,YACf;AAAA,UACD,OAAO;AACN,oBAAQ,OAAO,OAAO,IAAI;AAC1B,oBAAQ,MAAM;AAAA,UACf;AAEA,cAAI,SAAS,CAAC,oBAAoB;AACjC,uBAAW,qBAAqB;AAAA,UACjC;AAAA,QACD;AAAA,MACD;AACA,aAAO;AAAA,IACR;AAAA;AAAA;;;AC9VA;AAAA,oCAAAK,UAAAC,SAAA;AAAA;AAEA,QAAI,OAAO;AACX,QAAI,eAAe;AAEnB,QAAI,SAAS,aAAa,4BAA4B;AACtD,QAAI,QAAQ,aAAa,2BAA2B;AACpD,QAAI,gBAAgB,aAAa,mBAAmB,IAAI,KAAK,KAAK,KAAK,OAAO,MAAM;AAEpF,QAAI,QAAQ,aAAa,qCAAqC,IAAI;AAClE,QAAI,kBAAkB,aAAa,2BAA2B,IAAI;AAClE,QAAI,OAAO,aAAa,YAAY;AAEpC,QAAI,iBAAiB;AACpB,UAAI;AACH,wBAAgB,CAAC,GAAG,KAAK,EAAE,OAAO,EAAE,CAAC;AAAA,MACtC,SAAS,GAAP;AAED,0BAAkB;AAAA,MACnB;AAAA,IACD;AAEA,IAAAA,QAAO,UAAU,SAAS,SAAS,kBAAkB;AACpD,UAAI,OAAO,cAAc,MAAM,OAAO,SAAS;AAC/C,UAAI,SAAS,iBAAiB;AAC7B,YAAI,OAAO,MAAM,MAAM,QAAQ;AAC/B,YAAI,KAAK,cAAc;AAEtB;AAAA,YACC;AAAA,YACA;AAAA,YACA,EAAE,OAAO,IAAI,KAAK,GAAG,iBAAiB,UAAU,UAAU,SAAS,EAAE,EAAE;AAAA,UACxE;AAAA,QACD;AAAA,MACD;AACA,aAAO;AAAA,IACR;AAEA,QAAI,YAAY,SAASC,aAAY;AACpC,aAAO,cAAc,MAAM,QAAQ,SAAS;AAAA,IAC7C;AAEA,QAAI,iBAAiB;AACpB,sBAAgBD,QAAO,SAAS,SAAS,EAAE,OAAO,UAAU,CAAC;AAAA,IAC9D,OAAO;AACN,MAAAA,QAAO,QAAQ,QAAQ;AAAA,IACxB;AAAA;AAAA;;;AC9CA;AAAA,wCAAAE,UAAAC,SAAA;AAAA;AAEA,QAAI,eAAe;AAEnB,QAAI,WAAW;AAEf,QAAI,WAAW,SAAS,aAAa,0BAA0B,CAAC;AAEhE,IAAAA,QAAO,UAAU,SAAS,mBAAmB,MAAM,cAAc;AAChE,UAAI,YAAY,aAAa,MAAM,CAAC,CAAC,YAAY;AACjD,UAAI,OAAO,cAAc,cAAc,SAAS,MAAM,aAAa,IAAI,IAAI;AAC1E,eAAO,SAAS,SAAS;AAAA,MAC1B;AACA,aAAO;AAAA,IACR;AAAA;AAAA;;;ACdA;AAAA,gDAAAC,UAAAC,SAAA;AAAA,IAAAA,QAAO,UAAU,QAAQ,QAAQ;AAAA;AAAA;;;ACAjC;AAAA,yCAAAC,UAAAC,SAAA;AAAA,QAAI,SAAS,OAAO,QAAQ,cAAc,IAAI;AAC9C,QAAI,oBAAoB,OAAO,4BAA4B,SAAS,OAAO,yBAAyB,IAAI,WAAW,MAAM,IAAI;AAC7H,QAAI,UAAU,UAAU,qBAAqB,OAAO,kBAAkB,QAAQ,aAAa,kBAAkB,MAAM;AACnH,QAAI,aAAa,UAAU,IAAI,UAAU;AACzC,QAAI,SAAS,OAAO,QAAQ,cAAc,IAAI;AAC9C,QAAI,oBAAoB,OAAO,4BAA4B,SAAS,OAAO,yBAAyB,IAAI,WAAW,MAAM,IAAI;AAC7H,QAAI,UAAU,UAAU,qBAAqB,OAAO,kBAAkB,QAAQ,aAAa,kBAAkB,MAAM;AACnH,QAAI,aAAa,UAAU,IAAI,UAAU;AACzC,QAAI,aAAa,OAAO,YAAY,cAAc,QAAQ;AAC1D,QAAI,aAAa,aAAa,QAAQ,UAAU,MAAM;AACtD,QAAI,aAAa,OAAO,YAAY,cAAc,QAAQ;AAC1D,QAAI,aAAa,aAAa,QAAQ,UAAU,MAAM;AACtD,QAAI,aAAa,OAAO,YAAY,cAAc,QAAQ;AAC1D,QAAI,eAAe,aAAa,QAAQ,UAAU,QAAQ;AAC1D,QAAI,iBAAiB,QAAQ,UAAU;AACvC,QAAI,iBAAiB,OAAO,UAAU;AACtC,QAAI,mBAAmB,SAAS,UAAU;AAC1C,QAAI,SAAS,OAAO,UAAU;AAC9B,QAAI,SAAS,OAAO,UAAU;AAC9B,QAAI,WAAW,OAAO,UAAU;AAChC,QAAI,eAAe,OAAO,UAAU;AACpC,QAAI,eAAe,OAAO,UAAU;AACpC,QAAI,QAAQ,OAAO,UAAU;AAC7B,QAAI,UAAU,MAAM,UAAU;AAC9B,QAAI,QAAQ,MAAM,UAAU;AAC5B,QAAI,YAAY,MAAM,UAAU;AAChC,QAAI,SAAS,KAAK;AAClB,QAAI,gBAAgB,OAAO,WAAW,aAAa,OAAO,UAAU,UAAU;AAC9E,QAAI,OAAO,OAAO;AAClB,QAAI,cAAc,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,WAAW,OAAO,UAAU,WAAW;AACpH,QAAI,oBAAoB,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa;AAEnF,QAAI,cAAc,OAAO,WAAW,cAAc,OAAO,gBAAgB,OAAO,OAAO,gBAAgB,oBAAoB,WAAW,YAChI,OAAO,cACP;AACN,QAAI,eAAe,OAAO,UAAU;AAEpC,QAAI,OAAO,OAAO,YAAY,aAAa,QAAQ,iBAAiB,OAAO,oBACvE,CAAC,EAAE,cAAc,MAAM,YACjB,SAAU,GAAG;AACX,aAAO,EAAE;AAAA,IACb,IACE;AAGV,aAAS,oBAAoB,KAAK,KAAK;AACnC,UACI,QAAQ,YACL,QAAQ,aACR,QAAQ,OACP,OAAO,MAAM,QAAS,MAAM,OAC7B,MAAM,KAAK,KAAK,GAAG,GACxB;AACE,eAAO;AAAA,MACX;AACA,UAAI,WAAW;AACf,UAAI,OAAO,QAAQ,UAAU;AACzB,YAAI,MAAM,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,OAAO,GAAG;AAC9C,YAAI,QAAQ,KAAK;AACb,cAAI,SAAS,OAAO,GAAG;AACvB,cAAI,MAAM,OAAO,KAAK,KAAK,OAAO,SAAS,CAAC;AAC5C,iBAAO,SAAS,KAAK,QAAQ,UAAU,KAAK,IAAI,MAAM,SAAS,KAAK,SAAS,KAAK,KAAK,eAAe,KAAK,GAAG,MAAM,EAAE;AAAA,QAC1H;AAAA,MACJ;AACA,aAAO,SAAS,KAAK,KAAK,UAAU,KAAK;AAAA,IAC7C;AAEA,QAAI,cAAc;AAClB,QAAI,gBAAgB,YAAY;AAChC,QAAI,gBAAgB,SAAS,aAAa,IAAI,gBAAgB;AAE9D,IAAAA,QAAO,UAAU,SAAS,SAAS,KAAK,SAAS,OAAO,MAAM;AAC1D,UAAI,OAAO,WAAW,CAAC;AAEvB,UAAI,IAAI,MAAM,YAAY,MAAM,KAAK,eAAe,YAAY,KAAK,eAAe,WAAW;AAC3F,cAAM,IAAI,UAAU,kDAAkD;AAAA,MAC1E;AACA,UACI,IAAI,MAAM,iBAAiB,MAAM,OAAO,KAAK,oBAAoB,WAC3D,KAAK,kBAAkB,KAAK,KAAK,oBAAoB,WACrD,KAAK,oBAAoB,OAEjC;AACE,cAAM,IAAI,UAAU,wFAAwF;AAAA,MAChH;AACA,UAAI,gBAAgB,IAAI,MAAM,eAAe,IAAI,KAAK,gBAAgB;AACtE,UAAI,OAAO,kBAAkB,aAAa,kBAAkB,UAAU;AAClE,cAAM,IAAI,UAAU,+EAA+E;AAAA,MACvG;AAEA,UACI,IAAI,MAAM,QAAQ,KACf,KAAK,WAAW,QAChB,KAAK,WAAW,OAChB,EAAE,SAAS,KAAK,QAAQ,EAAE,MAAM,KAAK,UAAU,KAAK,SAAS,IAClE;AACE,cAAM,IAAI,UAAU,0DAA0D;AAAA,MAClF;AACA,UAAI,IAAI,MAAM,kBAAkB,KAAK,OAAO,KAAK,qBAAqB,WAAW;AAC7E,cAAM,IAAI,UAAU,mEAAmE;AAAA,MAC3F;AACA,UAAI,mBAAmB,KAAK;AAE5B,UAAI,OAAO,QAAQ,aAAa;AAC5B,eAAO;AAAA,MACX;AACA,UAAI,QAAQ,MAAM;AACd,eAAO;AAAA,MACX;AACA,UAAI,OAAO,QAAQ,WAAW;AAC1B,eAAO,MAAM,SAAS;AAAA,MAC1B;AAEA,UAAI,OAAO,QAAQ,UAAU;AACzB,eAAO,cAAc,KAAK,IAAI;AAAA,MAClC;AACA,UAAI,OAAO,QAAQ,UAAU;AACzB,YAAI,QAAQ,GAAG;AACX,iBAAO,WAAW,MAAM,IAAI,MAAM;AAAA,QACtC;AACA,YAAI,MAAM,OAAO,GAAG;AACpB,eAAO,mBAAmB,oBAAoB,KAAK,GAAG,IAAI;AAAA,MAC9D;AACA,UAAI,OAAO,QAAQ,UAAU;AACzB,YAAI,YAAY,OAAO,GAAG,IAAI;AAC9B,eAAO,mBAAmB,oBAAoB,KAAK,SAAS,IAAI;AAAA,MACpE;AAEA,UAAI,WAAW,OAAO,KAAK,UAAU,cAAc,IAAI,KAAK;AAC5D,UAAI,OAAO,UAAU,aAAa;AAAE,gBAAQ;AAAA,MAAG;AAC/C,UAAI,SAAS,YAAY,WAAW,KAAK,OAAO,QAAQ,UAAU;AAC9D,eAAO,QAAQ,GAAG,IAAI,YAAY;AAAA,MACtC;AAEA,UAAI,SAAS,UAAU,MAAM,KAAK;AAElC,UAAI,OAAO,SAAS,aAAa;AAC7B,eAAO,CAAC;AAAA,MACZ,WAAW,QAAQ,MAAM,GAAG,KAAK,GAAG;AAChC,eAAO;AAAA,MACX;AAEA,eAAS,QAAQ,OAAO,MAAM,UAAU;AACpC,YAAI,MAAM;AACN,iBAAO,UAAU,KAAK,IAAI;AAC1B,eAAK,KAAK,IAAI;AAAA,QAClB;AACA,YAAI,UAAU;AACV,cAAI,UAAU;AAAA,YACV,OAAO,KAAK;AAAA,UAChB;AACA,cAAI,IAAI,MAAM,YAAY,GAAG;AACzB,oBAAQ,aAAa,KAAK;AAAA,UAC9B;AACA,iBAAO,SAAS,OAAO,SAAS,QAAQ,GAAG,IAAI;AAAA,QACnD;AACA,eAAO,SAAS,OAAO,MAAM,QAAQ,GAAG,IAAI;AAAA,MAChD;AAEA,UAAI,OAAO,QAAQ,cAAc,CAAC,SAAS,GAAG,GAAG;AAC7C,YAAI,OAAO,OAAO,GAAG;AACrB,YAAI,OAAO,WAAW,KAAK,OAAO;AAClC,eAAO,eAAe,OAAO,OAAO,OAAO,kBAAkB,OAAO,KAAK,SAAS,IAAI,QAAQ,MAAM,KAAK,MAAM,IAAI,IAAI,OAAO;AAAA,MAClI;AACA,UAAI,SAAS,GAAG,GAAG;AACf,YAAI,YAAY,oBAAoB,SAAS,KAAK,OAAO,GAAG,GAAG,0BAA0B,IAAI,IAAI,YAAY,KAAK,GAAG;AACrH,eAAO,OAAO,QAAQ,YAAY,CAAC,oBAAoB,UAAU,SAAS,IAAI;AAAA,MAClF;AACA,UAAI,UAAU,GAAG,GAAG;AAChB,YAAI,IAAI,MAAM,aAAa,KAAK,OAAO,IAAI,QAAQ,CAAC;AACpD,YAAI,QAAQ,IAAI,cAAc,CAAC;AAC/B,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACnC,eAAK,MAAM,MAAM,GAAG,OAAO,MAAM,WAAW,MAAM,MAAM,GAAG,KAAK,GAAG,UAAU,IAAI;AAAA,QACrF;AACA,aAAK;AACL,YAAI,IAAI,cAAc,IAAI,WAAW,QAAQ;AAAE,eAAK;AAAA,QAAO;AAC3D,aAAK,OAAO,aAAa,KAAK,OAAO,IAAI,QAAQ,CAAC,IAAI;AACtD,eAAO;AAAA,MACX;AACA,UAAI,QAAQ,GAAG,GAAG;AACd,YAAI,IAAI,WAAW,GAAG;AAAE,iBAAO;AAAA,QAAM;AACrC,YAAI,KAAK,WAAW,KAAK,OAAO;AAChC,YAAI,UAAU,CAAC,iBAAiB,EAAE,GAAG;AACjC,iBAAO,MAAM,aAAa,IAAI,MAAM,IAAI;AAAA,QAC5C;AACA,eAAO,OAAO,MAAM,KAAK,IAAI,IAAI,IAAI;AAAA,MACzC;AACA,UAAI,QAAQ,GAAG,GAAG;AACd,YAAI,QAAQ,WAAW,KAAK,OAAO;AACnC,YAAI,EAAE,WAAW,MAAM,cAAc,WAAW,OAAO,CAAC,aAAa,KAAK,KAAK,OAAO,GAAG;AACrF,iBAAO,QAAQ,OAAO,GAAG,IAAI,OAAO,MAAM,KAAK,QAAQ,KAAK,cAAc,QAAQ,IAAI,KAAK,GAAG,KAAK,GAAG,IAAI,IAAI;AAAA,QAClH;AACA,YAAI,MAAM,WAAW,GAAG;AAAE,iBAAO,MAAM,OAAO,GAAG,IAAI;AAAA,QAAK;AAC1D,eAAO,QAAQ,OAAO,GAAG,IAAI,OAAO,MAAM,KAAK,OAAO,IAAI,IAAI;AAAA,MAClE;AACA,UAAI,OAAO,QAAQ,YAAY,eAAe;AAC1C,YAAI,iBAAiB,OAAO,IAAI,mBAAmB,cAAc,aAAa;AAC1E,iBAAO,YAAY,KAAK,EAAE,OAAO,WAAW,MAAM,CAAC;AAAA,QACvD,WAAW,kBAAkB,YAAY,OAAO,IAAI,YAAY,YAAY;AACxE,iBAAO,IAAI,QAAQ;AAAA,QACvB;AAAA,MACJ;AACA,UAAI,MAAM,GAAG,GAAG;AACZ,YAAI,WAAW,CAAC;AAChB,YAAI,YAAY;AACZ,qBAAW,KAAK,KAAK,SAAU,OAAO,KAAK;AACvC,qBAAS,KAAK,QAAQ,KAAK,KAAK,IAAI,IAAI,SAAS,QAAQ,OAAO,GAAG,CAAC;AAAA,UACxE,CAAC;AAAA,QACL;AACA,eAAO,aAAa,OAAO,QAAQ,KAAK,GAAG,GAAG,UAAU,MAAM;AAAA,MAClE;AACA,UAAI,MAAM,GAAG,GAAG;AACZ,YAAI,WAAW,CAAC;AAChB,YAAI,YAAY;AACZ,qBAAW,KAAK,KAAK,SAAU,OAAO;AAClC,qBAAS,KAAK,QAAQ,OAAO,GAAG,CAAC;AAAA,UACrC,CAAC;AAAA,QACL;AACA,eAAO,aAAa,OAAO,QAAQ,KAAK,GAAG,GAAG,UAAU,MAAM;AAAA,MAClE;AACA,UAAI,UAAU,GAAG,GAAG;AAChB,eAAO,iBAAiB,SAAS;AAAA,MACrC;AACA,UAAI,UAAU,GAAG,GAAG;AAChB,eAAO,iBAAiB,SAAS;AAAA,MACrC;AACA,UAAI,UAAU,GAAG,GAAG;AAChB,eAAO,iBAAiB,SAAS;AAAA,MACrC;AACA,UAAI,SAAS,GAAG,GAAG;AACf,eAAO,UAAU,QAAQ,OAAO,GAAG,CAAC,CAAC;AAAA,MACzC;AACA,UAAI,SAAS,GAAG,GAAG;AACf,eAAO,UAAU,QAAQ,cAAc,KAAK,GAAG,CAAC,CAAC;AAAA,MACrD;AACA,UAAI,UAAU,GAAG,GAAG;AAChB,eAAO,UAAU,eAAe,KAAK,GAAG,CAAC;AAAA,MAC7C;AACA,UAAI,SAAS,GAAG,GAAG;AACf,eAAO,UAAU,QAAQ,OAAO,GAAG,CAAC,CAAC;AAAA,MACzC;AACA,UAAI,QAAQ,QAAQ;AAEhB,YAAI,OAAO,WAAW,aAAa;AAC/B,iBAAO;AAAA,QACX;AACA,eAAO;AAAA,MACX;AACA,UAAI,CAAC,OAAO,GAAG,KAAK,CAAC,SAAS,GAAG,GAAG;AAChC,YAAI,KAAK,WAAW,KAAK,OAAO;AAChC,YAAI,gBAAgB,MAAM,IAAI,GAAG,MAAM,OAAO,YAAY,eAAe,UAAU,IAAI,gBAAgB;AACvG,YAAI,WAAW,eAAe,SAAS,KAAK;AAC5C,YAAI,YAAY,CAAC,iBAAiB,eAAe,OAAO,GAAG,MAAM,OAAO,eAAe,MAAM,OAAO,KAAK,MAAM,GAAG,GAAG,GAAG,EAAE,IAAI,WAAW,WAAW;AACpJ,YAAI,iBAAiB,iBAAiB,OAAO,IAAI,gBAAgB,aAAa,KAAK,IAAI,YAAY,OAAO,IAAI,YAAY,OAAO,MAAM;AACvI,YAAI,MAAM,kBAAkB,aAAa,WAAW,MAAM,MAAM,KAAK,QAAQ,KAAK,CAAC,GAAG,aAAa,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,IAAI,IAAI,OAAO;AACvI,YAAI,GAAG,WAAW,GAAG;AAAE,iBAAO,MAAM;AAAA,QAAM;AAC1C,YAAI,QAAQ;AACR,iBAAO,MAAM,MAAM,aAAa,IAAI,MAAM,IAAI;AAAA,QAClD;AACA,eAAO,MAAM,OAAO,MAAM,KAAK,IAAI,IAAI,IAAI;AAAA,MAC/C;AACA,aAAO,OAAO,GAAG;AAAA,IACrB;AAEA,aAAS,WAAW,GAAG,cAAc,MAAM;AACvC,UAAI,aAAa,KAAK,cAAc,kBAAkB,WAAW,MAAM;AACvE,aAAO,YAAY,IAAI;AAAA,IAC3B;AAEA,aAAS,MAAM,GAAG;AACd,aAAO,SAAS,KAAK,OAAO,CAAC,GAAG,MAAM,QAAQ;AAAA,IAClD;AAEA,aAAS,QAAQ,KAAK;AAAE,aAAO,MAAM,GAAG,MAAM,qBAAqB,CAAC,eAAe,EAAE,OAAO,QAAQ,YAAY,eAAe;AAAA,IAAO;AACtI,aAAS,OAAO,KAAK;AAAE,aAAO,MAAM,GAAG,MAAM,oBAAoB,CAAC,eAAe,EAAE,OAAO,QAAQ,YAAY,eAAe;AAAA,IAAO;AACpI,aAAS,SAAS,KAAK;AAAE,aAAO,MAAM,GAAG,MAAM,sBAAsB,CAAC,eAAe,EAAE,OAAO,QAAQ,YAAY,eAAe;AAAA,IAAO;AACxI,aAAS,QAAQ,KAAK;AAAE,aAAO,MAAM,GAAG,MAAM,qBAAqB,CAAC,eAAe,EAAE,OAAO,QAAQ,YAAY,eAAe;AAAA,IAAO;AACtI,aAAS,SAAS,KAAK;AAAE,aAAO,MAAM,GAAG,MAAM,sBAAsB,CAAC,eAAe,EAAE,OAAO,QAAQ,YAAY,eAAe;AAAA,IAAO;AACxI,aAAS,SAAS,KAAK;AAAE,aAAO,MAAM,GAAG,MAAM,sBAAsB,CAAC,eAAe,EAAE,OAAO,QAAQ,YAAY,eAAe;AAAA,IAAO;AACxI,aAAS,UAAU,KAAK;AAAE,aAAO,MAAM,GAAG,MAAM,uBAAuB,CAAC,eAAe,EAAE,OAAO,QAAQ,YAAY,eAAe;AAAA,IAAO;AAG1I,aAAS,SAAS,KAAK;AACnB,UAAI,mBAAmB;AACnB,eAAO,OAAO,OAAO,QAAQ,YAAY,eAAe;AAAA,MAC5D;AACA,UAAI,OAAO,QAAQ,UAAU;AACzB,eAAO;AAAA,MACX;AACA,UAAI,CAAC,OAAO,OAAO,QAAQ,YAAY,CAAC,aAAa;AACjD,eAAO;AAAA,MACX;AACA,UAAI;AACA,oBAAY,KAAK,GAAG;AACpB,eAAO;AAAA,MACX,SAAS,GAAP;AAAA,MAAW;AACb,aAAO;AAAA,IACX;AAEA,aAAS,SAAS,KAAK;AACnB,UAAI,CAAC,OAAO,OAAO,QAAQ,YAAY,CAAC,eAAe;AACnD,eAAO;AAAA,MACX;AACA,UAAI;AACA,sBAAc,KAAK,GAAG;AACtB,eAAO;AAAA,MACX,SAAS,GAAP;AAAA,MAAW;AACb,aAAO;AAAA,IACX;AAEA,QAAI,SAAS,OAAO,UAAU,kBAAkB,SAAU,KAAK;AAAE,aAAO,OAAO;AAAA,IAAM;AACrF,aAAS,IAAI,KAAK,KAAK;AACnB,aAAO,OAAO,KAAK,KAAK,GAAG;AAAA,IAC/B;AAEA,aAAS,MAAM,KAAK;AAChB,aAAO,eAAe,KAAK,GAAG;AAAA,IAClC;AAEA,aAAS,OAAO,GAAG;AACf,UAAI,EAAE,MAAM;AAAE,eAAO,EAAE;AAAA,MAAM;AAC7B,UAAI,IAAI,OAAO,KAAK,iBAAiB,KAAK,CAAC,GAAG,sBAAsB;AACpE,UAAI,GAAG;AAAE,eAAO,EAAE;AAAA,MAAI;AACtB,aAAO;AAAA,IACX;AAEA,aAAS,QAAQ,IAAI,GAAG;AACpB,UAAI,GAAG,SAAS;AAAE,eAAO,GAAG,QAAQ,CAAC;AAAA,MAAG;AACxC,eAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,IAAI,GAAG,KAAK;AACvC,YAAI,GAAG,OAAO,GAAG;AAAE,iBAAO;AAAA,QAAG;AAAA,MACjC;AACA,aAAO;AAAA,IACX;AAEA,aAAS,MAAM,GAAG;AACd,UAAI,CAAC,WAAW,CAAC,KAAK,OAAO,MAAM,UAAU;AACzC,eAAO;AAAA,MACX;AACA,UAAI;AACA,gBAAQ,KAAK,CAAC;AACd,YAAI;AACA,kBAAQ,KAAK,CAAC;AAAA,QAClB,SAAS,GAAP;AACE,iBAAO;AAAA,QACX;AACA,eAAO,aAAa;AAAA,MACxB,SAAS,GAAP;AAAA,MAAW;AACb,aAAO;AAAA,IACX;AAEA,aAAS,UAAU,GAAG;AAClB,UAAI,CAAC,cAAc,CAAC,KAAK,OAAO,MAAM,UAAU;AAC5C,eAAO;AAAA,MACX;AACA,UAAI;AACA,mBAAW,KAAK,GAAG,UAAU;AAC7B,YAAI;AACA,qBAAW,KAAK,GAAG,UAAU;AAAA,QACjC,SAAS,GAAP;AACE,iBAAO;AAAA,QACX;AACA,eAAO,aAAa;AAAA,MACxB,SAAS,GAAP;AAAA,MAAW;AACb,aAAO;AAAA,IACX;AAEA,aAAS,UAAU,GAAG;AAClB,UAAI,CAAC,gBAAgB,CAAC,KAAK,OAAO,MAAM,UAAU;AAC9C,eAAO;AAAA,MACX;AACA,UAAI;AACA,qBAAa,KAAK,CAAC;AACnB,eAAO;AAAA,MACX,SAAS,GAAP;AAAA,MAAW;AACb,aAAO;AAAA,IACX;AAEA,aAAS,MAAM,GAAG;AACd,UAAI,CAAC,WAAW,CAAC,KAAK,OAAO,MAAM,UAAU;AACzC,eAAO;AAAA,MACX;AACA,UAAI;AACA,gBAAQ,KAAK,CAAC;AACd,YAAI;AACA,kBAAQ,KAAK,CAAC;AAAA,QAClB,SAAS,GAAP;AACE,iBAAO;AAAA,QACX;AACA,eAAO,aAAa;AAAA,MACxB,SAAS,GAAP;AAAA,MAAW;AACb,aAAO;AAAA,IACX;AAEA,aAAS,UAAU,GAAG;AAClB,UAAI,CAAC,cAAc,CAAC,KAAK,OAAO,MAAM,UAAU;AAC5C,eAAO;AAAA,MACX;AACA,UAAI;AACA,mBAAW,KAAK,GAAG,UAAU;AAC7B,YAAI;AACA,qBAAW,KAAK,GAAG,UAAU;AAAA,QACjC,SAAS,GAAP;AACE,iBAAO;AAAA,QACX;AACA,eAAO,aAAa;AAAA,MACxB,SAAS,GAAP;AAAA,MAAW;AACb,aAAO;AAAA,IACX;AAEA,aAAS,UAAU,GAAG;AAClB,UAAI,CAAC,KAAK,OAAO,MAAM,UAAU;AAAE,eAAO;AAAA,MAAO;AACjD,UAAI,OAAO,gBAAgB,eAAe,aAAa,aAAa;AAChE,eAAO;AAAA,MACX;AACA,aAAO,OAAO,EAAE,aAAa,YAAY,OAAO,EAAE,iBAAiB;AAAA,IACvE;AAEA,aAAS,cAAc,KAAK,MAAM;AAC9B,UAAI,IAAI,SAAS,KAAK,iBAAiB;AACnC,YAAI,YAAY,IAAI,SAAS,KAAK;AAClC,YAAI,UAAU,SAAS,YAAY,qBAAqB,YAAY,IAAI,MAAM;AAC9E,eAAO,cAAc,OAAO,KAAK,KAAK,GAAG,KAAK,eAAe,GAAG,IAAI,IAAI;AAAA,MAC5E;AAEA,UAAI,IAAI,SAAS,KAAK,SAAS,KAAK,KAAK,YAAY,MAAM,GAAG,gBAAgB,OAAO;AACrF,aAAO,WAAW,GAAG,UAAU,IAAI;AAAA,IACvC;AAEA,aAAS,QAAQ,GAAG;AAChB,UAAI,IAAI,EAAE,WAAW,CAAC;AACtB,UAAI,IAAI;AAAA,QACJ,GAAG;AAAA,QACH,GAAG;AAAA,QACH,IAAI;AAAA,QACJ,IAAI;AAAA,QACJ,IAAI;AAAA,MACR,EAAE;AACF,UAAI,GAAG;AAAE,eAAO,OAAO;AAAA,MAAG;AAC1B,aAAO,SAAS,IAAI,KAAO,MAAM,MAAM,aAAa,KAAK,EAAE,SAAS,EAAE,CAAC;AAAA,IAC3E;AAEA,aAAS,UAAU,KAAK;AACpB,aAAO,YAAY,MAAM;AAAA,IAC7B;AAEA,aAAS,iBAAiB,MAAM;AAC5B,aAAO,OAAO;AAAA,IAClB;AAEA,aAAS,aAAa,MAAM,MAAM,SAAS,QAAQ;AAC/C,UAAI,gBAAgB,SAAS,aAAa,SAAS,MAAM,IAAI,MAAM,KAAK,SAAS,IAAI;AACrF,aAAO,OAAO,OAAO,OAAO,QAAQ,gBAAgB;AAAA,IACxD;AAEA,aAAS,iBAAiB,IAAI;AAC1B,eAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,KAAK;AAChC,YAAI,QAAQ,GAAG,IAAI,IAAI,KAAK,GAAG;AAC3B,iBAAO;AAAA,QACX;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAEA,aAAS,UAAU,MAAM,OAAO;AAC5B,UAAI;AACJ,UAAI,KAAK,WAAW,KAAM;AACtB,qBAAa;AAAA,MACjB,WAAW,OAAO,KAAK,WAAW,YAAY,KAAK,SAAS,GAAG;AAC3D,qBAAa,MAAM,KAAK,MAAM,KAAK,SAAS,CAAC,GAAG,GAAG;AAAA,MACvD,OAAO;AACH,eAAO;AAAA,MACX;AACA,aAAO;AAAA,QACH,MAAM;AAAA,QACN,MAAM,MAAM,KAAK,MAAM,QAAQ,CAAC,GAAG,UAAU;AAAA,MACjD;AAAA,IACJ;AAEA,aAAS,aAAa,IAAI,QAAQ;AAC9B,UAAI,GAAG,WAAW,GAAG;AAAE,eAAO;AAAA,MAAI;AAClC,UAAI,aAAa,OAAO,OAAO,OAAO,OAAO;AAC7C,aAAO,aAAa,MAAM,KAAK,IAAI,MAAM,UAAU,IAAI,OAAO,OAAO;AAAA,IACzE;AAEA,aAAS,WAAW,KAAK,SAAS;AAC9B,UAAI,QAAQ,QAAQ,GAAG;AACvB,UAAI,KAAK,CAAC;AACV,UAAI,OAAO;AACP,WAAG,SAAS,IAAI;AAChB,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACjC,aAAG,KAAK,IAAI,KAAK,CAAC,IAAI,QAAQ,IAAI,IAAI,GAAG,IAAI;AAAA,QACjD;AAAA,MACJ;AACA,UAAI,OAAO,OAAO,SAAS,aAAa,KAAK,GAAG,IAAI,CAAC;AACrD,UAAI;AACJ,UAAI,mBAAmB;AACnB,iBAAS,CAAC;AACV,iBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,iBAAO,MAAM,KAAK,MAAM,KAAK;AAAA,QACjC;AAAA,MACJ;AAEA,eAAS,OAAO,KAAK;AACjB,YAAI,CAAC,IAAI,KAAK,GAAG,GAAG;AAAE;AAAA,QAAU;AAChC,YAAI,SAAS,OAAO,OAAO,GAAG,CAAC,MAAM,OAAO,MAAM,IAAI,QAAQ;AAAE;AAAA,QAAU;AAC1E,YAAI,qBAAqB,OAAO,MAAM,gBAAgB,QAAQ;AAE1D;AAAA,QACJ,WAAW,MAAM,KAAK,UAAU,GAAG,GAAG;AAClC,aAAG,KAAK,QAAQ,KAAK,GAAG,IAAI,OAAO,QAAQ,IAAI,MAAM,GAAG,CAAC;AAAA,QAC7D,OAAO;AACH,aAAG,KAAK,MAAM,OAAO,QAAQ,IAAI,MAAM,GAAG,CAAC;AAAA,QAC/C;AAAA,MACJ;AACA,UAAI,OAAO,SAAS,YAAY;AAC5B,iBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,cAAI,aAAa,KAAK,KAAK,KAAK,EAAE,GAAG;AACjC,eAAG,KAAK,MAAM,QAAQ,KAAK,EAAE,IAAI,QAAQ,QAAQ,IAAI,KAAK,KAAK,GAAG,CAAC;AAAA,UACvE;AAAA,QACJ;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA;AAAA;;;AC1gBA;AAAA,uCAAAC,UAAAC,SAAA;AAAA;AAEA,QAAI,eAAe;AACnB,QAAI,YAAY;AAChB,QAAI,UAAU;AAEd,QAAI,aAAa,aAAa,aAAa;AAC3C,QAAI,WAAW,aAAa,aAAa,IAAI;AAC7C,QAAI,OAAO,aAAa,SAAS,IAAI;AAErC,QAAI,cAAc,UAAU,yBAAyB,IAAI;AACzD,QAAI,cAAc,UAAU,yBAAyB,IAAI;AACzD,QAAI,cAAc,UAAU,yBAAyB,IAAI;AACzD,QAAI,UAAU,UAAU,qBAAqB,IAAI;AACjD,QAAI,UAAU,UAAU,qBAAqB,IAAI;AACjD,QAAI,UAAU,UAAU,qBAAqB,IAAI;AAUjD,QAAI,cAAc,SAAU,MAAM,KAAK;AACtC,eAAS,OAAO,MAAM,OAAO,OAAO,KAAK,UAAU,MAAM,OAAO,MAAM;AACrE,YAAI,KAAK,QAAQ,KAAK;AACrB,eAAK,OAAO,KAAK;AACjB,eAAK,OAAO,KAAK;AACjB,eAAK,OAAO;AACZ,iBAAO;AAAA,QACR;AAAA,MACD;AAAA,IACD;AAEA,QAAI,UAAU,SAAU,SAAS,KAAK;AACrC,UAAI,OAAO,YAAY,SAAS,GAAG;AACnC,aAAO,QAAQ,KAAK;AAAA,IACrB;AACA,QAAI,UAAU,SAAU,SAAS,KAAK,OAAO;AAC5C,UAAI,OAAO,YAAY,SAAS,GAAG;AACnC,UAAI,MAAM;AACT,aAAK,QAAQ;AAAA,MACd,OAAO;AAEN,gBAAQ,OAAO;AAAA,UACd;AAAA,UACA,MAAM,QAAQ;AAAA,UACd;AAAA,QACD;AAAA,MACD;AAAA,IACD;AACA,QAAI,UAAU,SAAU,SAAS,KAAK;AACrC,aAAO,CAAC,CAAC,YAAY,SAAS,GAAG;AAAA,IAClC;AAEA,IAAAA,QAAO,UAAU,SAAS,iBAAiB;AAC1C,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI,UAAU;AAAA,QACb,QAAQ,SAAU,KAAK;AACtB,cAAI,CAAC,QAAQ,IAAI,GAAG,GAAG;AACtB,kBAAM,IAAI,WAAW,mCAAmC,QAAQ,GAAG,CAAC;AAAA,UACrE;AAAA,QACD;AAAA,QACA,KAAK,SAAU,KAAK;AACnB,cAAI,YAAY,QAAQ,OAAO,QAAQ,YAAY,OAAO,QAAQ,aAAa;AAC9E,gBAAI,KAAK;AACR,qBAAO,YAAY,KAAK,GAAG;AAAA,YAC5B;AAAA,UACD,WAAW,MAAM;AAChB,gBAAI,IAAI;AACP,qBAAO,QAAQ,IAAI,GAAG;AAAA,YACvB;AAAA,UACD,OAAO;AACN,gBAAI,IAAI;AACP,qBAAO,QAAQ,IAAI,GAAG;AAAA,YACvB;AAAA,UACD;AAAA,QACD;AAAA,QACA,KAAK,SAAU,KAAK;AACnB,cAAI,YAAY,QAAQ,OAAO,QAAQ,YAAY,OAAO,QAAQ,aAAa;AAC9E,gBAAI,KAAK;AACR,qBAAO,YAAY,KAAK,GAAG;AAAA,YAC5B;AAAA,UACD,WAAW,MAAM;AAChB,gBAAI,IAAI;AACP,qBAAO,QAAQ,IAAI,GAAG;AAAA,YACvB;AAAA,UACD,OAAO;AACN,gBAAI,IAAI;AACP,qBAAO,QAAQ,IAAI,GAAG;AAAA,YACvB;AAAA,UACD;AACA,iBAAO;AAAA,QACR;AAAA,QACA,KAAK,SAAU,KAAK,OAAO;AAC1B,cAAI,YAAY,QAAQ,OAAO,QAAQ,YAAY,OAAO,QAAQ,aAAa;AAC9E,gBAAI,CAAC,KAAK;AACT,oBAAM,IAAI,SAAS;AAAA,YACpB;AACA,wBAAY,KAAK,KAAK,KAAK;AAAA,UAC5B,WAAW,MAAM;AAChB,gBAAI,CAAC,IAAI;AACR,mBAAK,IAAI,KAAK;AAAA,YACf;AACA,oBAAQ,IAAI,KAAK,KAAK;AAAA,UACvB,OAAO;AACN,gBAAI,CAAC,IAAI;AAMR,mBAAK,EAAE,KAAK,CAAC,GAAG,MAAM,KAAK;AAAA,YAC5B;AACA,oBAAQ,IAAI,KAAK,KAAK;AAAA,UACvB;AAAA,QACD;AAAA,MACD;AACA,aAAO;AAAA,IACR;AAAA;AAAA;;;AC3HA;AAAA,mCAAAC,UAAAC,SAAA;AAAA;AAEA,QAAI,UAAU,OAAO,UAAU;AAC/B,QAAI,kBAAkB;AAEtB,QAAI,SAAS;AAAA,MACT,SAAS;AAAA,MACT,SAAS;AAAA,IACb;AAEA,IAAAA,QAAO,UAAU;AAAA,MACb,WAAW,OAAO;AAAA,MAClB,YAAY;AAAA,QACR,SAAS,SAAU,OAAO;AACtB,iBAAO,QAAQ,KAAK,OAAO,iBAAiB,GAAG;AAAA,QACnD;AAAA,QACA,SAAS,SAAU,OAAO;AACtB,iBAAO,OAAO,KAAK;AAAA,QACvB;AAAA,MACJ;AAAA,MACA,SAAS,OAAO;AAAA,MAChB,SAAS,OAAO;AAAA,IACpB;AAAA;AAAA;;;ACtBA,IAAAC,iBAAA;AAAA,iCAAAC,UAAAC,SAAA;AAAA;AAEA,QAAI,UAAU;AAEd,QAAI,MAAM,OAAO,UAAU;AAC3B,QAAI,UAAU,MAAM;AAEpB,QAAI,WAAY,WAAY;AACxB,UAAI,QAAQ,CAAC;AACb,eAAS,IAAI,GAAG,IAAI,KAAK,EAAE,GAAG;AAC1B,cAAM,KAAK,QAAQ,IAAI,KAAK,MAAM,MAAM,EAAE,SAAS,EAAE,GAAG,YAAY,CAAC;AAAA,MACzE;AAEA,aAAO;AAAA,IACX,EAAE;AAEF,QAAI,eAAe,SAASC,cAAa,OAAO;AAC5C,aAAO,MAAM,SAAS,GAAG;AACrB,YAAI,OAAO,MAAM,IAAI;AACrB,YAAI,MAAM,KAAK,IAAI,KAAK;AAExB,YAAI,QAAQ,GAAG,GAAG;AACd,cAAI,YAAY,CAAC;AAEjB,mBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,EAAE,GAAG;AACjC,gBAAI,OAAO,IAAI,OAAO,aAAa;AAC/B,wBAAU,KAAK,IAAI,EAAE;AAAA,YACzB;AAAA,UACJ;AAEA,eAAK,IAAI,KAAK,QAAQ;AAAA,QAC1B;AAAA,MACJ;AAAA,IACJ;AAEA,QAAI,gBAAgB,SAASC,eAAc,QAAQ,SAAS;AACxD,UAAI,MAAM,WAAW,QAAQ,eAAe,uBAAO,OAAO,IAAI,IAAI,CAAC;AACnE,eAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,EAAE,GAAG;AACpC,YAAI,OAAO,OAAO,OAAO,aAAa;AAClC,cAAI,KAAK,OAAO;AAAA,QACpB;AAAA,MACJ;AAEA,aAAO;AAAA,IACX;AAEA,QAAI,QAAQ,SAASC,OAAM,QAAQ,QAAQ,SAAS;AAEhD,UAAI,CAAC,QAAQ;AACT,eAAO;AAAA,MACX;AAEA,UAAI,OAAO,WAAW,UAAU;AAC5B,YAAI,QAAQ,MAAM,GAAG;AACjB,iBAAO,KAAK,MAAM;AAAA,QACtB,WAAW,UAAU,OAAO,WAAW,UAAU;AAC7C,cAAK,YAAY,QAAQ,gBAAgB,QAAQ,oBAAqB,CAAC,IAAI,KAAK,OAAO,WAAW,MAAM,GAAG;AACvG,mBAAO,UAAU;AAAA,UACrB;AAAA,QACJ,OAAO;AACH,iBAAO,CAAC,QAAQ,MAAM;AAAA,QAC1B;AAEA,eAAO;AAAA,MACX;AAEA,UAAI,CAAC,UAAU,OAAO,WAAW,UAAU;AACvC,eAAO,CAAC,MAAM,EAAE,OAAO,MAAM;AAAA,MACjC;AAEA,UAAI,cAAc;AAClB,UAAI,QAAQ,MAAM,KAAK,CAAC,QAAQ,MAAM,GAAG;AACrC,sBAAc,cAAc,QAAQ,OAAO;AAAA,MAC/C;AAEA,UAAI,QAAQ,MAAM,KAAK,QAAQ,MAAM,GAAG;AACpC,eAAO,QAAQ,SAAU,MAAM,GAAG;AAC9B,cAAI,IAAI,KAAK,QAAQ,CAAC,GAAG;AACrB,gBAAI,aAAa,OAAO;AACxB,gBAAI,cAAc,OAAO,eAAe,YAAY,QAAQ,OAAO,SAAS,UAAU;AAClF,qBAAO,KAAKA,OAAM,YAAY,MAAM,OAAO;AAAA,YAC/C,OAAO;AACH,qBAAO,KAAK,IAAI;AAAA,YACpB;AAAA,UACJ,OAAO;AACH,mBAAO,KAAK;AAAA,UAChB;AAAA,QACJ,CAAC;AACD,eAAO;AAAA,MACX;AAEA,aAAO,OAAO,KAAK,MAAM,EAAE,OAAO,SAAU,KAAK,KAAK;AAClD,YAAI,QAAQ,OAAO;AAEnB,YAAI,IAAI,KAAK,KAAK,GAAG,GAAG;AACpB,cAAI,OAAOA,OAAM,IAAI,MAAM,OAAO,OAAO;AAAA,QAC7C,OAAO;AACH,cAAI,OAAO;AAAA,QACf;AACA,eAAO;AAAA,MACX,GAAG,WAAW;AAAA,IAClB;AAEA,QAAI,SAAS,SAAS,mBAAmB,QAAQ,QAAQ;AACrD,aAAO,OAAO,KAAK,MAAM,EAAE,OAAO,SAAU,KAAK,KAAK;AAClD,YAAI,OAAO,OAAO;AAClB,eAAO;AAAA,MACX,GAAG,MAAM;AAAA,IACb;AAEA,QAAI,SAAS,SAAU,KAAK,SAAS,SAAS;AAC1C,UAAI,iBAAiB,IAAI,QAAQ,OAAO,GAAG;AAC3C,UAAI,YAAY,cAAc;AAE1B,eAAO,eAAe,QAAQ,kBAAkB,QAAQ;AAAA,MAC5D;AAEA,UAAI;AACA,eAAO,mBAAmB,cAAc;AAAA,MAC5C,SAAS,GAAP;AACE,eAAO;AAAA,MACX;AAAA,IACJ;AAEA,QAAI,SAAS,SAASC,QAAO,KAAK,gBAAgB,SAAS,MAAM,QAAQ;AAGrE,UAAI,IAAI,WAAW,GAAG;AAClB,eAAO;AAAA,MACX;AAEA,UAAI,SAAS;AACb,UAAI,OAAO,QAAQ,UAAU;AACzB,iBAAS,OAAO,UAAU,SAAS,KAAK,GAAG;AAAA,MAC/C,WAAW,OAAO,QAAQ,UAAU;AAChC,iBAAS,OAAO,GAAG;AAAA,MACvB;AAEA,UAAI,YAAY,cAAc;AAC1B,eAAO,OAAO,MAAM,EAAE,QAAQ,mBAAmB,SAAU,IAAI;AAC3D,iBAAO,WAAW,SAAS,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI;AAAA,QAClD,CAAC;AAAA,MACL;AAEA,UAAI,MAAM;AACV,eAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,EAAE,GAAG;AACpC,YAAI,IAAI,OAAO,WAAW,CAAC;AAE3B,YACI,MAAM,MACH,MAAM,MACN,MAAM,MACN,MAAM,OACL,KAAK,MAAQ,KAAK,MAClB,KAAK,MAAQ,KAAK,MAClB,KAAK,MAAQ,KAAK,OAClB,WAAW,QAAQ,YAAY,MAAM,MAAQ,MAAM,KACzD;AACE,iBAAO,OAAO,OAAO,CAAC;AACtB;AAAA,QACJ;AAEA,YAAI,IAAI,KAAM;AACV,gBAAM,MAAM,SAAS;AACrB;AAAA,QACJ;AAEA,YAAI,IAAI,MAAO;AACX,gBAAM,OAAO,SAAS,MAAQ,KAAK,KAAM,SAAS,MAAQ,IAAI;AAC9D;AAAA,QACJ;AAEA,YAAI,IAAI,SAAU,KAAK,OAAQ;AAC3B,gBAAM,OAAO,SAAS,MAAQ,KAAK,MAAO,SAAS,MAAS,KAAK,IAAK,MAAS,SAAS,MAAQ,IAAI;AACpG;AAAA,QACJ;AAEA,aAAK;AACL,YAAI,UAAa,IAAI,SAAU,KAAO,OAAO,WAAW,CAAC,IAAI;AAE7D,eAAO,SAAS,MAAQ,KAAK,MACvB,SAAS,MAAS,KAAK,KAAM,MAC7B,SAAS,MAAS,KAAK,IAAK,MAC5B,SAAS,MAAQ,IAAI;AAAA,MAC/B;AAEA,aAAO;AAAA,IACX;AAEA,QAAI,UAAU,SAASC,SAAQ,OAAO;AAClC,UAAI,QAAQ,CAAC,EAAE,KAAK,EAAE,GAAG,MAAM,GAAG,MAAM,IAAI,CAAC;AAC7C,UAAI,OAAO,CAAC;AAEZ,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,EAAE,GAAG;AACnC,YAAI,OAAO,MAAM;AACjB,YAAI,MAAM,KAAK,IAAI,KAAK;AAExB,YAAI,OAAO,OAAO,KAAK,GAAG;AAC1B,iBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,EAAE,GAAG;AAClC,cAAI,MAAM,KAAK;AACf,cAAI,MAAM,IAAI;AACd,cAAI,OAAO,QAAQ,YAAY,QAAQ,QAAQ,KAAK,QAAQ,GAAG,MAAM,IAAI;AACrE,kBAAM,KAAK,EAAE,KAAU,MAAM,IAAI,CAAC;AAClC,iBAAK,KAAK,GAAG;AAAA,UACjB;AAAA,QACJ;AAAA,MACJ;AAEA,mBAAa,KAAK;AAElB,aAAO;AAAA,IACX;AAEA,QAAI,WAAW,SAASC,UAAS,KAAK;AAClC,aAAO,OAAO,UAAU,SAAS,KAAK,GAAG,MAAM;AAAA,IACnD;AAEA,QAAI,WAAW,SAASC,UAAS,KAAK;AAClC,UAAI,CAAC,OAAO,OAAO,QAAQ,UAAU;AACjC,eAAO;AAAA,MACX;AAEA,aAAO,CAAC,EAAE,IAAI,eAAe,IAAI,YAAY,YAAY,IAAI,YAAY,SAAS,GAAG;AAAA,IACzF;AAEA,QAAI,UAAU,SAASC,SAAQ,GAAG,GAAG;AACjC,aAAO,CAAC,EAAE,OAAO,GAAG,CAAC;AAAA,IACzB;AAEA,QAAI,WAAW,SAASC,UAAS,KAAK,IAAI;AACtC,UAAI,QAAQ,GAAG,GAAG;AACd,YAAI,SAAS,CAAC;AACd,iBAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK,GAAG;AACpC,iBAAO,KAAK,GAAG,IAAI,EAAE,CAAC;AAAA,QAC1B;AACA,eAAO;AAAA,MACX;AACA,aAAO,GAAG,GAAG;AAAA,IACjB;AAEA,IAAAT,QAAO,UAAU;AAAA,MACb;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAAA;AAAA;;;AC3PA;AAAA,qCAAAU,UAAAC,SAAA;AAAA;AAEA,QAAI,iBAAiB;AACrB,QAAI,QAAQ;AACZ,QAAI,UAAU;AACd,QAAI,MAAM,OAAO,UAAU;AAE3B,QAAI,wBAAwB;AAAA,MACxB,UAAU,SAAS,SAAS,QAAQ;AAChC,eAAO,SAAS;AAAA,MACpB;AAAA,MACA,OAAO;AAAA,MACP,SAAS,SAAS,QAAQ,QAAQ,KAAK;AACnC,eAAO,SAAS,MAAM,MAAM;AAAA,MAChC;AAAA,MACA,QAAQ,SAAS,OAAO,QAAQ;AAC5B,eAAO;AAAA,MACX;AAAA,IACJ;AAEA,QAAI,UAAU,MAAM;AACpB,QAAI,OAAO,MAAM,UAAU;AAC3B,QAAI,cAAc,SAAU,KAAK,cAAc;AAC3C,WAAK,MAAM,KAAK,QAAQ,YAAY,IAAI,eAAe,CAAC,YAAY,CAAC;AAAA,IACzE;AAEA,QAAI,QAAQ,KAAK,UAAU;AAE3B,QAAI,gBAAgB,QAAQ;AAC5B,QAAI,WAAW;AAAA,MACX,gBAAgB;AAAA,MAChB,WAAW;AAAA,MACX,SAAS;AAAA,MACT,iBAAiB;AAAA,MACjB,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,SAAS,MAAM;AAAA,MACf,kBAAkB;AAAA,MAClB,QAAQ;AAAA,MACR,WAAW,QAAQ,WAAW;AAAA,MAE9B,SAAS;AAAA,MACT,eAAe,SAAS,cAAc,MAAM;AACxC,eAAO,MAAM,KAAK,IAAI;AAAA,MAC1B;AAAA,MACA,WAAW;AAAA,MACX,oBAAoB;AAAA,IACxB;AAEA,QAAI,wBAAwB,SAASC,uBAAsB,GAAG;AAC1D,aAAO,OAAO,MAAM,YACb,OAAO,MAAM,YACb,OAAO,MAAM,aACb,OAAO,MAAM,YACb,OAAO,MAAM;AAAA,IACxB;AAEA,QAAI,WAAW,CAAC;AAEhB,QAAI,YAAY,SAASC,WACrB,QACA,QACA,qBACA,gBACA,oBACA,WACA,SACA,QACA,MACA,WACA,eACA,QACA,WACA,kBACA,SACA,aACF;AACE,UAAI,MAAM;AAEV,UAAI,QAAQ;AACZ,UAAI,OAAO;AACX,UAAI,WAAW;AACf,cAAQ,QAAQ,MAAM,IAAI,QAAQ,OAAO,UAAkB,CAAC,UAAU;AAElE,YAAI,MAAM,MAAM,IAAI,MAAM;AAC1B,gBAAQ;AACR,YAAI,OAAO,QAAQ,aAAa;AAC5B,cAAI,QAAQ,MAAM;AACd,kBAAM,IAAI,WAAW,qBAAqB;AAAA,UAC9C,OAAO;AACH,uBAAW;AAAA,UACf;AAAA,QACJ;AACA,YAAI,OAAO,MAAM,IAAI,QAAQ,MAAM,aAAa;AAC5C,iBAAO;AAAA,QACX;AAAA,MACJ;AAEA,UAAI,OAAO,WAAW,YAAY;AAC9B,cAAM,OAAO,QAAQ,GAAG;AAAA,MAC5B,WAAW,eAAe,MAAM;AAC5B,cAAM,cAAc,GAAG;AAAA,MAC3B,WAAW,wBAAwB,WAAW,QAAQ,GAAG,GAAG;AACxD,cAAM,MAAM,SAAS,KAAK,SAAUC,QAAO;AACvC,cAAIA,kBAAiB,MAAM;AACvB,mBAAO,cAAcA,MAAK;AAAA,UAC9B;AACA,iBAAOA;AAAA,QACX,CAAC;AAAA,MACL;AAEA,UAAI,QAAQ,MAAM;AACd,YAAI,oBAAoB;AACpB,iBAAO,WAAW,CAAC,mBAAmB,QAAQ,QAAQ,SAAS,SAAS,SAAS,OAAO,MAAM,IAAI;AAAA,QACtG;AAEA,cAAM;AAAA,MACV;AAEA,UAAI,sBAAsB,GAAG,KAAK,MAAM,SAAS,GAAG,GAAG;AACnD,YAAI,SAAS;AACT,cAAI,WAAW,mBAAmB,SAAS,QAAQ,QAAQ,SAAS,SAAS,SAAS,OAAO,MAAM;AACnG,iBAAO,CAAC,UAAU,QAAQ,IAAI,MAAM,UAAU,QAAQ,KAAK,SAAS,SAAS,SAAS,SAAS,MAAM,CAAC,CAAC;AAAA,QAC3G;AACA,eAAO,CAAC,UAAU,MAAM,IAAI,MAAM,UAAU,OAAO,GAAG,CAAC,CAAC;AAAA,MAC5D;AAEA,UAAI,SAAS,CAAC;AAEd,UAAI,OAAO,QAAQ,aAAa;AAC5B,eAAO;AAAA,MACX;AAEA,UAAI;AACJ,UAAI,wBAAwB,WAAW,QAAQ,GAAG,GAAG;AAEjD,YAAI,oBAAoB,SAAS;AAC7B,gBAAM,MAAM,SAAS,KAAK,OAAO;AAAA,QACrC;AACA,kBAAU,CAAC,EAAE,OAAO,IAAI,SAAS,IAAI,IAAI,KAAK,GAAG,KAAK,OAAO,OAAe,CAAC;AAAA,MACjF,WAAW,QAAQ,MAAM,GAAG;AACxB,kBAAU;AAAA,MACd,OAAO;AACH,YAAI,OAAO,OAAO,KAAK,GAAG;AAC1B,kBAAU,OAAO,KAAK,KAAK,IAAI,IAAI;AAAA,MACvC;AAEA,UAAI,iBAAiB,kBAAkB,QAAQ,GAAG,KAAK,IAAI,WAAW,IAAI,SAAS,OAAO;AAE1F,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,EAAE,GAAG;AACrC,YAAI,MAAM,QAAQ;AAClB,YAAI,QAAQ,OAAO,QAAQ,YAAY,OAAO,IAAI,UAAU,cAAc,IAAI,QAAQ,IAAI;AAE1F,YAAI,aAAa,UAAU,MAAM;AAC7B;AAAA,QACJ;AAEA,YAAI,YAAY,QAAQ,GAAG,IACrB,OAAO,wBAAwB,aAAa,oBAAoB,gBAAgB,GAAG,IAAI,iBACvF,kBAAkB,YAAY,MAAM,MAAM,MAAM,MAAM;AAE5D,oBAAY,IAAI,QAAQ,IAAI;AAC5B,YAAI,mBAAmB,eAAe;AACtC,yBAAiB,IAAI,UAAU,WAAW;AAC1C,oBAAY,QAAQD;AAAA,UAChB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA,wBAAwB,WAAW,oBAAoB,QAAQ,GAAG,IAAI,OAAO;AAAA,UAC7E;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACJ,CAAC;AAAA,MACL;AAEA,aAAO;AAAA,IACX;AAEA,QAAI,4BAA4B,SAASE,2BAA0B,MAAM;AACrE,UAAI,CAAC,MAAM;AACP,eAAO;AAAA,MACX;AAEA,UAAI,KAAK,YAAY,QAAQ,OAAO,KAAK,YAAY,eAAe,OAAO,KAAK,YAAY,YAAY;AACpG,cAAM,IAAI,UAAU,+BAA+B;AAAA,MACvD;AAEA,UAAI,UAAU,KAAK,WAAW,SAAS;AACvC,UAAI,OAAO,KAAK,YAAY,eAAe,KAAK,YAAY,WAAW,KAAK,YAAY,cAAc;AAClG,cAAM,IAAI,UAAU,mEAAmE;AAAA,MAC3F;AAEA,UAAI,SAAS,QAAQ;AACrB,UAAI,OAAO,KAAK,WAAW,aAAa;AACpC,YAAI,CAAC,IAAI,KAAK,QAAQ,YAAY,KAAK,MAAM,GAAG;AAC5C,gBAAM,IAAI,UAAU,iCAAiC;AAAA,QACzD;AACA,iBAAS,KAAK;AAAA,MAClB;AACA,UAAI,YAAY,QAAQ,WAAW;AAEnC,UAAI,SAAS,SAAS;AACtB,UAAI,OAAO,KAAK,WAAW,cAAc,QAAQ,KAAK,MAAM,GAAG;AAC3D,iBAAS,KAAK;AAAA,MAClB;AAEA,aAAO;AAAA,QACH,gBAAgB,OAAO,KAAK,mBAAmB,YAAY,KAAK,iBAAiB,SAAS;AAAA,QAC1F,WAAW,OAAO,KAAK,cAAc,cAAc,SAAS,YAAY,CAAC,CAAC,KAAK;AAAA,QAC/E;AAAA,QACA,iBAAiB,OAAO,KAAK,oBAAoB,YAAY,KAAK,kBAAkB,SAAS;AAAA,QAC7F,WAAW,OAAO,KAAK,cAAc,cAAc,SAAS,YAAY,KAAK;AAAA,QAC7E,QAAQ,OAAO,KAAK,WAAW,YAAY,KAAK,SAAS,SAAS;AAAA,QAClE,SAAS,OAAO,KAAK,YAAY,aAAa,KAAK,UAAU,SAAS;AAAA,QACtE,kBAAkB,OAAO,KAAK,qBAAqB,YAAY,KAAK,mBAAmB,SAAS;AAAA,QAChG;AAAA,QACA;AAAA,QACA;AAAA,QACA,eAAe,OAAO,KAAK,kBAAkB,aAAa,KAAK,gBAAgB,SAAS;AAAA,QACxF,WAAW,OAAO,KAAK,cAAc,YAAY,KAAK,YAAY,SAAS;AAAA,QAC3E,MAAM,OAAO,KAAK,SAAS,aAAa,KAAK,OAAO;AAAA,QACpD,oBAAoB,OAAO,KAAK,uBAAuB,YAAY,KAAK,qBAAqB,SAAS;AAAA,MAC1G;AAAA,IACJ;AAEA,IAAAJ,QAAO,UAAU,SAAU,QAAQ,MAAM;AACrC,UAAI,MAAM;AACV,UAAI,UAAU,0BAA0B,IAAI;AAE5C,UAAI;AACJ,UAAI;AAEJ,UAAI,OAAO,QAAQ,WAAW,YAAY;AACtC,iBAAS,QAAQ;AACjB,cAAM,OAAO,IAAI,GAAG;AAAA,MACxB,WAAW,QAAQ,QAAQ,MAAM,GAAG;AAChC,iBAAS,QAAQ;AACjB,kBAAU;AAAA,MACd;AAEA,UAAI,OAAO,CAAC;AAEZ,UAAI,OAAO,QAAQ,YAAY,QAAQ,MAAM;AACzC,eAAO;AAAA,MACX;AAEA,UAAI;AACJ,UAAI,QAAQ,KAAK,eAAe,uBAAuB;AACnD,sBAAc,KAAK;AAAA,MACvB,WAAW,QAAQ,aAAa,MAAM;AAClC,sBAAc,KAAK,UAAU,YAAY;AAAA,MAC7C,OAAO;AACH,sBAAc;AAAA,MAClB;AAEA,UAAI,sBAAsB,sBAAsB;AAChD,UAAI,QAAQ,oBAAoB,QAAQ,OAAO,KAAK,mBAAmB,WAAW;AAC9E,cAAM,IAAI,UAAU,+CAA+C;AAAA,MACvE;AACA,UAAI,iBAAiB,wBAAwB,WAAW,QAAQ,KAAK;AAErE,UAAI,CAAC,SAAS;AACV,kBAAU,OAAO,KAAK,GAAG;AAAA,MAC7B;AAEA,UAAI,QAAQ,MAAM;AACd,gBAAQ,KAAK,QAAQ,IAAI;AAAA,MAC7B;AAEA,UAAI,cAAc,eAAe;AACjC,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,EAAE,GAAG;AACrC,YAAI,MAAM,QAAQ;AAElB,YAAI,QAAQ,aAAa,IAAI,SAAS,MAAM;AACxC;AAAA,QACJ;AACA,oBAAY,MAAM;AAAA,UACd,IAAI;AAAA,UACJ;AAAA,UACA;AAAA,UACA;AAAA,UACA,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ,SAAS,QAAQ,UAAU;AAAA,UACnC,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR;AAAA,QACJ,CAAC;AAAA,MACL;AAEA,UAAI,SAAS,KAAK,KAAK,QAAQ,SAAS;AACxC,UAAI,SAAS,QAAQ,mBAAmB,OAAO,MAAM;AAErD,UAAI,QAAQ,iBAAiB;AACzB,YAAI,QAAQ,YAAY,cAAc;AAElC,oBAAU;AAAA,QACd,OAAO;AAEH,oBAAU;AAAA,QACd;AAAA,MACJ;AAEA,aAAO,OAAO,SAAS,IAAI,SAAS,SAAS;AAAA,IACjD;AAAA;AAAA;;;AC/TA;AAAA,iCAAAK,UAAAC,SAAA;AAAA;AAEA,QAAI,QAAQ;AAEZ,QAAI,MAAM,OAAO,UAAU;AAC3B,QAAI,UAAU,MAAM;AAEpB,QAAI,WAAW;AAAA,MACX,WAAW;AAAA,MACX,iBAAiB;AAAA,MACjB,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,SAAS;AAAA,MACT,iBAAiB;AAAA,MACjB,OAAO;AAAA,MACP,SAAS,MAAM;AAAA,MACf,WAAW;AAAA,MACX,OAAO;AAAA,MACP,mBAAmB;AAAA,MACnB,0BAA0B;AAAA,MAC1B,gBAAgB;AAAA,MAChB,aAAa;AAAA,MACb,cAAc;AAAA,MACd,oBAAoB;AAAA,IACxB;AAEA,QAAI,2BAA2B,SAAU,KAAK;AAC1C,aAAO,IAAI,QAAQ,aAAa,SAAU,IAAI,WAAW;AACrD,eAAO,OAAO,aAAa,SAAS,WAAW,EAAE,CAAC;AAAA,MACtD,CAAC;AAAA,IACL;AAEA,QAAI,kBAAkB,SAAU,KAAK,SAAS;AAC1C,UAAI,OAAO,OAAO,QAAQ,YAAY,QAAQ,SAAS,IAAI,QAAQ,GAAG,IAAI,IAAI;AAC1E,eAAO,IAAI,MAAM,GAAG;AAAA,MACxB;AAEA,aAAO;AAAA,IACX;AAOA,QAAI,cAAc;AAGlB,QAAI,kBAAkB;AAEtB,QAAI,cAAc,SAAS,uBAAuB,KAAK,SAAS;AAC5D,UAAI,MAAM,EAAE,WAAW,KAAK;AAE5B,UAAI,WAAW,QAAQ,oBAAoB,IAAI,QAAQ,OAAO,EAAE,IAAI;AACpE,UAAI,QAAQ,QAAQ,mBAAmB,WAAW,SAAY,QAAQ;AACtE,UAAI,QAAQ,SAAS,MAAM,QAAQ,WAAW,KAAK;AACnD,UAAI,YAAY;AAChB,UAAI;AAEJ,UAAI,UAAU,QAAQ;AACtB,UAAI,QAAQ,iBAAiB;AACzB,aAAK,IAAI,GAAG,IAAI,MAAM,QAAQ,EAAE,GAAG;AAC/B,cAAI,MAAM,GAAG,QAAQ,OAAO,MAAM,GAAG;AACjC,gBAAI,MAAM,OAAO,iBAAiB;AAC9B,wBAAU;AAAA,YACd,WAAW,MAAM,OAAO,aAAa;AACjC,wBAAU;AAAA,YACd;AACA,wBAAY;AACZ,gBAAI,MAAM;AAAA,UACd;AAAA,QACJ;AAAA,MACJ;AAEA,WAAK,IAAI,GAAG,IAAI,MAAM,QAAQ,EAAE,GAAG;AAC/B,YAAI,MAAM,WAAW;AACjB;AAAA,QACJ;AACA,YAAI,OAAO,MAAM;AAEjB,YAAI,mBAAmB,KAAK,QAAQ,IAAI;AACxC,YAAI,MAAM,qBAAqB,KAAK,KAAK,QAAQ,GAAG,IAAI,mBAAmB;AAE3E,YAAI,KAAK;AACT,YAAI,QAAQ,IAAI;AACZ,gBAAM,QAAQ,QAAQ,MAAM,SAAS,SAAS,SAAS,KAAK;AAC5D,gBAAM,QAAQ,qBAAqB,OAAO;AAAA,QAC9C,OAAO;AACH,gBAAM,QAAQ,QAAQ,KAAK,MAAM,GAAG,GAAG,GAAG,SAAS,SAAS,SAAS,KAAK;AAC1E,gBAAM,MAAM;AAAA,YACR,gBAAgB,KAAK,MAAM,MAAM,CAAC,GAAG,OAAO;AAAA,YAC5C,SAAU,YAAY;AAClB,qBAAO,QAAQ,QAAQ,YAAY,SAAS,SAAS,SAAS,OAAO;AAAA,YACzE;AAAA,UACJ;AAAA,QACJ;AAEA,YAAI,OAAO,QAAQ,4BAA4B,YAAY,cAAc;AACrE,gBAAM,yBAAyB,GAAG;AAAA,QACtC;AAEA,YAAI,KAAK,QAAQ,KAAK,IAAI,IAAI;AAC1B,gBAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI;AAAA,QACjC;AAEA,YAAI,IAAI,KAAK,KAAK,GAAG,GAAG;AACpB,cAAI,OAAO,MAAM,QAAQ,IAAI,MAAM,GAAG;AAAA,QAC1C,OAAO;AACH,cAAI,OAAO;AAAA,QACf;AAAA,MACJ;AAEA,aAAO;AAAA,IACX;AAEA,QAAI,cAAc,SAAU,OAAO,KAAK,SAAS,cAAc;AAC3D,UAAI,OAAO,eAAe,MAAM,gBAAgB,KAAK,OAAO;AAE5D,eAAS,IAAI,MAAM,SAAS,GAAG,KAAK,GAAG,EAAE,GAAG;AACxC,YAAI;AACJ,YAAI,OAAO,MAAM;AAEjB,YAAI,SAAS,QAAQ,QAAQ,aAAa;AACtC,gBAAM,CAAC,EAAE,OAAO,IAAI;AAAA,QACxB,OAAO;AACH,gBAAM,QAAQ,eAAe,uBAAO,OAAO,IAAI,IAAI,CAAC;AACpD,cAAI,YAAY,KAAK,OAAO,CAAC,MAAM,OAAO,KAAK,OAAO,KAAK,SAAS,CAAC,MAAM,MAAM,KAAK,MAAM,GAAG,EAAE,IAAI;AACrG,cAAI,QAAQ,SAAS,WAAW,EAAE;AAClC,cAAI,CAAC,QAAQ,eAAe,cAAc,IAAI;AAC1C,kBAAM,EAAE,GAAG,KAAK;AAAA,UACpB,WACI,CAAC,MAAM,KAAK,KACT,SAAS,aACT,OAAO,KAAK,MAAM,aAClB,SAAS,MACR,QAAQ,eAAe,SAAS,QAAQ,aAC9C;AACE,kBAAM,CAAC;AACP,gBAAI,SAAS;AAAA,UACjB,WAAW,cAAc,aAAa;AAClC,gBAAI,aAAa;AAAA,UACrB;AAAA,QACJ;AAEA,eAAO;AAAA,MACX;AAEA,aAAO;AAAA,IACX;AAEA,QAAI,YAAY,SAAS,qBAAqB,UAAU,KAAK,SAAS,cAAc;AAChF,UAAI,CAAC,UAAU;AACX;AAAA,MACJ;AAGA,UAAI,MAAM,QAAQ,YAAY,SAAS,QAAQ,eAAe,MAAM,IAAI;AAIxE,UAAI,WAAW;AACf,UAAI,QAAQ;AAIZ,UAAI,UAAU,QAAQ,QAAQ,KAAK,SAAS,KAAK,GAAG;AACpD,UAAI,SAAS,UAAU,IAAI,MAAM,GAAG,QAAQ,KAAK,IAAI;AAIrD,UAAI,OAAO,CAAC;AACZ,UAAI,QAAQ;AAER,YAAI,CAAC,QAAQ,gBAAgB,IAAI,KAAK,OAAO,WAAW,MAAM,GAAG;AAC7D,cAAI,CAAC,QAAQ,iBAAiB;AAC1B;AAAA,UACJ;AAAA,QACJ;AAEA,aAAK,KAAK,MAAM;AAAA,MACpB;AAIA,UAAI,IAAI;AACR,aAAO,QAAQ,QAAQ,MAAM,UAAU,MAAM,KAAK,GAAG,OAAO,QAAQ,IAAI,QAAQ,OAAO;AACnF,aAAK;AACL,YAAI,CAAC,QAAQ,gBAAgB,IAAI,KAAK,OAAO,WAAW,QAAQ,GAAG,MAAM,GAAG,EAAE,CAAC,GAAG;AAC9E,cAAI,CAAC,QAAQ,iBAAiB;AAC1B;AAAA,UACJ;AAAA,QACJ;AACA,aAAK,KAAK,QAAQ,EAAE;AAAA,MACxB;AAIA,UAAI,SAAS;AACT,aAAK,KAAK,MAAM,IAAI,MAAM,QAAQ,KAAK,IAAI,GAAG;AAAA,MAClD;AAEA,aAAO,YAAY,MAAM,KAAK,SAAS,YAAY;AAAA,IACvD;AAEA,QAAI,wBAAwB,SAASC,uBAAsB,MAAM;AAC7D,UAAI,CAAC,MAAM;AACP,eAAO;AAAA,MACX;AAEA,UAAI,KAAK,YAAY,QAAQ,KAAK,YAAY,UAAa,OAAO,KAAK,YAAY,YAAY;AAC3F,cAAM,IAAI,UAAU,+BAA+B;AAAA,MACvD;AAEA,UAAI,OAAO,KAAK,YAAY,eAAe,KAAK,YAAY,WAAW,KAAK,YAAY,cAAc;AAClG,cAAM,IAAI,UAAU,mEAAmE;AAAA,MAC3F;AACA,UAAI,UAAU,OAAO,KAAK,YAAY,cAAc,SAAS,UAAU,KAAK;AAE5E,aAAO;AAAA,QACH,WAAW,OAAO,KAAK,cAAc,cAAc,SAAS,YAAY,CAAC,CAAC,KAAK;AAAA,QAC/E,iBAAiB,OAAO,KAAK,oBAAoB,YAAY,KAAK,kBAAkB,SAAS;AAAA,QAC7F,aAAa,OAAO,KAAK,gBAAgB,YAAY,KAAK,cAAc,SAAS;AAAA,QACjF,YAAY,OAAO,KAAK,eAAe,WAAW,KAAK,aAAa,SAAS;AAAA,QAC7E;AAAA,QACA,iBAAiB,OAAO,KAAK,oBAAoB,YAAY,KAAK,kBAAkB,SAAS;AAAA,QAC7F,OAAO,OAAO,KAAK,UAAU,YAAY,KAAK,QAAQ,SAAS;AAAA,QAC/D,SAAS,OAAO,KAAK,YAAY,aAAa,KAAK,UAAU,SAAS;AAAA,QACtE,WAAW,OAAO,KAAK,cAAc,YAAY,MAAM,SAAS,KAAK,SAAS,IAAI,KAAK,YAAY,SAAS;AAAA,QAE5G,OAAQ,OAAO,KAAK,UAAU,YAAY,KAAK,UAAU,QAAS,CAAC,KAAK,QAAQ,SAAS;AAAA,QACzF,mBAAmB,KAAK,sBAAsB;AAAA,QAC9C,0BAA0B,OAAO,KAAK,6BAA6B,YAAY,KAAK,2BAA2B,SAAS;AAAA,QACxH,gBAAgB,OAAO,KAAK,mBAAmB,WAAW,KAAK,iBAAiB,SAAS;AAAA,QACzF,aAAa,KAAK,gBAAgB;AAAA,QAClC,cAAc,OAAO,KAAK,iBAAiB,YAAY,KAAK,eAAe,SAAS;AAAA,QACpF,oBAAoB,OAAO,KAAK,uBAAuB,YAAY,KAAK,qBAAqB,SAAS;AAAA,MAC1G;AAAA,IACJ;AAEA,IAAAD,QAAO,UAAU,SAAU,KAAK,MAAM;AAClC,UAAI,UAAU,sBAAsB,IAAI;AAExC,UAAI,QAAQ,MAAM,QAAQ,QAAQ,OAAO,QAAQ,aAAa;AAC1D,eAAO,QAAQ,eAAe,uBAAO,OAAO,IAAI,IAAI,CAAC;AAAA,MACzD;AAEA,UAAI,UAAU,OAAO,QAAQ,WAAW,YAAY,KAAK,OAAO,IAAI;AACpE,UAAI,MAAM,QAAQ,eAAe,uBAAO,OAAO,IAAI,IAAI,CAAC;AAIxD,UAAI,OAAO,OAAO,KAAK,OAAO;AAC9B,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,EAAE,GAAG;AAClC,YAAI,MAAM,KAAK;AACf,YAAI,SAAS,UAAU,KAAK,QAAQ,MAAM,SAAS,OAAO,QAAQ,QAAQ;AAC1E,cAAM,MAAM,MAAM,KAAK,QAAQ,OAAO;AAAA,MAC1C;AAEA,UAAI,QAAQ,gBAAgB,MAAM;AAC9B,eAAO;AAAA,MACX;AAEA,aAAO,MAAM,QAAQ,GAAG;AAAA,IAC5B;AAAA;AAAA;;;ACvQA;AAAA,iCAAAE,UAAAC,SAAA;AAAA;AAEA,QAAI,YAAY;AAChB,QAAI,QAAQ;AACZ,QAAI,UAAU;AAEd,IAAAA,QAAO,UAAU;AAAA,MACb;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAAA;AAAA;;;ACVA;AAAA,kDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,kBAAkB;AAS1B,aAAS,gBAAgB,MAAM,OAAO,UAAU,CAAC,GAAG;AAChD,aAAO,OAAO,KAAK,OAAO,EAAE,OAAO,CAAC,QAAQ,QAAQ;AAChD,cAAM,MAAM,QAAQ;AACpB,YAAI,OAAO,QAAQ,aAAa;AAC5B,iBAAO,GAAG,WAAW;AACzB,eAAO,GAAG,WAAW,OAAO;AAAA,MAChC,GAAG,GAAG,QAAQ,OAAO;AAAA,IACzB;AACA,IAAAA,SAAQ,kBAAkB;AAAA;AAAA;;;ACnB1B;AAAA,iEAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,iBAAiB;AAOzB,QAAM,iBAAiB,CAAC,UAAU;AAC9B,UAAI,OAAO,UAAU,UAAU;AAC3B,eAAO;AAAA,MACX;AACA,aAAO,GAAG;AAAA,IACd;AACA,IAAAA,SAAQ,iBAAiB;AAAA;AAAA;;;ACfzB;AAAA,mDAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,cAAc;AACpB,QAAM,SAAS;AACf,QAAM,YAAY;AAClB,QAAM,kBAAkB;AACxB,QAAM,cAAc;AACpB,QAAM,oBAAoB;AAC1B,QAAM,kBAAkBC,iBAAgB,uBAAmC;AAC3E,QAAM,YAAYA,iBAAgB,iBAA2B;AAC7D,QAAM,eAAeA,iBAAgB,oBAA8B;AACnE,QAAM,oBAAoBA,iBAAgB,yBAA4B;AACtE,QAAM,OAAOA,iBAAgB,aAAa;AAC1C,QAAM,gBAAgBA,iBAAgB,qBAA+B;AACrE,QAAM,gBAAgB;AACtB,QAAM,UAAU;AAChB,QAAM,mBAAmB;AAmBzB,QAAM,cAAN,MAAkB;AAAA,MAMd,YAAY,UAAU,QAAQ;AAC1B,aAAK,WAAW,CAAC;AAKjB,aAAK,cAAc,CAAC,aAAa;AAC7B,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,GAAG,SAAS;AAAA,QACpD;AAgBA,aAAK,gBAAgB,CAAC,aAAa;AAC/B,eAAK,MAAM,EAAE,MAAM,EAAE,eAAe,YAAY,eAAe,GAAG,SAAS,MAAM,CAAC;AAClF,cAAI,UAAU;AACV,iBAAK,YAAY,QAAQ;AAAA,UAC7B,OACK;AACD,iBAAK,UAAU,UAAU,kBAAkB;AAC3C,iBAAK,YAAY,QAAW,IAAI,GAAG,UAAU,eAAe,UAAU,kBAAkB,qBAAqB;AAAA,UACjH;AAAA,QACJ;AAoDA,aAAK,QAAQ,CAAC,YAAY;AACtB,eAAK,SAAS,UAAU,KAAK,SAAS,WAAW,CAAC;AAClD,gBAAM,EAAE,QAAQ,IAAI,KAAK;AACzB,cAAI,QAAQ,MAAM;AACd,gBAAI,QAAQ,KAAK,eAAe;AAC5B,sBAAQ,WAAW,GAAG,iBAAiB,gBAAgB,QAAQ,KAAK,aAAa;AAAA,YACrF;AACA,gBAAI,QAAQ,KAAK,6BAA6B;AAC1C,sBAAQ,0BAA0B,GAAG,iBAAiB,gBAAgB,QAAQ,KAAK,2BAA2B;AAAA,YAClH;AACA,gBAAI,QAAQ,KAAK,qBAAqB;AAClC,sBAAQ,yBAAyB,CAAC,GAAG;AAAA,YACzC;AAAA,UACJ,WACS,QAAQ,SAAS,OAAO;AAC7B,oBAAQ,eAAe;AAAA,UAC3B;AACA,cAAI,WAAW,QAAQ,sBAAsB;AACzC,oBAAQ,yBAAyB,QAAQ;AAAA,UAC7C;AACA,cAAI,WAAW,QAAQ,sBAAsB;AACzC,oBAAQ,6BAA6B,QAAQ;AAAA,UACjD;AACA,cAAI,QAAQ,SAAS;AACjB,gBAAI,QAAQ,QAAQ,wBAAwB,QAAQ,QAAQ,QAAQ,iBAAiB,MAAM;AACvF,oBAAM,IAAI,MAAM,iFAAiF;AAAA,YACrG;AACA,gBAAI,QAAQ,QAAQ,sBAAsB;AAMtC,mBAAK,kBAAkB,YAAY,aAAa,iBAAiB,WAAW,QAAQ,QAAQ,sBAAsB;AAClH,sBAAQ,0BAA0B,GAAG,iBAAiB,gBAAgB,QAAQ,QAAQ,oBAAoB;AAAA,YAC9G;AACA,gBAAI,QAAQ,QAAQ,kBAAkB,GAAG;AACrC,sBAAQ,sBAAsB;AAAA,YAClC,WACS,QAAQ,QAAQ,eAAe;AACpC,sBAAQ,kBAAkB,GAAG,iBAAiB,gBAAgB,QAAQ,QAAQ,aAAa;AAAA,YAC/F;AAAA,UACJ,WACS,QAAQ,YAAY,OAAO;AAChC,oBAAQ,sBAAsB;AAAA,UAClC;AACA,cAAI,QAAQ,KAAK;AACb,oBAAQ,IAAI,aAAa,KAAK,QAAQ;AAAA,UAC1C;AAAA,QACJ;AAiCA,aAAK,cAAc,CAAC,MAAM,UAAU,CAAC,MAAM;AACvC,cAAI,IAAI,IAAI;AACZ,gBAAM,EAAE,oBAAoB,YAAY,gBAAgB,UAAU,IAAI;AAmCtE,eAAK,MAAM,EAAE,MAAM,EAAE,eAAe,kBAAkB,EAAE,CAAC;AACzD,gBAAM,SAAS,YAAY,UAAU,+BAA+B,UAAU;AAC9E,eAAK,UAAU,MAAM;AACrB,gBAAM,cAAc,GAAG,UAAU,eAAe,MAAM;AACtD,iBAAO,KAAK,WAAW,GAAG,IAAI,KAAK,MAAM,CAAC,IAAI;AAG9C,gBAAM,sBAAsB,GAAG,gBAAgB,aAAa,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,IAAI,KAAK,MAAM,SAAS,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,IAAI,IACpN,UACC,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG;AAExE,gBAAM,UAAU,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,sBAAsB,sBAAsB;AACtH,cAAI,QAAQ,YAAY;AACpB,iBAAK,gBAAgB,QAAQ,UAAU;AAAA,UAC3C;AAEA,eAAK,YAAY,QAAQ,GAAG,cAAc,QAAQ,IAAI;AAAA,QAC1D;AAKA,aAAK,gBAAgB,MAAM;AACvB,eAAK,iBAAiB,YAAY,uBAAuB,GAAG;AAAA,QAChE;AAyDA,aAAK,UAAU,CAAC,OAAO;AACnB,eAAK,iBAAiB,YAAY,uBAAuB,SAAS,EAAE;AAAA,QACxE;AAoCA,aAAK,QAAQ,CAAC,SAAS,YAAY;AAC/B,eAAK,UAAU,OAAO;AACtB,eAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,sBAAsB,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,oBAAoB;AAG/J,iBAAK,iBAAiB,YAAY,uBAAuB,OAAO,OAAO,KAAK,KAAK,oBAAoB;AAEjG,oBAAM,iBAAiB;AACvB,eAAC,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,qBAAqB,QAAQ,iBAAiB,GAAG;AAM5G,oBAAM,IAAI,gBAAgB,QAAQ,eAAe,EAAE,MAAM,KAAK,KAAK;AAAA,gBAC/D,SAAS,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAAA,gBACnE,8BAA8B,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAAA,gBACxF,MAAM,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAAA,cACpE,GAAG,OAAO;AAGV,6BAAe,OAAO,OAAO,OAAO,eAAe,OAAO,MAAM,GAAG,EAAE,CAAC;AAEtE,kBAAI,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,mBAAmB;AAC7E,wBAAQ,kBAAkB,KAAK,GAAG;AAClC,oBAAI,UAAU,kBAAkB,eAAe,KAAK,OAAO,SAAS,CAAC;AAAA,cACzE;AAAA,YACJ,CAAC;AAAA,UACL,WACS,SAAS;AAEd,gBAAI,QAAQ,MAAM;AACd,oBAAM,cAAc,OAAO,QAAQ,SAAS,WAAW,QAAQ,OAAO,QAAQ,KAAK;AAKnF,oBAAM,OAAO,MAAM,QAAQ,KAAK,cAAc,IAAI,MAAM,GAAG,gBAAgB,YAAY,KAAK,cAAc,IAAI,IACxG,YACA,KAAK,cAAc;AACzB,kBAAI,aAAa;AACb,qBAAK,YAAY,MAAM,WAAW;AAAA,cACtC;AAAA,YACJ;AACA,gBAAI,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,SAAS;AACnE,yBAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,QAAQ,OAAO,GAAG;AACxD,qBAAK,iBAAiB,KAAK,KAAK;AAAA,cACpC;AAAA,YACJ;AACA,iBAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,oBAAoB,MAAM;AACrF,kBAAI,CAAC,KAAK,SAAS;AACf,qBAAK,SAAS,MAAM,CAAC;AACzB,mBAAK,SAAS,IAAI,mBAAmB,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAAA,YACnG;AAAA,UACJ;AAAA,QACJ;AAoBA,aAAK,oBAAoB,CAAC,MAAM,UAAU;AAEtC,cAAI,CAAC,KAAK,SAAS,SAAS;AACxB,iBAAK,SAAS,UAAU,CAAC;AAAA,UAC7B;AAEA,cAAI,CAAC,KAAK,SAAS,QAAQ,sBAAsB;AAC7C,iBAAK,SAAS,QAAQ,uBAAuB,CAAC;AAAA,UAClD;AACA,gBAAM,UAAU,KAAK,SAAS,QAAQ;AACtC,kBAAQ,QAAQ;AAAA,QACpB;AAkBA,aAAK,oBAAoB,CAAC,MAAM,UAAU;AAEtC,cAAI,CAAC,KAAK,SAAS,SAAS;AACxB,iBAAK,SAAS,UAAU,CAAC;AAAA,UAC7B;AAEA,cAAI,CAAC,KAAK,SAAS,QAAQ,sBAAsB;AAC7C,iBAAK,SAAS,QAAQ,uBAAuB,CAAC;AAAA,UAClD;AACA,gBAAM,UAAU,KAAK,SAAS,QAAQ;AACtC,kBAAQ,QAAQ;AAAA,QACpB;AAmBA,aAAK,uBAAuB,CAAC,MAAM,OAAO,YAAY;AAElD,eAAK,kBAAkB,MAAM,UAAU,QAAQ,MAAM,SAAS,MAAM,MAAM,GAAG,cAAc,SAAS,OAAO,IAAI,IAAI,KAAK,UAAU;AAAA,QACtI;AAeA,aAAK,uBAAuB,CAAC,SAAS;AAElC,cAAI,CAAC,KAAK,SAAS,SAAS;AACxB,iBAAK,SAAS,UAAU,CAAC;AAAA,UAC7B;AACA,cAAI,CAAC,KAAK,SAAS,QAAQ,yBAAyB;AAChD,iBAAK,SAAS,QAAQ,0BAA0B,CAAC;AAAA,UACrD;AACA,eAAK,SAAS,QAAQ,wBAAwB,KAAK,IAAI;AAAA,QAC3D;AAeA,aAAK,+BAA+B,CAAC,SAAS;AAE1C,cAAI,CAAC,KAAK,SAAS,SAAS;AACxB,iBAAK,SAAS,UAAU,CAAC;AAAA,UAC7B;AACA,cAAI,CAAC,KAAK,SAAS,QAAQ,gCAAgC;AACvD,iBAAK,SAAS,QAAQ,iCAAiC,CAAC;AAAA,UAC5D;AACA,eAAK,SAAS,QAAQ,+BAA+B,KAAK,IAAI;AAAA,QAClE;AAiBA,aAAK,mBAAmB,CAAC,MAAM,UAAU;AAErC,cAAI,CAAC,KAAK,SAAS,SAAS;AACxB,iBAAK,SAAS,UAAU,CAAC;AAAA,UAC7B;AAEA,cAAI,CAAC,KAAK,SAAS,QAAQ,qBAAqB;AAC5C,iBAAK,SAAS,QAAQ,sBAAsB,CAAC;AAAA,UACjD;AACA,gBAAM,UAAU,KAAK,SAAS,QAAQ;AACtC,kBAAQ,QAAQ;AAAA,QACpB;AAkBA,aAAK,sBAAsB,CAAC,MAAM,OAAO,YAAY;AAEjD,eAAK,iBAAiB,MAAM,UAAU,QAAQ,MAAM,SAAS,MAAM,MAAM,GAAG,cAAc,SAAS,OAAO,IAAI,IAAI,KAAK,UAAU;AAAA,QACrI;AAeA,aAAK,kBAAkB,CAAC,MAAM,MAAM,SAAS;AACzC,cAAI,CAAC,KAAK,SAAS,UAAU;AACzB,iBAAK,SAAS,WAAW,CAAC;AAAA,UAC9B;AACA,eAAK,SAAS,SAAS,WAAW,CAAC,CAAC;AACpC,eAAK,SAAS,SAAS,oBAAoB;AAC3C,cAAI;AACA,iBAAK,SAAS,SAAS,kBAAkB;AAAA,QACjD;AAcA,aAAK,kBAAkB,CAAC,SAAS;AAC7B,cAAI,CAAC,KAAK,SAAS,UAAU;AACzB,iBAAK,SAAS,WAAW,CAAC;AAAA,UAC9B;AACA,eAAK,SAAS,SAAS,kBAAkB;AAAA,QAC7C;AAqBA,aAAK,YAAY,CAAC,SAAS,CAAC,MAAM;AAC9B,eAAK,kBAAkB,+BAA+B,OAAO,UAAU,GAAG;AAC1E,cAAI,OAAO,SAAS;AAChB,iBAAK,kBAAkB,gCAAgC,OAAO,QAAQ,KAAK,IAAI,CAAC;AAAA,UACpF;AACA,cAAI,OAAO,SAAS;AAChB,iBAAK,kBAAkB,gCAAgC,OAAO,QAAQ,KAAK,IAAI,CAAC;AAAA,UACpF;AACA,cAAI,OAAO,QAAQ;AACf,iBAAK,kBAAkB,0BAA0B,OAAO,OAAO,SAAS,CAAC;AAAA,UAC7E;AACA,cAAI,OAAO,eAAe,MAAM;AAC5B,iBAAK,kBAAkB,oCAAoC,OAAO,YAAY,SAAS,CAAC;AAAA,UAC5F;AAAA,QACJ;AAQA,aAAK,cAAc,CAAC,QAAQ,aAAa,sBAAsB;AAE3D,cAAI,CAAC,KAAK,SAAS,KAAK;AACpB,iBAAK,SAAS,MAAM,CAAC;AAAA,UACzB;AAEA,cAAI,CAAC,KAAK,SAAS,IAAI,aAAa;AAChC,iBAAK,SAAS,IAAI,cAAc,CAAC;AAAA,UACrC;AAGA,cAAI,kBAAkB,QAAQ,WAAW;AACrC,qBAAS,OAAO,SAAS;AAAA,UAC7B;AACA,cAAI,OAAO,WAAW,UAAU;AAE5B,iBAAK,SAAS,IAAI,YAAY,MAAM,GAAG,OAAO,aAAa,QAAQ,aAAa,iBAAiB,CAAC;AAAA,UACtG,OACK;AAED,iBAAK,SAAS,IAAI,YAAY,KAAK;AAAA,cAC/B,QAAQ;AAAA,cACR,QAAQ,UAAU,GAAG,cAAc,SAAS,MAAM,IAAI;AAAA,cACtD;AAAA,YACJ,CAAC;AAAA,UACL;AAAA,QACJ;AAwBA,aAAK,aAAa,CAAC,gBAAgB;AAC/B,cAAI;AAEJ,eAAK,gBAAgB,oBAAoB;AAAA,YACrC,MAAM;AAAA,UACV,CAAC;AACD,eAAK,aAAa,KAAK,KAAK,cAAc,UAAU,QAAQ,OAAO,SAAS,KAAK,WAAW,WAAW;AAAA,QAC3G;AAUA,aAAK,OAAO,CAAC,SAAS,eAAe;AACjC,cAAI,OAAO,YAAY,YAAY;AAC/B,iBAAK,QAAQ,OAAO,KAAK,QAAQ;AAC7B,kBAAI,OAAO,QAAQ;AACnB,kBAAI,aAAa;AAAA,YACrB,CAAC;AACD;AAAA,UACJ;AACA,eAAK,gBAAgB,SAAS,YAAY,IAAI;AAAA,QAClD;AAeA,aAAK,sBAAsB,CAAC,SAAS;AAEjC,eAAK,SAAS,UAAU,CAAC,KAAK,SAAS,UAAU,CAAC,IAAI,KAAK,SAAS;AACpE,eAAK,SAAS,QAAQ,sBAAsB,CAAC,KAAK,SAAS,QAAQ,sBAC7D,CAAC,IACD,KAAK,SAAS,QAAQ;AAG5B,gBAAM,UAAU,KAAK,SAAS,QAAQ;AACtC,kBAAQ,QAAQ;AAAA,QACpB;AAcA,aAAK,WAAW,CAAC,kBAAkB;AAC/B,eAAK,kBAAkB,YAAY,aAAa,aAAa,WAAW;AACxE,eAAK,YAAY,aAAa;AAAA,QAClC;AA0CA,aAAK,WAAW,CAAC,IAAI,UAAU,CAAC,MAAM;AAClC,cAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAExB,gBAAM,EAAE,IAAI,QAAQ,YAAY,MAAa,KAAK,GAAG,kBAAkB,0BAA0B,IAAI,OAAO;AAE5G,gBAAM,mBAAmB,MAAM;AAC3B,gBAAIC;AACJ,mBAAO,CAAC,OAAO,QAAQA,MAAK,KAAK,cAAc,WAAW,QAAQA,QAAO,SAASA,MAAK,CAAC,CAAC,EAAE,KAAK,WAAS,OAAO,UAAU,YAAY,MAAM,WAAW,GAAG,CAAC;AAAA,UAC/J;AAKA,eAAK,YAAY,WAAW,SAAS;AAKrC,eAAK,GAAG,UAAU,SAAS,KAAK,KAAK,iBAAiB,GAAG;AACrD,iBAAK,SAAS,OAAO,KAAK,KAAK,SAAS,SAAS,QAAQ,OAAO,SAAS,KAAK,CAAC;AAC/E,iBAAK,SAAS,IAAI,gBAAgB,KAAK,KAAK,SAAS,IAAI,kBAAkB,QAAQ,OAAO,SAAS,KAAK,CAAC;AACzG,iBAAK,SAAS,IAAI,aAAa,OAAO;AAGtC,kBAAM,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,iBAAiB,QAAQ;AAC5F,mBAAK,SAAS,IAAI,aAAa,UAAU,GAAG,cAAc,UAAU,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,IAAI;AACzI,mBAAK,SAAS,IAAI,aAAa,cAAc;AAC7C,mBAAK,SAAS,IAAI,aAAa,SAAS;AACxC;AAAA,YACJ;AACA,iBAAK,SAAS,IAAI,eAAe;AAAA,cAC7B,GAAG,KAAK,SAAS,IAAI;AAAA,cACrB,IAAI,GAAG,OAAO,cAAc,MAAM,KAAK,KAAK,mBAAmB,QAAQ,OAAO,SAAS,SAAS,GAAG,UAAU,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS,GAAG,QAAQ,IAAI;AAAA,YAC7K;AACA;AAAA,UACJ;AAKA,eAAK,iBAAiB,YAAY,uBAAuB,UAAU,OAAO,KAAK,QAAQ;AACnF,gBAAI,0BAA0B,CAAC;AAG/B,uBAAW,YAAY,OAAO;AAC1B,wCAA0B;AAAA,gBACtB,GAAG;AAAA,gBACH,EAAE,GAAG,aAAa,SAAS,UAAU,IAAI,MAAM,KAAK,GAAG,aAAa,SAAS,MAAM,WAAW,IAAI,MAAM;AAAA,cAC5G;AAAA,YACJ;AAIA,gBAAI,UAAU,YAAY,aAAa,UAAU,IAAI,GAAG,aAAa,SAAS,QAAQ,IAAI,MAAM,IAAI,OAAO,KAAK,uBAAuB,EAAE,SAAS,IAC5I,MAAM,KAAK,QAAQ,UAAU,uBAAuB,IACpD,IAAI;AACV,gBAAI,aAAa;AACjB,gBAAI,OAAO;AAAA,UACf,CAAC;AACD,eAAK,MAAM;AAAA,YACP,sBAAsB,CAAC,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA,YAC9C,MAAM;AAAA,cACF,eAAe,YAAY;AAAA,YAC/B;AAAA,UACJ,CAAC;AAAA,QACL;AAmBA,aAAK,oBAAoB,CAAC,MAAM,OAAO,YAAY;AAC/C,eAAK,kBAAkB,YAAY,aAAa,YAAY,GAAG,cAAc,iBAAiB,MAAM,OAAO,OAAO,CAAC;AAAA,QACvH;AAsBA,aAAK,YAAY,CAAC,SAAS;AACvB,cAAI,CAAC,KAAK,SAAS;AACf,iBAAK,SAAS,SAAS,CAAC;AAC5B,eAAK,SAAS,OAAO,aAAa;AAAA,QACtC;AAMA,aAAK,aAAa,CAAC,SAAS,SAAS,UAAU;AAC3C,cAAI,CAAC;AACD,iBAAK,SAAS,UAAU;AAC5B,eAAK,SAAS,WAAW;AAAA,QAC7B;AACA,aAAK,gBAAgB;AACrB,aAAK,kBAAkB,IAAI,kBAAkB,QAAQ,QAAQ;AAC7D,aAAK,SAAS;AAAA,MAClB;AAAA,MAOA,SAAS,SAAS;AACd,gBAAQ,IAAI;AACZ,eAAO,KAAK;AAAA,MAChB;AAAA,MAMA,iBAAiB,MAAM,IAAI;AACvB,cAAM,YAAY,KACZ,KAAK,OAAO,YAAY,OAAO,KAAK,KAAK,oBAAoB;AAG3D,cAAI,SAAS,KAAK,gBAAgB,QAAQ,GAAG;AAE7C,gBAAM,GAAG,KAAK,KAAK,eAAe;AAElC,cAAI,CAAC,IAAI,UAAU,YAAY,aAAa,WAAW,GAAG;AACtD,gBAAI,UAAU,YAAY,aAAa,aAAa,YAAY;AAAA,UACpE;AAAA,QACJ,CAAC,IACC;AACN,aAAK,iBAAiB,IAAI,YAAY,gCAAgC,cAAc,OAAO,GAAG,QAAQ,cAAc,IAAI;AAGxH,aAAK,UAAU,UAAU,sBAAsB;AAAA,MACnD;AAAA,IACJ;AACA,IAAAF,SAAQ,UAAU;AAAA;AAAA;;;ACh/BlB;AAAA,4DAAAG,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,YAAY;AACpB,QAAM,gBAAgBC,iBAAgB,qBAAyB;AAC/D,QAAM,YAAY,CAAC,UAAU,UAAU,WAAW;AAC9C,UAAI,OAAO,aAAa,YAAY;AAChC,eAAO,IAAI,cAAc,QAAQ,UAAU,MAAM,EAAE,SAAS,QAAQ;AAAA,MACxE,OACK;AACD,eAAO;AAAA,MACX;AAAA,IACJ;AACA,IAAAD,SAAQ,YAAY;AAAA;AAAA;;;ACfpB;AAAA,6CAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,oBAAoBA,SAAQ,eAAeA,SAAQ,6BAA6BA,SAAQ,gBAAgBA,SAAQ,gBAAgBA,SAAQ,iBAAiBA,SAAQ,oCAAoCA,SAAQ,kCAAkCA,SAAQ,mBAAmBA,SAAQ,mBAAmBA,SAAQ,UAAUA,SAAQ,cAAcA,SAAQ,uBAAuBA,SAAQ,aAAaA,SAAQ,uCAAuCA,SAAQ,2CAA2CA,SAAQ,4BAA4BA,SAAQ,6BAA6BA,SAAQ,iCAAiCA,SAAQ,gCAAgCA,SAAQ,aAAaA,SAAQ,kBAAkBA,SAAQ,kBAAkBA,SAAQ,uBAAuBA,SAAQ,aAAaA,SAAQ,YAAY;AACtxB,QAAM,OAAO,QAAQ;AACrB,QAAM,SAAS,QAAQ;AACvB,QAAM,gBAAgB;AAItB,IAAAA,SAAQ,YAAY;AAKpB,IAAAA,SAAQ,cAAc,GAAG,OAAO,MAAMA,SAAQ,WAAW,QAAQ;AAKjE,IAAAA,SAAQ,uBAAuB;AAK/B,IAAAA,SAAQ,mBAAmB,GAAG,OAAO,MAAMA,SAAQ,YAAYA,SAAQ,oBAAoB;AAK3F,IAAAA,SAAQ,kBAAkB;AAK1B,IAAAA,SAAQ,cAAc,GAAG,OAAO,MAAMA,SAAQ,YAAYA,SAAQ,eAAe;AAIjF,IAAAA,SAAQ,gCAAgC;AAIxC,IAAAA,SAAQ,iCAAiC;AAIzC,IAAAA,SAAQ,8BAA8B,GAAG,OAAO,MAAMA,SAAQ,iBAAiBA,SAAQ,8BAA8B;AAIrH,IAAAA,SAAQ,6BAA6B,GAAG,OAAO,MAAMA,SAAQ,iBAAiBA,SAAQ,6BAA6B;AAInH,IAAAA,SAAQ,2CAA2C;AAInD,IAAAA,SAAQ,wCAAwC,GAAG,OAAO,MAAMA,SAAQ,iBAAiBA,SAAQ,wCAAwC;AAIzI,IAAAA,SAAQ,cAAc,GAAG,OAAO,MAAMA,SAAQ,WAAW,IAAI;AAC7D,IAAAA,SAAQ,wBAAwB,GAAG,OAAO,MAAMA,SAAQ,WAAW,cAAc;AAIjF,IAAAA,SAAQ,eAAe,GAAG,OAAO,MAAMA,SAAQ,WAAW,KAAK;AAK/D,IAAAA,SAAQ,WAAW,GAAG,OAAO,MAAMA,SAAQ,WAAW,KAAK;AAI3D,IAAAA,SAAQ,mBAAmB;AAI3B,IAAAA,SAAQ,mBAAmB;AAK3B,IAAAA,SAAQ,kCAAkC;AAK1C,IAAAA,SAAQ,oCAAoC;AAM5C,aAAS,eAAe,SAAS;AAC7B,cAAQ,GAAG,OAAO,MAAM,gBAAgB,GAAG,aAAa;AAAA,IAC5D;AACA,IAAAA,SAAQ,iBAAiB;AAOzB,aAAS,cAAc,QAAQ;AAI3B,YAAM,UAAU,GAAG,cAAc,mBAAmB,MAAM,GAAG,cAAc,SAAS,IAAI,kBAAkB,IAAI,QAAQ,IAAI;AAC1H,YAAM,WAAW,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,UAClE,EAAE,GAAG,OAAO,MAAM,QAAQ,IAAI,GAAG,OAAO,MAAM,CAAC,IAC/C,EAAE,GAAG,OAAO,MAAM,QAAQ,WAAW,IAAI,GAAG,OAAO,MAAM,QAAQ,WAAW,IAAI,GAAG,OAAO,MAAM,QAAQ,YAAY,CAAC,GAAG,KAAK,KAAK,UAAU;AAClJ,UAAI,UAAU,MAAM;AAChB,cAAM,WAAW,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,WAAW;AACnF,cAAM,IAAI,MAAM,8CAA8C,gDAAgD;AAAA,MAClH;AACA,aAAO;AAAA,IACX;AACA,IAAAA,SAAQ,gBAAgB;AAKxB,aAAS,gBAAgB;AAIrB,YAAM,UAAU,GAAG,cAAc,mBAAmB,MAAM,GAAG,cAAc,SAAS,IAAI,kBAAkB,IAAI,QAAQ,IAAI;AAC1H,YAAM,SAAS;AAAA,SACV,GAAG,OAAO,MAAM,QAAQ,iBAAiB;AAAA,SACzC,GAAG,OAAO,MAAM,QAAQ,iBAAiB;AAAA,SACzC,GAAG,OAAO,MAAM,QAAQ,kBAAkB;AAAA,MAC/C,EAAE,KAAK,KAAK,UAAU;AACtB,UAAI,UAAU,MAAM;AAChB,cAAM,IAAI,MAAM,uHAAuH;AAAA,MAC3I;AACA,aAAO;AAAA,IACX;AACA,IAAAA,SAAQ,gBAAgB;AAKxB,aAAS,6BAA6B;AAClC,YAAM,YAAY,GAAG,OAAO,MAAM,kBAAkB,GAAGA,SAAQ,+BAA+B;AAC9F,UAAI,EAAE,GAAG,KAAK,YAAY,QAAQ,GAAG;AACjC,cAAM,IAAI,MAAM,QAAQ,mEAAmE;AAAA,MAC/F;AACA,aAAO;AAAA,IACX;AACA,IAAAA,SAAQ,6BAA6B;AAOrC,aAAS,aAAa,MAAM,QAAQ,IAAI,GAAG;AACvC,YAAM,aAAa,GAAG,OAAO,MAAM,KAAKA,SAAQ,UAAU;AAC1D,YAAM,oBAAoB,GAAG,OAAO,MAAM,KAAK,MAAMA,SAAQ,eAAe;AAC5E,YAAM,QAAQ,GAAG,cAAc,mBAAmB,MAAM,GAAG,cAAc,SAAS,IAAI,mBAAmB;AACzG,cAAQ,GAAG,KAAK,YAAY,IAAI,IAAI,OAAO,QAAQ,IAAI;AAAA,IAC3D;AACA,IAAAA,SAAQ,eAAe;AAOvB,aAAS,kBAAkB,MAAM,QAAQ,IAAI,GAAG;AAC5C,YAAM,aAAa,GAAG,OAAO,MAAM,KAAKA,SAAQ,eAAe;AAC/D,YAAM,oBAAoB,GAAG,OAAO,MAAM,KAAK,MAAMA,SAAQ,oBAAoB;AACjF,YAAM,QAAQ,GAAG,cAAc,mBAAmB,MAAM,GAAG,cAAc,SAAS,IAAI,mBAAmB;AACzG,cAAQ,GAAG,KAAK,YAAY,IAAI,IAAI,OAAO,QAAQ,IAAI;AAAA,IAC3D;AACA,IAAAA,SAAQ,oBAAoB;AAAA;AAAA;;;AClL5B;AAAA,uCAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,YAAY;AACpB,QAAM,UAAU;AAChB,QAAM,UAAU;AAChB,QAAM,QAAQC,iBAAgB,aAAgB;AAC9C,QAAI;AAMJ,aAAS,UAAU,SAAS,OAAO;AAC/B,UAAI,CAAC,UAAU,QAAQ;AACnB,cAAM,WAAW,GAAG,QAAQ,eAAe;AAC3C,YAAI,QAAQ;AACR,iBAAO,QAAQ,MAAM;AAAA,QACzB;AACA,YAAI;AAKA,oBAAU,GAAG,QAAQ,mBAAmB,OAAO;AAAA,QACnD,SACO,GAAP;AACI,cAAI,EAAE,SAAS,mBAAmB;AAC9B,kBAAM,QAAQ,MAAM,sKAAsK;AAC1L,oBAAQ,KAAK,CAAC;AAAA,UAClB;AACA,gBAAM;AAAA,QACV;AAEA,cAAM,cAAc,QAAQ,IAAI;AAEhC,YAAI,eAAe,OAAO,gBAAgB,OAAO,aAAa,cAAc;AACxE,gBAAM,QAAQ,KAAK,8BAA8B,aAAa;AAC9D,iBAAO,OAAO,QAAQ,OAAO,aAAa,YAAY;AAAA,QAC1D;AAGA,YAAI,OAAO,mBAAmB,OAAO,iBAAiB;AAClD,iBAAO,kBAAkB,OAAO;AAAA,QACpC;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AACA,IAAAD,SAAQ,YAAY;AAAA;AAAA;;;AClDpB;AAAA,4CAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,QAAN,MAAY;AAAA,MACR,cAAc;AACV,aAAK,SAAS,CAAC;AACf,aAAK,kBAAkB,SAAS;AAChC,aAAK,gBAAgB,CAAC,QAAQ;AAC1B,gBAAM;AAAA,QACV;AAAA,MACJ;AAAA,MAMA,OAAO,OAAO;AACV,aAAK,OAAO,KAAK,GAAG,KAAK;AACzB,eAAO;AAAA,MACX;AAAA,MAMA,WAAW,SAAS;AAChB,aAAK,kBAAkB;AACvB,eAAO;AAAA,MACX;AAAA,MAOA,YAAY,cAAc;AACtB,aAAK,gBAAgB;AACrB,eAAO;AAAA,MACX;AAAA,MAIA,UAAU;AACN,cAAM,WAAW,KAAK,wBAAwB,EAAE,IAAI,CAAC,MAAM,MAAM;AAC7D,iBAAO,KACF,KAAK,CAAC,QAAQ;AACf,iBAAK,gBAAgB,GAAG;AACxB,mBAAO;AAAA,UACX,CAAC,EACI,MAAM,CAAC,QAAQ;AAChB,mBAAO,KAAK,cAAc,GAAG;AAAA,UACjC,CAAC;AAAA,QACL,CAAC;AACD,eAAO,QAAQ,IAAI,QAAQ;AAAA,MAC/B;AAAA,MAIA,0BAA0B;AACtB,eAAO,KAAK,OAAO,IAAI,UAAQ;AAC3B,cAAI,OAAO,SAAS,YAAY;AAC5B,mBAAO,QAAQ,QAAQ,IAAI;AAAA,UAC/B;AAEA,cAAI;AACA,kBAAM,aAAa,KAAK;AACxB,gBAAI,sBAAsB,SAAS;AAC/B,qBAAO;AAAA,YACX;AAEA,mBAAO,QAAQ,QAAQ,UAAU;AAAA,UACrC,SACO,GAAP;AAGI,mBAAO,QAAQ,OAAO,CAAC;AAAA,UAC3B;AAAA,QACJ,CAAC;AAAA,MACL;AAAA,IACJ;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;AC/ElB;AAAA,uDAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,WAAW;AACjB,QAAM,UAAUC,iBAAgB,eAAyB;AACzD,QAAM,kBAAN,MAAsB;AAAA,MAClB,cAAc;AAIV,aAAK,UAAU,CAAC;AAAA,MACpB;AAAA,MAKA,QAAQ,SAAS;AACb,aAAK,QAAQ,KAAK,GAAG,OAAO;AAAA,MAChC;AAAA,MAKA,MAAM,mBAAmB;AACrB,cAAM,eAAe,GAAG,SAAS,WAAW;AAC5C,cAAM,WAAW,CAAC;AAClB,cAAM,IAAI,QAAQ,QAAQ,EACrB,IAAI,GAAG,KAAK,OAAO,EACnB,WAAW,CAAC,WAAW,SAAS,KAAK,GAAG,MAAM,CAAC,EAC/C,QAAQ;AACb,eAAO;AAAA,UACH;AAAA,UACA,aAAa,gBAAgB,QAAQ,gBAAgB,SAAS,SAAS,YAAY;AAAA,QACvF;AAAA,MACJ;AAAA,IACJ;AACA,IAAAD,SAAQ,UAAU;AAAA;AAAA;;;ACtClB;AAAA,8CAAAE,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,SAAS,QAAQ;AACvB,QAAM,cAAc;AACpB,QAAM,WAAW;AACjB,QAAM,UAAU;AAChB,QAAM,oBAAoBC,iBAAgB,yBAAmC;AAC7E,QAAM,WAAW;AACjB,QAAM,cAAc;AACpB,QAAM,oBAAoBA,iBAAgB,yBAA4B;AACtE,QAAM,UAAU;AAChB,QAAM,gBAAgB;AACtB,QAAMC,WAAUD,iBAAgB,eAAgB;AAChD,QAAM,UAAU;AAIhB,QAAME,UAAN,MAAa;AAAA,MACT,YAAY,UAAU,CAAC,GAAG;AACtB,aAAK,QAAQ,CAAC;AACd,aAAK,gBAAgB,CAAC;AAMtB,aAAK,YAAY,CAAC;AAClB,aAAK,kBAAkB,IAAI,kBAAkB,QAAQ;AAarD,aAAK,aAAa;AAMlB,aAAK,sBAAsB,CAAC;AAC5B,aAAK,gBAAgB;AAAA,MACzB;AAAA,MACA,4BAA4B,MAAM,MAAM;AACpC,YAAI,KAAK,oBAAoB,UAAU,QAAW;AAC9C,eAAK,oBAAoB,QAAQ;AAAA,QACrC,OACK;AACD,eAAK,oBAAoB,MAAM,KAAK,GAAG,IAAI;AAAA,QAC/C;AAAA,MACJ;AAAA,MAKA,OAAO,KAAK,YAAY;AACpB,cAAM,gBAAgB,GAAG,QAAQ,mBAAmB,UAAU;AAC9D,eAAQ,aAAa,WAAW;AAAA,MACpC;AAAA,MAMA,OAAO,UAAU,SAAS;AACtB,eAAO,KAAK,cAAc,CAAC,GAAG,UAAU,OAAO;AAAA,MACnD;AAAA,MAOA,IAAI,UAAU,UAAU,SAAS;AAC7B,eAAO,KAAK,YAAY,YAAY,aAAa,KAAK,UAAU,UAAU,OAAO;AAAA,MACrF;AAAA,MAOA,IAAI,UAAU,UAAU,SAAS;AAC7B,eAAO,KAAK,YAAY,YAAY,aAAa,KAAK,UAAU,UAAU,OAAO;AAAA,MACrF;AAAA,MAOA,MAAM,UAAU,UAAU,SAAS;AAC/B,eAAO,KAAK,YAAY,YAAY,aAAa,OAAO,UAAU,UAAU,OAAO;AAAA,MACvF;AAAA,MAOA,KAAK,UAAU,UAAU,SAAS;AAC9B,eAAO,KAAK,YAAY,YAAY,aAAa,MAAM,UAAU,UAAU,OAAO;AAAA,MACtF;AAAA,MAOA,KAAK,UAAU,UAAU,SAAS;AAC9B,eAAO,KAAK,YAAY,YAAY,aAAa,MAAM,UAAU,UAAU,OAAO;AAAA,MACtF;AAAA,MAOA,OAAO,UAAU,UAAU,SAAS;AAChC,eAAO,KAAK,YAAY,YAAY,aAAa,QAAQ,UAAU,UAAU,OAAO;AAAA,MACxF;AAAA,MAOA,QAAQ,UAAU,UAAU,SAAS;AACjC,eAAO,KAAK,YAAY,YAAY,aAAa,SAAS,UAAU,UAAU,OAAO;AAAA,MACzF;AAAA,MAOA,MAAM,UAAU,UAAU,SAAS;AAC/B,YAAI,OAAO,aAAa,YACpB,oBAAoB,UACpB,oBAAoB,QAAQ,WAAW;AACvC,iBAAO,KAAK,cAAc,EAAE,MAAM,SAAS,GAAG,UAAU,OAAO;AAAA,QACnE,OACK;AACD,iBAAO,KAAK,cAAc,UAAU,UAAU,OAAO;AAAA,QACzD;AAAA,MACJ;AAAA,MAMA,YAAY,UAAU;AAClB,aAAK,MAAM,KAAK,QAAQ;AACxB,eAAO;AAAA,MACX;AAAA,MAQA,GAAG,UAAU,oBAAoB,mBAAmB;AAChD,YAAI,OAAO,KAAK,QAAQ,EAAE,WAAW,GAAG;AACpC,gBAAM,IAAI,MAAM,2CAA2C;AAAA,QAC/D;AACA,aAAK,aAAa;AAClB,aAAK,MAAM,MAAM,GAAG,SAAS,QAAQ,UAAU,GAAG,KAAK,wBAAwB,UAAU,iBAAiB,iBAAiB,CAAC,CAAC;AAC7H,aAAK,mBAAmB,iBAAiB,iBAAiB;AAC1D,eAAO;AAAA,MACX;AAAA,MAQA,OAAO,UAAU,oBAAoB,mBAAmB;AACpD,YAAI,OAAO,KAAK,QAAQ,EAAE,WAAW,GAAG;AACpC,gBAAM,IAAI,MAAM,+CAA+C;AAAA,QACnE;AACA,YAAI,CAAC,KAAK,YAAY;AAClB,gBAAM,IAAI,MAAM,mIAAmI;AAAA,QACvJ;AACA,cAAM,WAAW,KAAK,MAAM,KAAK,MAAM,SAAS;AAChD,cAAM,QAAQ,GAAG,SAAS,QAAQ,UAAU,GAAG,KAAK,wBAAwB,UAAU,iBAAiB,iBAAiB,CAAC;AACzH,iBAAS,GAAG,KAAK,GAAI,KAAK,KAAK,KAAK,KAAK,CAAC,IAAI,CAAE;AAChD,aAAK,mBAAmB,iBAAiB,iBAAiB;AAC1D,eAAO;AAAA,MACX;AAAA,MAOA,KAAK,oBAAoB,mBAAmB;AACxC,YAAI,CAAC,KAAK,YAAY;AAClB,gBAAM,IAAI,MAAM,iIAAiI;AAAA,QACrJ;AACA,cAAM,WAAW,KAAK,MAAM,KAAK,MAAM,SAAS;AAChD,iBAAS,GAAG,MAAM,GAAG,SAAS,QAAQ,KAAK,wBAAwB,CAAC,GAAG,iBAAiB,iBAAiB,CAAC,CAAC;AAC3G,aAAK,mBAAmB,iBAAiB,iBAAiB;AAC1D,aAAK,aAAa;AAClB,eAAO;AAAA,MACX;AAAA,MAKA,mBAAmB,iBAAiB,oBAAoB,CAAC,GAAG;AACxD;AACA,SAAC,iBAAiB,GAAG,iBAAiB,EAAE,QAAQ,CAACC,qBAAoB;AAEjE,cAAIA,qBAAoB,QAAQA,qBAAoB,SAAS,SAASA,iBAAgB,WAAW;AAG7F,mBAAO,QAAQA,iBAAgB,SAAS,EAAE,QAAQ,CAAC,CAAC,KAAK,KAAK,MAAO,KAAK,UAAU,OAAO,KAAM;AAAA,UACrG;AAAA,QACJ,CAAC;AAAA,MACL;AAAA,MACA,IAAI,QAAQ;AACR,eAAO,WAAW,IAAI;AACtB,eAAO;AAAA,MACX;AAAA,MAEA,wBAAwB,UAAU,iBAAiB,oBAAoB,CAAC,GAAG;AACvE,eAAO,CAAC,iBAAiB,GAAG,iBAAiB,EAAE,IAAI,CAAAA,qBAAmB,OAAOA,qBAAoB,cAC1F,GAAG,YAAY,WAAW,UAAUA,kBAAiB,IAAI,IAC1DA,gBAAe;AAAA,MACzB;AAAA,MAOA,cAAc,UAAU,eAAe,SAAS;AAE5C,cAAM,YAAY,GAAG,YAAY,WAAW,UAAU,eAAe,IAAI;AACzE,cAAM,QAAQ,GAAG,SAAS,QAAQ,UAAU,QAAQ;AACpD,aAAK,MAAM,KAAK,IAAI;AAGpB,aAAK,aAAa;AAClB,eAAO;AAAA,MACX;AAAA,MAQA,YAAY,QAAQ,UAAU,UAAU,SAAS;AAC7C,YAAI,OAAO,aAAa,YACpB,oBAAoB,UACpB,oBAAoB,QAAQ,WAAW;AACvC,iBAAO,KAAK,MAAM;AAAA,YACd;AAAA,YACA,MAAM;AAAA,UACV,GAAG,QAAQ;AAAA,QACf;AACA,YAAI,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,QAAQ;AACrE,gBAAM,IAAI,MAAM,6DAA6D,2DAA2D;AAAA,QAC5I;AACA,eAAO,KAAK,MAAM,EAAE,GAAG,UAAU,OAAO,GAAG,UAAU,OAAO;AAAA,MAChE;AAAA,MASA,IAAI,YAAY,UAAU,UAAU,CAAC,GAAG;AACpC,cAAM,kBAAkB,CAAC,UAAU;AAE/B,cAAI,CAAC,SAAS,MAAM,WAAW;AAC3B;AACJ,gBAAM,QAAQ,MACT,QAAQ,UAAQ;AAAE,gBAAI;AAAI,qBAAS,KAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,SAAS,IAAI,MAAM,CAAC,IAAI,MAAM;AAAA,UAAG,CAAC,EACxL,QAAQ,UAAQ;AACjB,gBAAI,CAAC,KAAK,SAAS,aAAa;AAC5B,qBAAO,CAAC,IAAI;AAEhB,mBAAO,MAAM,KAAK,oBAAI,IAAI;AAAA,cAGtB,KAAK,SAAS,EAAE,QAAQ,iBAAiB,GAAG;AAAA,cAG5C,KAAK,SAAS,EAAE,QAAQ,iBAAiB,EAAE;AAAA,YAC/C,CAAC,CAAC,EAAE,OAAO,CAAAC,UAAQA,MAAK,SAAS,CAAC;AAAA,UACtC,CAAC;AACD,eAAK,MAAM,EAAE,MAAM,MAAM,GAAG,QAAQ;AAAA,QACxC;AACA,aAAK,GAAG,cAAc,SAAS,GAAG;AAC9B,gBAAM,QAAQ,KAAK,oBAAoB,UAAU;AACjD,0BAAgB,KAAK;AAAA,QACzB,OACK;AACD,gBAAM,QAAQF,QAAO,aAAa,YAAY,OAAO;AACrD,eAAK,6BAA6B,GAAGD,SAAQ,SAAS,UAAU,GAAG,KAAK;AACxE,0BAAgB,KAAK;AAAA,QACzB;AACA,eAAO;AAAA,MACX;AAAA,MAOA,OAAO,YAAY,UAAU,CAAC,GAAG;AAC7B,cAAM,WAAW,CAAC,WAAW;AACzB,iBAAO,YAAY,GAAG,qBAAqB;AAAA,YACvC,mBAAmB,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAAA,UACjF,CAAC;AACD,cAAI,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAC1D,oBAAQ,QAAQ,MAAM;AAAA,QAC9B;AACA,eAAO,KAAK,IAAI,YAAY,UAAU,OAAO;AAAA,MACjD;AAAA,MAMA,oBAAoB,MAAM;AACtB,gBAAQ,GAAG,QAAQ,oBAAoB,GAAG,QAAQ,4BAA4B,CAAC,EAAE;AAAA,MACrF;AAAA,MAQA,YAAY,IAAI;AAKZ,aAAK,UAAUC,QAAO,iBAAiB;AACvC,eAAOA,QAAO;AAAA,MAClB;AAAA,MAaA,aAAa,gBAAgB;AACzB,aAAK,gBAAgB,KAAK,GAAG,cAAc;AAC3C,eAAO;AAAA,MACX;AAAA,MAWA,mBAAmB;AAGf,eAAO;AAAA,MACX;AAAA,MACA,OAAO,aAAa,YAAY,SAAS;AACrC,YAAI;AACJ,cAAM,aAAa,GAAG,OAAO,OAAO,GAAG,SAAS,cAAc,GAAG,UAAU;AAC3E,cAAM,SAAS,OAAO,QAAQ,WAAW,WAAW,CAAC,QAAQ,MAAM,KAAK,KAAK,QAAQ,YAAY,QAAQ,OAAO,SAAS,KAAK,CAAC;AAE/H,YAAI,SAAS,GAAG,kBAAkB,SAAS,QAAQ,EAAE,KAAK,QAAQ,QAAQ,QAAQ;AAAA,UAC9E,KAAK;AAAA,UACL,WAAW;AAAA,UACX;AAAA,QACJ,CAAC;AACD,YAAI,QAAQ,MAAM;AACd,kBAAQ,QAAQ,KAAK,KAAK;AAAA,QAC9B;AACA,eAAO;AAAA,MACX;AAAA,MAoBA,MAAM,OAAO,UAAU;AACnB,YAAI;AACJ,YAAI,iBAAiB,QAAQ;AACzB,uBAAa;AAAA,QACjB,OACK;AACD,uBAAa,IAAI,OAAO,IAAI,MAAM,SAAS,IAAI;AAAA,QACnD;AACA,eAAO,KAAK,cAAc,EAAE,UAAU,EAAE,aAAa,WAAW,EAAE,GAAG,QAAQ;AAAA,MACjF;AAAA,IACJ;AACA,IAAAH,SAAQ,UAAUG;AAElB,IAAAA,QAAO,gBAAgB;AAAA;AAAA;;;ACpbvB;AAAA,qDAAAG,UAAAC,SAAA;AAAA,QAAM,OAAO,QAAQ;AAErB,QAAM,iBAAiB,KAAK,KAAK,KAAK,MAAM;AAE5C,QAAM,sBAAsB;AAAA,MAC1B,MAAM;AAAA,QACJ,eAAe;AAAA,MACjB;AAAA,MACA,SAAS;AAAA,IACX;AAEA,QAAM,gCAAgC;AACtC,QAAM,oCAAoC;AAE1C,aAAS,4BAA4B;AACnC,UAAI,QAAQ,IAAI,wBAAwB;AACtC,eAAO,QAAQ,IAAI,2BAA2B;AAAA,MAChD;AAKA,UAAI,QAAQ,IAAI,gCAAgC;AAC9C,eAAO,QAAQ,IAAI,mCAAmC;AAAA,MACxD;AAIA,aAAO;AAAA,IACT;AAEA,IAAAA,QAAO,UAAU,SAAS,iBAAiB,EAAE,QAAQ,MAAM,GAAG;AAC5D,UAAI,0BAA0B,MAAM,MAAM;AACxC,eAAO,MAAM,SAAS,CAAC,EAAE,kBAAkB,MAAM;AAC/C,4BAAkB,mCAAmC,GAAG,0BAA0B,WAAW;AAAA,QAC/F,CAAC;AAAA,MACH;AACA,UAAI,OAAO;AACT,eACG,IAAI,sBAAsB,CAAC,EAAE,KAAK,MAAM;AACvC,eAAK,KAAK,UAAU,EAAE,OAAO,SAAS,QAAQ,IAAI,gBAAgB,OAAO,CAAC,CAAC;AAAA,QAC7E,CAAC,EACA,KAAK,sBAAsB,CAAC,EAAE,SAAS,KAAK,MAAM;AACjD,kBAAQ,SAAO;AACb,gBAAI,IAAI,OAAO;AACb,sBAAQ,IAAI,cAAc,IAAI,MAAM;AAAA,YACtC;AAAA,UACF,CAAC;AACD,eAAK,MAAM;AAAA,QACb,CAAC;AAAA,MACL;AACA,aACG,MAAM,8BAA8B,CAAC,EAAE,OAAO,YAAY,MAAM;AAC/D,cAAM,mBAAmB;AACzB,oBAAY,KAAK,KAAK,gBAAgB,UAAU,YAAY,UAAU,QAAQ,CAAC;AAAA,MACjF,CAAC,EACA,IAAI,8BAA8B,CAAC,EAAE,UAAU,mBAAmB,MAAM,MAAM;AAC7E,0BAAkB,+BAA+B,cAAc;AAC/D,cAAM;AAAA,UACJ,SAAS;AAAA,UACT,MAAM;AAAA,QACR,CAAC;AACD,iBAAS,GAAG;AAAA,MACd,CAAC,EACA,IAAI,+BAA+B,CAAC,EAAE,UAAU,mBAAmB,MAAM,MAAM;AAC9E,0BAAkB,+BAA+B,eAAe;AAChE,cAAM;AAAA,UACJ,SAAS;AAAA,UACT,MAAM;AAAA,QACR,CAAC;AACD,iBAAS,GAAG;AAAA,MACd,CAAC,EACA,MAAM,WAAW;AAAA,QAChB,SAAS;AAAA,UACP,cAAc;AAAA,QAKhB;AAAA,MACF,CAAC;AAAA,IACL;AAAA;AAAA;;;ACjFA;AAAA,wDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,gBAAgB;AACtB,QAAM,cAAc;AACpB,aAAS,iBAAiB,QAAQ;AAC9B,UAAI;AAEA,mCAA4C;AAAA,UACxC;AAAA,UACA,QAAQ,GAAG,cAAc,SAAS;AAAA,QACtC,CAAC;AAAA,MACL,SACO,GAAP;AAGI,YAAI,EAAE,SAAS,oBAAoB;AAC/B,gBAAM;AAAA,QACV;AAAA,MACJ;AACA,UAAI,CAAC,OAAO,cAAc,gBAAgB;AAKtC,eAAO,MAAM;AAAA,UACT,SAAS;AAAA,YACL,MAAM,YAAY;AAAA,UACtB;AAAA,QACJ,GAAG;AAAA,UACC,SAAS;AAAA,YACL,sBAAsB;AAAA,cAClB,gBAAgB;AAAA,YACpB;AAAA,UACJ;AAAA,QACJ,CAAC;AAAA,MACL;AAAA,IACJ;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;ACrClB;AAAA,mDAAAC,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,qBAAqBC,iBAAgB,0BAA6B;AAaxE,QAAM,cAAN,MAAkB;AAAA,MAKd,WAAW,QAAQ;AACf,SAAC,GAAG,mBAAmB,SAAS,MAAM;AAAA,MAC1C;AAAA,IACJ;AACA,IAAAD,SAAQ,UAAU;AAAA;AAAA;;;AC3BlB;AAAA,6CAAAE,UAAA;AAAA;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,cAAcA,SAAQ,SAASA,SAAQ,cAAc;AAC7D,QAAM,gBAAgBC,iBAAgB,qBAAwB;AAC9D,QAAI,gBAAgB;AACpB,WAAO,eAAeD,UAAS,eAAe,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAOC,iBAAgB,aAAa,EAAE;AAAA,IAAS,EAAE,CAAC;AACvI,QAAI,WAAW;AACf,WAAO,eAAeD,UAAS,UAAU,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAOC,iBAAgB,QAAQ,EAAE;AAAA,IAAS,EAAE,CAAC;AAC7H,IAAAD,SAAQ,cAAc,IAAI,cAAc,QAAQ;AAAA;AAAA;;;ACXhD;AAAA,sDAAAE,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,OAAO;AACb,QAAM,gBAAgB;AACtB,QAAM,cAAc;AAUpB,QAAM,gBAAN,MAAoB;AAAA,MAChB,YAAY,SAAS;AACjB,YAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAChC,aAAK,MAAM;AACX,aAAK,OAAO;AACZ,aAAK,aAAa,CAAC;AACnB,aAAK,QAAQ,CAAC;AACd,aAAK,SAAS;AACd,aAAK,WAAW;AAChB,aAAK,SAAS;AACd,aAAK,SAAS,EAAE,eAAe,aAAa,WAAW,KAAK;AAC5D,aAAK,aAAa,EAAE,WAAW,KAAK;AACpC,aAAK,cAAc;AACnB,aAAK,OAAO;AACZ,aAAK,UAAU;AACf,aAAK,MAAM,QAAQ,IAAI,aAAa,KAAK,QAAQ,IAAI,YAAY,QAAQ,OAAO,SAAS,KAAK;AAC9F,aAAK,SAAS,GAAG,KAAK,QAAQ,KAAK,QAAQ,IAAI,YAAY,QAAQ,OAAO,SAAS,KAAK,IAAI,EAAE,mBAAmB,KAAK,CAAC;AACvH,aAAK,OAAO,QAAQ,IAAI;AACxB,aAAK,UAAU,KAAK,QAAQ,YAAY,QAAQ,OAAO,SAAS,KAAK,KAAK;AAG1E,aAAK,UAAU,kBAAkB,KAAK,QAAQ,aAAa,QAAQ,OAAO,SAAS,KAAK,CAAC,CAAC;AAC1F,gBAAQ,IAAI,QAAQ,KAAK,UAAU,QAAQ,QAAQ,IAAI,IAAI;AAC3D,mBAAW,OAAO,OAAO,KAAK,KAAK,OAAO,GAAG;AAGzC,gBAAM,SAAS,KAAK,QAAQ;AAC5B,qBAAW,SAAS,MAAM,QAAQ,MAAM,IAAI,SAAS,CAAC,MAAM,GAAG;AAC3D,iBAAK,WAAW,KAAK,GAAG;AACxB,iBAAK,WAAW,KAAK,KAAK;AAAA,UAC9B;AAAA,QACJ;AACA,aAAK,QAAQ,KAAK,QAAQ,IAAI,UAAU,QAAQ,OAAO,SAAS,KAAK,KAAK;AAC1E,aAAK,eAAe,KAAK,QAAQ,iBAAiB,QAAQ,OAAO,SAAS,KAAK,KAAK;AAKpF,aAAK,OAAO,gBAAiB,KAAK,UAAU,YAAY,aAAa,aAAa,KAC9E,KAAK,UAAU,YAAY,aAAa,UAAU,KAClD,KAAK,OAAO;AAChB,YAAI,QAAQ,IAAI,UAAU;AAEtB,eAAK,YAAY,KAAK,QAAQ,IAAI,cAAc,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,KAAK,EAAE;AAAA,QACvG,WACS,EAAE,GAAG,cAAc,SAAS,GAAG;AACpC,eAAK,WAAY,KAAK,UAAU,YAAY,aAAa,aAAa,KAClE,KAAK,UAAU,YAAY,aAAa,UAAU,KAClD;AAAA,QACR;AAGA,aAAK,SAAS,KAAK,aAAa;AAEhC,aAAK,OAAO,YAAY,KAAK;AAE7B,aAAK,WAAW,YAAY,KAAK;AACjC,aAAK,UAAU,OAAO,MAAM,KAAK,QAAQ,UAAU,QAAQ,OAAO,SAAS,KAAK,EAAE;AAAA,MACtF;AAAA,MAIA,gBAAgB;AACZ,eAAO,IAAI,cAAc,KAAK,OAAO;AAAA,MACzC;AAAA,MACA,UAAU,MAAM,OAAO;AACnB,aAAK,QAAQ,KAAK,YAAY,KAAK;AAAA,MACvC;AAAA,MACA,UAAU,MAAM;AACZ,eAAO,KAAK,QAAQ,KAAK,YAAY;AAAA,MACzC;AAAA,MACA,aAAa;AACT,eAAO,KAAK;AAAA,MAChB;AAAA,MACA,aAAa,MAAM;AACf,eAAO,KAAK,QAAQ,KAAK,YAAY;AAAA,MACzC;AAAA,MACA,IAAI,OAAO;AACP,eAAO,KAAK,QAAQ,SAAS,MAAM;AAAA,MACvC;AAAA,IACJ;AACA,IAAAA,SAAQ,UAAU;AAElB,aAAS,iBAAiB,SAAS;AAC/B,UAAI,SAAS,CAAC;AACd,eAAS,QAAQ,SAAS;AACtB,cAAM,SAAS,QAAQ;AACvB,eAAO,KAAK,YAAY,KACpB,MAAM,QAAQ,MAAM,KAAK,OAAO,WAAW,IAAI,OAAO,KAAK;AAAA,MACnE;AACA,aAAO;AAAA,IACX;AAAA;AAAA;;;ACzGA;AAAA,uDAAAC,UAAA;AAAA;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAM,WAAW,QAAQ;AAMzB,QAAM,iBAAN,MAAqB;AAAA,MACjB,YAAY,gBAAgB;AAExB,aAAK,SAAS,CAAC;AAEf,aAAK,gBAAgB,CAAC;AACtB,aAAK,WAAW,MAAM;AAAA,QAAE;AACxB,aAAK,QAAQ,MAAM;AAAA,QAAE;AACrB,aAAK,YAAY,MAAM;AAAA,QAAE;AACzB,aAAK,UAAU,MAAM;AAAA,QAAE;AACvB,aAAK,oBAAoB;AACzB,aAAK,UAAU;AACf,aAAK,mBAAmB;AACxB,aAAK,cAAc;AAGnB,aAAK,uBAAuB,MAAM;AAClC,aAAK,aAAa;AAClB,aAAK,gBAAgB;AACrB,aAAK,UAAU,CAAC;AAChB,aAAK,aAAa;AAClB,aAAK,gBAAgB,MAAM,MAAO;AAClC,aAAK,iBAAiB;AACtB,aAAK,eAAe;AACpB,aAAK,mBAAmB;AACxB,aAAK,iBAAiB;AAAA,MAC1B;AAAA,MACA,UAAU,MAAM,OAAO;AACnB,aAAK,QAAQ,KAAK,YAAY,KAAK;AAAA,MACvC;AAAA,MACA,aAAa,MAAM;AACf,eAAO,KAAK,QAAQ,KAAK,YAAY;AAAA,MACzC;AAAA,MACA,UAAU,MAAM;AACZ,eAAO,KAAK,QAAQ,KAAK,YAAY;AAAA,MACzC;AAAA,MACA,aAAa;AACT,eAAO,KAAK;AAAA,MAChB;AAAA,MACA,QAAQ;AACJ,aAAK,SAAS,CAAC;AACf,aAAK,aAAa;AAAA,MACtB;AAAA,MACA,aAAa;AACT,eAAO,CAAC,KAAK,kBAAkB,KAAK,aAAa,KAAK;AAAA,MAC1D;AAAA,MACA,MAAM,MAAM,OAAO;AAGf,YAAI,KAAK,OAAO,WAAW;AACvB,eAAK,gBAAgB,KAAK,aAAa,CAAC;AAC5C,aAAK,OAAO,KAAK,KAAK;AACtB,aAAK,aAAa,KAAM,MAAM,KAAK,SAAS;AAAA,MAChD;AAAA,MACA,MAAM,MAAM;AACR,aAAK,OAAO,KAAK,IAAI;AACrB,YAAI,KAAK,OAAO,WAAW,GAAG;AAE1B,eAAK,aAAa,KAAM,MAAM,KAAK,SAAS;AAAA,QAChD;AAAA,MACJ;AAAA,MACA,WAAW,OAAO;AACd,aAAK,UAAU;AAAA,MACnB;AAAA,MACA,WAAW,OAAO;AACd,aAAK,UAAU;AAAA,MACnB;AAAA,MAGA,gBAAgB,OAAO;AACnB,aAAK,iBAAiB;AAAA,MAC1B;AAAA,MACA,SAAS;AACL,aAAK,cAAc;AACnB,YAAI,CAAC,KAAK,mBAAmB;AACzB,eAAK,UAAU;AACf,eAAK,oBAAoB;AAAA,QAC7B;AACA,aAAK,OAAO,QAAQ,WAAS,KAAK,WAAW,KAAK,KAAK,CAAC;AACxD,aAAK,SAAS,CAAC;AAAA,MACnB;AAAA,MACA,MAAM,eAAe;AAEjB,eAAO,KAAK,cACN,IAAI,QAAQ,aAAW;AACrB,eAAK,UAAU;AAEf,eAAK,WAAW,QAAQ;AAAA,QAC5B,CAAC,IACC,QAAQ,QAAQ,IAAI;AAAA,MAC9B;AAAA,MACA,iBAAiB;AACb,YAAI,CAAC,KAAK,kBAAkB;AACxB,eAAK,mBAAmB;AACxB,eAAK,aAAa,IAAI,SAAS,OAAO,SAAS;AAAA,YAC3C,MAAM,MAAM;AAAA,YAEZ;AAAA,UACJ,CAAC;AACD,cAAI,UAAU,KAAK;AACnB,eAAK,YAAY,UAAU,QAAQ,KAAK,KAAK,OAAO;AACpD,eAAK,YAAY,UAAU,QAAQ,KAAK,KAAK,OAAO;AACpD,kBAAQ,KAAK,IAAI,SAAS,YAAY,EACjC,GAAG,QAAQ,WAAS;AACrB,gBAAI;AAIJ,aAAC,KAAK,KAAK,oBAAoB,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM,KAAK;AAC9E,gBAAI,CAAC,KAAK,gBAAgB;AACtB,mBAAK,cAAc,OAAO,WAAW,KAAK;AAG1C,mBAAK,aAAa,KAAK,iBAAiB,KAAK,cAAc,KAAK,KAAK;AAAA,YACzE;AAAA,UACJ,CAAC,EACI,GAAG,OAAO,MAAM;AACjB,gBAAI,KAAK,gBAAgB;AACrB,mBAAK,eAAe,IAAI;AAAA,YAC5B,OACK;AAED,kBAAI,KAAK,cAAc,SAAS,GAAG;AAC/B,oBAAI,KAAK,aAAa,KAAK,eAAe;AACtC,uBAAK,OAAO,OAAO,OAAO,KAAK,aAAa;AAAA,gBAChD,OACK;AACD,uBAAK,aAAa;AAClB,uBAAK,gBAAgB;AAAA,gBACzB;AAAA,cACJ;AAAA,YACJ;AAGA,iBAAK,cAAc,KAAK,IAAI;AAC5B,iBAAK,UAAU;AACf,iBAAK,QAAQ;AAGb,iBAAK,MAAM;AAAA,UACf,CAAC,CAAC;AAAA,QACN;AAAA,MACJ;AAAA,MAGA,gBAAgB,UAAU;AACtB,YAAI,OAAO,aAAa,WAAW;AAC/B,iBAAQ,KAAK,uBAAuB,MAAM;AAAA,QAC9C;AACA,aAAK,uBAAuB;AAAA,MAChC;AAAA,MAEA,eAAe;AACX,eAAO,KAAK,qBAAqB;AAAA,MACrC;AAAA,MAEA,YAAY,UAAU;AAClB,aAAK,WAAW;AAAA,MACpB;AAAA,MAEA,SAAS,UAAU;AACf,aAAK,QAAQ;AAAA,MACjB;AAAA,MACA,aAAa,UAAU;AACnB,aAAK,YAAY;AAAA,MACrB;AAAA,MAEA,UAAU;AACN,eAAO;AAAA,UACH,MAAM,KAAK;AAAA,UACX,YAAY,KAAK;AAAA,UACjB,eAAe,KAAK;AAAA,UACpB,SAAS,KAAK;AAAA,QAClB;AAAA,MACJ;AAAA,IACJ;AACA,IAAAA,SAAQ,UAAU;AAAA;AAAA;;;ACxLlB;AAAA,sCAAAC,UAAA;AAAA;AACA,QAAI,kBAAmBA,YAAQA,SAAK,oBAAqB,OAAO,SAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,UAAI,OAAO;AAAW,aAAK;AAC3B,UAAI,OAAO,OAAO,yBAAyB,GAAG,CAAC;AAC/C,UAAI,CAAC,SAAS,SAAS,OAAO,CAAC,EAAE,aAAa,KAAK,YAAY,KAAK,eAAe;AACjF,eAAO,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,iBAAO,EAAE;AAAA,QAAI,EAAE;AAAA,MAC9D;AACA,aAAO,eAAe,GAAG,IAAI,IAAI;AAAA,IACrC,IAAM,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,UAAI,OAAO;AAAW,aAAK;AAC3B,QAAE,MAAM,EAAE;AAAA,IACd;AACA,QAAI,eAAgBA,YAAQA,SAAK,gBAAiB,SAAS,GAAGA,UAAS;AACnE,eAAS,KAAK;AAAG,YAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAKA,UAAS,CAAC;AAAG,0BAAgBA,UAAS,GAAG,CAAC;AAAA,IAC5H;AACA,QAAIC,mBAAmBD,YAAQA,SAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAeA,UAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,IAAAA,SAAQ,iBAAiBA,SAAQ,gBAAgBA,SAAQ,cAAcA,SAAQ,QAAQA,SAAQ,MAAMA,SAAQ,KAAKA,SAAQ,MAAMA,SAAQ,YAAYA,SAAQ,SAAS;AACrK,QAAI,WAAW;AACf,WAAO,eAAeA,UAAS,UAAU,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAOC,iBAAgB,QAAQ,EAAE;AAAA,IAAS,EAAE,CAAC;AAC7H,iBAAa,qBAAwBD,QAAO;AAC5C,QAAI,WAAW;AACf,WAAO,eAAeA,UAAS,aAAa,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAO,SAAS;AAAA,IAAW,EAAE,CAAC;AACjH,QAAI,kBAAkB;AACtB,WAAO,eAAeA,UAAS,OAAO,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAO,gBAAgB;AAAA,IAAK,EAAE,CAAC;AAC5G,WAAO,eAAeA,UAAS,MAAM,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAO,gBAAgB;AAAA,IAAI,EAAE,CAAC;AAC1G,WAAO,eAAeA,UAAS,OAAO,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAO,gBAAgB;AAAA,IAAK,EAAE,CAAC;AAC5G,QAAI,UAAU;AACd,WAAO,eAAeA,UAAS,SAAS,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAOC,iBAAgB,OAAO,EAAE;AAAA,IAAS,EAAE,CAAC;AAC3H,QAAI,WAAW;AACf,WAAO,eAAeD,UAAS,eAAe,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAO,SAAS;AAAA,IAAa,EAAE,CAAC;AACrH,QAAI,kBAAkB;AACtB,WAAO,eAAeA,UAAS,iBAAiB,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAOC,iBAAgB,eAAe,EAAE;AAAA,IAAS,EAAE,CAAC;AAC3I,QAAI,mBAAmB;AACvB,WAAO,eAAeD,UAAS,kBAAkB,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAOC,iBAAgB,gBAAgB,EAAE;AAAA,IAAS,EAAE,CAAC;AAAA;AAAA;;;ACpC7I;AAAA;AAAA;AAAA;AAAA;AAEA,kBAAoC;AAEpC,IAAO,iBAAQ,IAAI,mBAAO,EAEvB,IAAI,WAAW,CAAC,EAAE,YAAY,MAAM,YAAY,YAAY,CAAC,EAC7D,IAAI,KAAK,CAAC,EAAE,YAAY,MAAM,YAAY,gBAAgB,CAAC,EAG3D,IAAI,uBAAW;",
  "names": ["exports", "exports", "exports", "module", "exports", "__importDefault", "exports", "__importDefault", "exports", "exports", "exports", "exports", "__importDefault", "value", "_a", "result", "exports", "i", "exports", "exports", "__importDefault", "exports", "__importDefault", "exports", "edgeJsCriteria", "matchers", "exports", "exports", "exports", "exports", "exports", "__importDefault", "exports", "exports", "origin", "exports", "__importDefault", "exports", "LogLevel", "exports", "exports", "exports", "exports", "__importDefault", "exports", "__importDefault", "exports", "__importDefault", "exports", "exports", "exports", "exports", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "concatty", "slicy", "Empty", "exports", "module", "exports", "module", "exports", "module", "undefined", "doEval", "stringToPath", "getBaseIntrinsic", "exports", "module", "applyBind", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "require_utils", "exports", "module", "compactQueue", "arrayToObject", "merge", "encode", "compact", "isRegExp", "isBuffer", "combine", "maybeMap", "exports", "module", "isNonNullishPrimitive", "stringify", "value", "normalizeStringifyOptions", "exports", "module", "normalizeParseOptions", "exports", "module", "exports", "exports", "exports", "__importDefault", "_a", "exports", "__importDefault", "exports", "exports", "__importDefault", "exports", "exports", "__importDefault", "exports", "__importDefault", "slash_1", "Router", "featureOrRouter", "path", "exports", "module", "exports", "exports", "__importDefault", "exports", "__importDefault", "exports", "exports", "exports", "__importDefault"]
}
